{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Paper,Typography,IconButton,Box,CircularProgress,Tooltip,Chip}from'@material-ui/core';import{PictureAsPdf,GetApp,Error as ErrorIcon,InsertDriveFile}from'@material-ui/icons';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({pdfContainer:{display:'flex',alignItems:'center',padding:theme.spacing(2),margin:theme.spacing(1,0),backgroundColor:theme.palette.background.paper,borderRadius:theme.shape.borderRadius,border:\"1px solid \".concat(theme.palette.divider),maxWidth:350,minWidth:280,cursor:'pointer',transition:'all 0.2s ease-in-out','&:hover':{backgroundColor:theme.palette.action.hover,transform:'translateY(-1px)',boxShadow:theme.shadows[4]}},pdfIcon:{fontSize:48,color:'#dc3545',// Cor vermelha do PDF\nmarginRight:theme.spacing(2),flexShrink:0},documentIcon:{fontSize:48,color:theme.palette.primary.main,marginRight:theme.spacing(2),flexShrink:0},pdfInfo:{flex:1,minWidth:0// Para permitir text overflow\n},pdfTitle:{fontWeight:600,fontSize:'0.9rem',marginBottom:theme.spacing(0.5),overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},pdfMeta:{display:'flex',alignItems:'center',gap:theme.spacing(1),marginBottom:theme.spacing(0.5),flexWrap:'wrap'},pdfSize:{fontSize:'0.75rem',color:theme.palette.text.secondary,fontWeight:500},pdfType:{fontSize:'0.7rem'},downloadButton:{marginLeft:theme.spacing(1),backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,'&:hover':{backgroundColor:theme.palette.primary.dark}},loadingContainer:{display:'flex',alignItems:'center',justifyContent:'center',padding:theme.spacing(2)},errorContainer:{display:'flex',alignItems:'center',padding:theme.spacing(2),color:theme.palette.error.main},errorIcon:{marginRight:theme.spacing(1)},statusIndicator:{display:'flex',alignItems:'center',gap:theme.spacing(0.5),marginTop:theme.spacing(0.5)}}));const PdfPreview=_ref=>{let{url,filename=\"documento.pdf\",size=null,onDownload=null,mediaType=null}=_ref;const classes=useStyles();const[loading,setLoading]=useState(true);const[error,setError]=useState(false);const[isPdfValid,setIsPdfValid]=useState(false);const[fileInfo,setFileInfo]=useState({name:filename,size:size,type:mediaType||'document'});useEffect(()=>{const loadFileInfo=async()=>{try{setLoading(true);// Verificar se Ã© realmente um PDF\nconst isPdf=checkIfPdf(url,filename,mediaType);setIsPdfValid(isPdf);// Extrair nome do arquivo da URL se nÃ£o fornecido adequadamente\nif(!filename||filename===\"documento.pdf\"||filename.length<3){try{const urlParts=url.split('/');const urlFilename=urlParts[urlParts.length-1];const decodedFilename=decodeURIComponent(urlFilename);if(decodedFilename&&decodedFilename.length>3){setFileInfo(prev=>_objectSpread(_objectSpread({},prev),{},{name:decodedFilename}));}}catch(parseError){console.warn('Erro ao extrair nome do arquivo:',parseError);}}setError(false);}catch(err){console.error('Erro ao carregar informaÃ§Ãµes do arquivo:',err);setError(true);}finally{setLoading(false);}};if(url){loadFileInfo();}else{setLoading(false);setError(true);}},[url,filename,size,mediaType]);// Verificar se Ã© PDF com base em mÃºltiplos critÃ©rios\nconst checkIfPdf=(url,filename,mediaType)=>{// 1. Verificar pelo mediaType\nif(mediaType===\"application\"||mediaType===\"document\"||mediaType===\"application/pdf\"){return true;}// 2. Verificar pela extensÃ£o no filename\nif(filename&&typeof filename==='string'){const name=filename.toLowerCase();if(name.endsWith('.pdf')){return true;}}// 3. Verificar pela URL\nif(url&&typeof url==='string'){const urlLower=url.toLowerCase();if(urlLower.includes('.pdf')){return true;}}return false;};const formatFileSize=bytes=>{if(!bytes)return'';const units=['B','KB','MB','GB'];let size=bytes;let unitIndex=0;while(size>=1024&&unitIndex<units.length-1){size/=1024;unitIndex++;}return\"\".concat(size.toFixed(size<10?1:0),\" \").concat(units[unitIndex]);};const getFileExtension=filename=>{if(!filename)return'';const parts=filename.split('.');return parts.length>1?parts[parts.length-1].toUpperCase():'DOC';};const handleDownload=event=>{event.stopPropagation();if(onDownload){onDownload(url,fileInfo.name);}else{// Download padrÃ£o\ntry{const link=document.createElement('a');link.href=url;link.download=fileInfo.name;link.target='_blank';link.rel='noopener noreferrer';document.body.appendChild(link);link.click();document.body.removeChild(link);}catch(error){console.error('Erro no download:',error);// Fallback: abrir em nova aba\nwindow.open(url,'_blank','noopener,noreferrer');}}};const handleContainerClick=()=>{// Ao clicar no container, faz download diretamente\nhandleDownload({stopPropagation:()=>{}});};if(loading){return/*#__PURE__*/_jsx(Paper,{className:classes.pdfContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.loadingContainer,children:[/*#__PURE__*/_jsx(CircularProgress,{size:20}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{marginLeft:8},children:\"Carregando...\"})]})});}if(error){return/*#__PURE__*/_jsx(Paper,{className:classes.pdfContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.errorContainer,children:[/*#__PURE__*/_jsx(ErrorIcon,{className:classes.errorIcon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Erro ao carregar arquivo\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:fileInfo.name})]})]})});}return/*#__PURE__*/_jsxs(Paper,{className:classes.pdfContainer,onClick:handleContainerClick,elevation:1,children:[isPdfValid?/*#__PURE__*/_jsx(PictureAsPdf,{className:classes.pdfIcon}):/*#__PURE__*/_jsx(InsertDriveFile,{className:classes.documentIcon}),/*#__PURE__*/_jsxs(\"div\",{className:classes.pdfInfo,children:[/*#__PURE__*/_jsx(Typography,{className:classes.pdfTitle,title:fileInfo.name,children:fileInfo.name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.pdfMeta,children:[/*#__PURE__*/_jsx(Chip,{label:isPdfValid?'PDF':getFileExtension(fileInfo.name),size:\"small\",className:classes.pdfType,color:isPdfValid?'secondary':'default'}),fileInfo.size&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",className:classes.pdfSize,children:formatFileSize(fileInfo.size)})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.statusIndicator,children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"\\uD83D\\uDCCE Clique para baixar\"})})]}),/*#__PURE__*/_jsx(Tooltip,{title:\"Baixar arquivo\",children:/*#__PURE__*/_jsx(IconButton,{className:classes.downloadButton,onClick:handleDownload,size:\"small\",children:/*#__PURE__*/_jsx(GetApp,{})})})]});};export default PdfPreview;","map":{"version":3,"names":["React","useState","useEffect","Paper","Typography","IconButton","Box","CircularProgress","Tooltip","Chip","PictureAsPdf","GetApp","Error","ErrorIcon","InsertDriveFile","makeStyles","jsx","_jsx","jsxs","_jsxs","useStyles","theme","pdfContainer","display","alignItems","padding","spacing","margin","backgroundColor","palette","background","paper","borderRadius","shape","border","concat","divider","maxWidth","minWidth","cursor","transition","action","hover","transform","boxShadow","shadows","pdfIcon","fontSize","color","marginRight","flexShrink","documentIcon","primary","main","pdfInfo","flex","pdfTitle","fontWeight","marginBottom","overflow","textOverflow","whiteSpace","pdfMeta","gap","flexWrap","pdfSize","text","secondary","pdfType","downloadButton","marginLeft","contrastText","dark","loadingContainer","justifyContent","errorContainer","error","errorIcon","statusIndicator","marginTop","PdfPreview","_ref","url","filename","size","onDownload","mediaType","classes","loading","setLoading","setError","isPdfValid","setIsPdfValid","fileInfo","setFileInfo","name","type","loadFileInfo","isPdf","checkIfPdf","length","urlParts","split","urlFilename","decodedFilename","decodeURIComponent","prev","_objectSpread","parseError","console","warn","err","toLowerCase","endsWith","urlLower","includes","formatFileSize","bytes","units","unitIndex","toFixed","getFileExtension","parts","toUpperCase","handleDownload","event","stopPropagation","link","document","createElement","href","download","target","rel","body","appendChild","click","removeChild","window","open","handleContainerClick","className","children","variant","style","onClick","elevation","title","label"],"sources":["/home/deploy/atendechatop/frontend/src/components/PdfPreview/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Paper, \n  Typography, \n  IconButton, \n  Box,\n  CircularProgress,\n  Tooltip,\n  Chip\n} from '@material-ui/core';\nimport { \n  PictureAsPdf,\n  GetApp,\n  Error as ErrorIcon,\n  InsertDriveFile\n} from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  pdfContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n    margin: theme.spacing(1, 0),\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: theme.shape.borderRadius,\n    border: `1px solid ${theme.palette.divider}`,\n    maxWidth: 350,\n    minWidth: 280,\n    cursor: 'pointer',\n    transition: 'all 0.2s ease-in-out',\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      transform: 'translateY(-1px)',\n      boxShadow: theme.shadows[4],\n    }\n  },\n  \n  pdfIcon: {\n    fontSize: 48,\n    color: '#dc3545', // Cor vermelha do PDF\n    marginRight: theme.spacing(2),\n    flexShrink: 0,\n  },\n  \n  documentIcon: {\n    fontSize: 48,\n    color: theme.palette.primary.main,\n    marginRight: theme.spacing(2),\n    flexShrink: 0,\n  },\n  \n  pdfInfo: {\n    flex: 1,\n    minWidth: 0, // Para permitir text overflow\n  },\n  \n  pdfTitle: {\n    fontWeight: 600,\n    fontSize: '0.9rem',\n    marginBottom: theme.spacing(0.5),\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  \n  pdfMeta: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n    marginBottom: theme.spacing(0.5),\n    flexWrap: 'wrap',\n  },\n  \n  pdfSize: {\n    fontSize: '0.75rem',\n    color: theme.palette.text.secondary,\n    fontWeight: 500,\n  },\n  \n  pdfType: {\n    fontSize: '0.7rem',\n  },\n  \n  downloadButton: {\n    marginLeft: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark,\n    }\n  },\n  \n  loadingContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: theme.spacing(2),\n  },\n  \n  errorContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n    color: theme.palette.error.main,\n  },\n  \n  errorIcon: {\n    marginRight: theme.spacing(1),\n  },\n  \n  statusIndicator: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(0.5),\n    marginTop: theme.spacing(0.5),\n  }\n}));\n\nconst PdfPreview = ({ \n  url, \n  filename = \"documento.pdf\", \n  size = null,\n  onDownload = null,\n  mediaType = null\n}) => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [isPdfValid, setIsPdfValid] = useState(false);\n  const [fileInfo, setFileInfo] = useState({\n    name: filename,\n    size: size,\n    type: mediaType || 'document'\n  });\n\n  useEffect(() => {\n    const loadFileInfo = async () => {\n      try {\n        setLoading(true);\n        \n        // Verificar se Ã© realmente um PDF\n        const isPdf = checkIfPdf(url, filename, mediaType);\n        setIsPdfValid(isPdf);\n        \n        // Extrair nome do arquivo da URL se nÃ£o fornecido adequadamente\n        if (!filename || filename === \"documento.pdf\" || filename.length < 3) {\n          try {\n            const urlParts = url.split('/');\n            const urlFilename = urlParts[urlParts.length - 1];\n            const decodedFilename = decodeURIComponent(urlFilename);\n            \n            if (decodedFilename && decodedFilename.length > 3) {\n              setFileInfo(prev => ({\n                ...prev,\n                name: decodedFilename\n              }));\n            }\n          } catch (parseError) {\n            console.warn('Erro ao extrair nome do arquivo:', parseError);\n          }\n        }\n        \n        setError(false);\n      } catch (err) {\n        console.error('Erro ao carregar informaÃ§Ãµes do arquivo:', err);\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (url) {\n      loadFileInfo();\n    } else {\n      setLoading(false);\n      setError(true);\n    }\n  }, [url, filename, size, mediaType]);\n\n  // Verificar se Ã© PDF com base em mÃºltiplos critÃ©rios\n  const checkIfPdf = (url, filename, mediaType) => {\n    // 1. Verificar pelo mediaType\n    if (mediaType === \"application\" || mediaType === \"document\" || mediaType === \"application/pdf\") {\n      return true;\n    }\n\n    // 2. Verificar pela extensÃ£o no filename\n    if (filename && typeof filename === 'string') {\n      const name = filename.toLowerCase();\n      if (name.endsWith('.pdf')) {\n        return true;\n      }\n    }\n\n    // 3. Verificar pela URL\n    if (url && typeof url === 'string') {\n      const urlLower = url.toLowerCase();\n      if (urlLower.includes('.pdf')) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  const formatFileSize = (bytes) => {\n    if (!bytes) return '';\n    \n    const units = ['B', 'KB', 'MB', 'GB'];\n    let size = bytes;\n    let unitIndex = 0;\n    \n    while (size >= 1024 && unitIndex < units.length - 1) {\n      size /= 1024;\n      unitIndex++;\n    }\n    \n    return `${size.toFixed(size < 10 ? 1 : 0)} ${units[unitIndex]}`;\n  };\n\n  const getFileExtension = (filename) => {\n    if (!filename) return '';\n    const parts = filename.split('.');\n    return parts.length > 1 ? parts[parts.length - 1].toUpperCase() : 'DOC';\n  };\n\n  const handleDownload = (event) => {\n    event.stopPropagation();\n    \n    if (onDownload) {\n      onDownload(url, fileInfo.name);\n    } else {\n      // Download padrÃ£o\n      try {\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = fileInfo.name;\n        link.target = '_blank';\n        link.rel = 'noopener noreferrer';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } catch (error) {\n        console.error('Erro no download:', error);\n        // Fallback: abrir em nova aba\n        window.open(url, '_blank', 'noopener,noreferrer');\n      }\n    }\n  };\n\n  const handleContainerClick = () => {\n    // Ao clicar no container, faz download diretamente\n    handleDownload({ stopPropagation: () => {} });\n  };\n\n  if (loading) {\n    return (\n      <Paper className={classes.pdfContainer}>\n        <div className={classes.loadingContainer}>\n          <CircularProgress size={20} />\n          <Typography variant=\"body2\" style={{ marginLeft: 8 }}>\n            Carregando...\n          </Typography>\n        </div>\n      </Paper>\n    );\n  }\n\n  if (error) {\n    return (\n      <Paper className={classes.pdfContainer}>\n        <div className={classes.errorContainer}>\n          <ErrorIcon className={classes.errorIcon} />\n          <div>\n            <Typography variant=\"body2\">\n              Erro ao carregar arquivo\n            </Typography>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {fileInfo.name}\n            </Typography>\n          </div>\n        </div>\n      </Paper>\n    );\n  }\n\n  return (\n    <Paper \n      className={classes.pdfContainer}\n      onClick={handleContainerClick}\n      elevation={1}\n    >\n      {isPdfValid ? (\n        <PictureAsPdf className={classes.pdfIcon} />\n      ) : (\n        <InsertDriveFile className={classes.documentIcon} />\n      )}\n      \n      <div className={classes.pdfInfo}>\n        <Typography className={classes.pdfTitle} title={fileInfo.name}>\n          {fileInfo.name}\n        </Typography>\n        \n        <div className={classes.pdfMeta}>\n          <Chip \n            label={isPdfValid ? 'PDF' : getFileExtension(fileInfo.name)}\n            size=\"small\"\n            className={classes.pdfType}\n            color={isPdfValid ? 'secondary' : 'default'}\n          />\n          \n          {fileInfo.size && (\n            <Typography variant=\"caption\" className={classes.pdfSize}>\n              {formatFileSize(fileInfo.size)}\n            </Typography>\n          )}\n        </div>\n        \n        <div className={classes.statusIndicator}>\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            ðŸ“Ž Clique para baixar\n          </Typography>\n        </div>\n      </div>\n      \n      <Tooltip title=\"Baixar arquivo\">\n        <IconButton\n          className={classes.downloadButton}\n          onClick={handleDownload}\n          size=\"small\"\n        >\n          <GetApp />\n        </IconButton>\n      </Tooltip>\n    </Paper>\n  );\n};\n\nexport default PdfPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}