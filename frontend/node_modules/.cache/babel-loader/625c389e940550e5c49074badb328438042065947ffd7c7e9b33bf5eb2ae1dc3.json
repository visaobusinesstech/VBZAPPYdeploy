{"ast":null,"code":"import _objectWithoutProperties from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"children\",\"value\",\"index\"];import React,{useEffect,useState,useContext}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import CloseIcon from\"@material-ui/icons/Close\";import Drawer from\"@material-ui/core/Drawer\";import Link from\"@material-ui/core/Link\";import InputLabel from\"@material-ui/core/InputLabel\";import Button from\"@material-ui/core/Button\";import Paper from\"@material-ui/core/Paper\";import GroupIcon from\"@material-ui/icons/Group\";import PermIdentityIcon from'@material-ui/icons/PermIdentity';import PersonIcon from\"@material-ui/icons/Person\";import CreateIcon from'@material-ui/icons/Create';import SearchIcon from'@material-ui/icons/Search';import ClearIcon from'@material-ui/icons/Clear';import BlockIcon from'@material-ui/icons/Block';import LockOpenIcon from'@material-ui/icons/LockOpen';import Avatar from'@material-ui/core/Avatar';import formatSerializedId from'../../utils/formatSerializedId';import{i18n}from\"../../translate/i18n\";import ModalImageCors from\"../ModalImageCors\";import ContactDrawerSkeleton from\"../ContactDrawerSkeleton\";import MarkdownWrapper from\"../MarkdownWrapper\";import{Badge,CardHeader,Switch,Tooltip,Tabs,Tab,Box,List,ListItem,ListItemAvatar,ListItemText,ListItemIcon,ListItemSecondaryAction,Divider,CircularProgress,Grid,Chip,TextField,InputAdornment,Collapse,Dialog,DialogContent,useMediaQuery}from\"@material-ui/core\";import{useTheme}from\"@material-ui/core/styles\";import{ContactForm}from\"../ContactForm\";import ContactModal from\"../ContactModal\";import{ContactNotes}from\"../ContactNotes\";import ImageIcon from'@material-ui/icons/Image';import VideocamIcon from'@material-ui/icons/Videocam';import AudiotrackIcon from'@material-ui/icons/Audiotrack';import InsertDriveFileIcon from'@material-ui/icons/InsertDriveFile';import LinkIcon from'@material-ui/icons/Link';import InfoIcon from'@material-ui/icons/Info';import MessageIcon from'@material-ui/icons/Message';import{AuthContext}from\"../../context/Auth/AuthContext\";import useCompanySettings from\"../../hooks/useSettings/companySettings\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";import{toast}from\"react-toastify\";import{TagsKanbanContainer}from\"../TagsKanbanContainer\";import NewTicketModal from\"../NewTicketModal\";import ChatIcon from'@material-ui/icons/Chat';import{useHistory}from\"react-router-dom\";import ShowTicketOpenModal from\"../ShowTicketOpenModal\";import GetAppIcon from'@material-ui/icons/GetApp';import*as XLSX from\"xlsx\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const drawerWidth=320;const useStyles=makeStyles(theme=>({drawer:{width:drawerWidth,flexShrink:0,zIndex:\"auto\"// Z-index menor que modais mas maior que conteúdo normal\n},tabChip:{minHeight:16,height:16,fontSize:\"0.7rem\",backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,marginLeft:4},drawerPaper:{width:drawerWidth,display:\"flex\",flexDirection:\"column\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",borderRight:\"1px solid rgba(0, 0, 0, 0.12)\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",borderTopRightRadius:4,borderBottomRightRadius:4,height:\"100%\",overflow:\"hidden\",// Importante para evitar overflow no drawer principal\n[theme.breakpoints.down('sm')]:{width:\"100%\",// No mobile, usar largura total\nborderRadius:0// Sem bordas arredondadas no mobile\n}},header:{display:\"flex\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:theme.palette.inputBackground,alignItems:\"center\",padding:theme.spacing(0,1),minHeight:\"50px\",justifyContent:\"flex-start\",flexShrink:0,position:\"relative\",zIndex:1},// headerTitle: {\n// \tflexGrow: 1,\n// \ttextAlign: \"center\",\n// \tcolor: theme.palette.text.primary,\n// \tfontWeight: 600,\n// \twhiteSpace: \"nowrap\",\n// \toverflow: \"hidden\",\n// \ttextOverflow: \"ellipsis\",\n// },\nprofileSection:{flexShrink:0,backgroundColor:theme.palette.inputBackground},searchContainer:{padding:theme.spacing(1,2),backgroundColor:theme.palette.background.paper,borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",flexShrink:0},searchField:{\"& .MuiOutlinedInput-root\":{height:40}},searchResults:_objectSpread({maxHeight:200,overflow:\"auto\"},theme.scrollbarStyles),searchResultItem:{padding:theme.spacing(1),cursor:\"pointer\",\"&:hover\":{backgroundColor:theme.palette.action.hover},borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\"},searchResultText:{fontSize:\"0.85rem\",\"& mark\":{backgroundColor:theme.palette.primary.light,color:theme.palette.primary.contrastText,padding:\"0 2px\",borderRadius:2}},searchResultDate:{fontSize:\"0.75rem\",color:theme.palette.text.secondary,marginTop:4},emptySearchState:{textAlign:\"center\",padding:theme.spacing(2),color:theme.palette.text.secondary,fontSize:\"0.85rem\"},tabsContainer:{borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:theme.palette.background.paper,flexShrink:0},contentWrapper:{display:\"flex\",flexDirection:\"column\",height:\"calc(100% - 50px)\",overflow:\"hidden\"},scrollableContent:{flex:1,overflow:\"hidden\",display:\"flex\",flexDirection:\"column\"},tabPanel:_objectSpread(_objectSpread({flex:1,overflow:\"auto\",padding:theme.spacing(1)},theme.scrollbarStyles),{},{// Garantir que cada tab panel tenha rolagem independente\nheight:\"100%\",maxHeight:\"100%\"}),// Avatar redondo e menor\ncontactAvatar:{width:80,height:80,borderRadius:\"50%\",margin:theme.spacing(1),border:\"2px solid \".concat(theme.palette.primary.main),cursor:\"pointer\",// Adicionar cursor pointer\n\"&:hover\":{opacity:0.8}},contactHeader:{display:\"flex\",padding:theme.spacing(1),flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",\"& > *\":{margin:theme.spacing(0.5)}},contactDetails:{marginTop:8,padding:8,display:\"flex\",flexDirection:\"column\"},contactExtraInfo:{marginTop:4,padding:6},switchContainer:{padding:theme.spacing(1,2),backgroundColor:theme.palette.background.paper,marginBottom:theme.spacing(1),flexShrink:0},mediaGrid:{padding:theme.spacing(1)},mediaItem:{cursor:\"pointer\",transition:\"transform 0.2s\",\"&:hover\":{transform:\"scale(1.05)\"},borderRadius:theme.spacing(1),overflow:\"hidden\",height:100,backgroundColor:theme.palette.action.hover,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},mediaThumbnail:{width:\"100%\",height:\"100%\",objectFit:\"cover\"},mediaIcon:{fontSize:40,color:theme.palette.text.secondary},loadingContainer:{display:\"flex\",justifyContent:\"center\",padding:theme.spacing(3)},emptyState:{textAlign:\"center\",padding:theme.spacing(3),color:theme.palette.text.secondary},linkItem:{padding:theme.spacing(1),\"&:hover\":{backgroundColor:theme.palette.action.hover},borderRadius:theme.spacing(0.5),marginBottom:theme.spacing(0.5)},// Novos estilos para os ícones de ação\ncontactActions:{display:\"flex\",flexDirection:\"row\",gap:theme.spacing(1),marginTop:theme.spacing(1),justifyContent:\"center\"},actionIcon:{backgroundColor:theme.palette.background.paper,border:\"1px solid \".concat(theme.palette.divider),\"&:hover\":{backgroundColor:theme.palette.action.hover}},editIcon:{color:theme.palette.primary.main},blockIcon:{color:theme.palette.error.main},unblockIcon:{color:theme.palette.success.main},tabIcon:{minHeight:48,minWidth:'auto',padding:theme.spacing(0.5,1)},// Garantir que o CardHeader não cause overflow\ncontactCardHeader:{width:'100%',padding:theme.spacing(1)},participantsList:{padding:0},participantItem:{paddingLeft:theme.spacing(1),paddingRight:theme.spacing(1),marginBottom:theme.spacing(0.5),borderRadius:theme.spacing(1),\"&:hover\":{backgroundColor:theme.palette.action.hover}},participantAvatar:{width:45,height:45},adminIcon:{color:theme.palette.warning.main,fontSize:16,backgroundColor:theme.palette.background.paper,borderRadius:\"50%\",padding:2},superAdminIcon:{color:theme.palette.error.main,fontSize:16,backgroundColor:theme.palette.background.paper,borderRadius:\"50%\",padding:2},adminChip:{backgroundColor:theme.palette.warning.light,color:theme.palette.warning.contrastText,fontSize:\"0.7rem\"},superAdminChip:{backgroundColor:theme.palette.error.light,color:theme.palette.error.contrastText,fontSize:\"0.7rem\"},// Estilos para o modal da imagem\nimageModal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},imageModalContent:{outline:\"none\",maxWidth:\"90vw\",maxHeight:\"90vh\"},expandedImage:{width:\"100%\",height:\"auto\",maxWidth:\"500px\",borderRadius:theme.spacing(1)},exportButton:{marginLeft:theme.spacing(2),textTransform:\"none\"},exportButtonContainer:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:theme.spacing(2)}}));function TabPanel(props){var _props$classes;const{children,value,index}=props,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({role:\"tabpanel\",hidden:value!==index,id:\"contact-tabpanel-\".concat(index),\"aria-labelledby\":\"contact-tab-\".concat(index),style:{height:\"100%\",display:value===index?\"flex\":\"none\",flexDirection:\"column\",overflow:\"hidden\"}},other),{},{children:value===index&&/*#__PURE__*/_jsx(\"div\",{className:(_props$classes=props.classes)===null||_props$classes===void 0?void 0:_props$classes.tabPanel,style:{flex:1,overflow:\"auto\"},children:children})}));}const ContactDrawer=_ref=>{var _contact$name,_contact$name$charAt,_contact$extraInfo;let{open,handleDrawerClose,contact,ticket,loading}=_ref;const classes=useStyles();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const history=useHistory();const[modalOpen,setModalOpen]=useState(false);const[blockingContact,setBlockingContact]=useState(contact.active);const[openForm,setOpenForm]=useState(false);const[tabValue,setTabValue]=useState(0);const[mediaData,setMediaData]=useState({images:[],videos:[],audios:[],documents:[],links:[]});const[loadingMedia,setLoadingMedia]=useState(false);const{get}=useCompanySettings();const[hideNum,setHideNum]=useState(false);const{user}=useContext(AuthContext);const[acceptAudioMessage,setAcceptAudio]=useState(contact.acceptAudioMessage);const[imageModalOpen,setImageModalOpen]=useState(false);// Estado para o modal da imagem\nconst[newTicketModalOpen,setNewTicketModalOpen]=useState(false);const[participantInitialContact,setParticipantInitialContact]=useState(undefined);const[openTicketAlert,setOpenTicketAlert]=useState(false);const[openTicketInfo,setOpenTicketInfo]=useState({user:\"\",queue:\"\"});const[participants,setParticipants]=useState([]);const[loadingParticipants,setLoadingParticipants]=useState(false);// Estados para pesquisa\nconst[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[searchLoading,setSearchLoading]=useState(false);const[showSearchResults,setShowSearchResults]=useState(false);const[searchTimeout,setSearchTimeout]=useState(null);// Função para buscar participantes do grupo\nconst fetchGroupParticipants=async()=>{if(!contact.isGroup)return;setLoadingParticipants(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/participants\"));setParticipants(data);}catch(err){console.error(\"Erro ao buscar participantes do grupo:\",err);toastError(\"Erro ao carregar participantes do grupo\");setParticipants([]);}finally{setLoadingParticipants(false);}};useEffect(()=>{async function fetchData(){const lgpdHideNumber=await get({\"column\":\"lgpdHideNumber\"});if(lgpdHideNumber===\"enabled\")setHideNum(true);}fetchData();},[]);useEffect(()=>{setAcceptAudio(contact.acceptAudioMessage);setOpenForm(false);setTabValue(0);// Limpar pesquisa ao trocar de contato\nsetSearchTerm(\"\");setSearchResults([]);setShowSearchResults(false);setParticipants([]);// Limpar participantes\nif(open&&contact.id){fetchMediaData();// Buscar participantes apenas se for um grupo\nif(contact.isGroup){fetchGroupParticipants();}}},[open,contact]);// Função para abrir modal da imagem\nconst handleImageClick=()=>{if(contact!==null&&contact!==void 0&&contact.urlPicture){setImageModalOpen(true);}};// Função para fechar modal da imagem\nconst handleImageModalClose=()=>{setImageModalOpen(false);};// Função para buscar mensagens\nconst searchMessages=async searchParam=>{if(!searchParam||searchParam.trim().length<2){setSearchResults([]);setShowSearchResults(false);return;}setSearchLoading(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/messages/search\"),{params:{searchParam:searchParam.trim()}});setSearchResults(data.messages||[]);setShowSearchResults(true);}catch(err){console.error(\"Erro ao buscar mensagens:\",err);toastError(err);setSearchResults([]);}finally{setSearchLoading(false);}};// Handler para mudança no campo de pesquisa com debounce\nconst handleSearchChange=event=>{const value=event.target.value;setSearchTerm(value);// Clear timeout anterior\nif(searchTimeout){clearTimeout(searchTimeout);}// Definir novo timeout para debounce\nconst newTimeout=setTimeout(()=>{searchMessages(value);},500);setSearchTimeout(newTimeout);};// Limpar pesquisa\nconst clearSearch=()=>{setSearchTerm(\"\");setSearchResults([]);setShowSearchResults(false);if(searchTimeout){clearTimeout(searchTimeout);}};// Destacar texto na pesquisa\nconst highlightSearchTerm=text=>{if(!searchTerm||!text)return text;const regex=new RegExp(\"(\".concat(searchTerm,\")\"),'gi');return text.replace(regex,'<mark>$1</mark>');};// Navegar para mensagem (placeholder - implementar conforme necessário)\nconst handleGoToMessage=message=>{// Aqui você pode implementar a navegação para a mensagem específica\nconsole.log(\"Navegar para mensagem:\",message);toast.info(\"Mensagem encontrada: \".concat(message.body.substring(0,50),\"...\"));setShowSearchResults(false);};const fetchMediaData=async()=>{setLoadingMedia(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/media\"));// Garantir que as URLs das mídias estejam corretas\nconst processedData={images:data.images.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),videos:data.videos.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),audios:data.audios.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),documents:data.documents.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),links:data.links};setMediaData(processedData);}catch(err){var _err$response,_err$config;console.error('Erro ao buscar mídias do contato:',{status:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status,url:err===null||err===void 0?void 0:(_err$config=err.config)===null||_err$config===void 0?void 0:_err$config.url,message:err===null||err===void 0?void 0:err.message});toastError(err);setMediaData({images:[],videos:[],audios:[],documents:[],links:[]});}finally{setLoadingMedia(false);}};const renderParticipants=()=>{if(loadingParticipants){return/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{size:40})});}if(participants.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum participante encontrado\"})});}return/*#__PURE__*/_jsx(List,{className:classes.participantsList,children:participants.map(participant=>{var _participant$name,_participant$name$cha;return/*#__PURE__*/_jsxs(ListItem,{className:classes.participantItem,button:true,onClick:()=>handleOpenChatWithParticipant(participant),children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Badge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},badgeContent:participant.isSuperAdmin?/*#__PURE__*/_jsx(PermIdentityIcon,{className:classes.superAdminIcon}):participant.isAdmin?/*#__PURE__*/_jsx(PermIdentityIcon,{className:classes.adminIcon}):null,children:/*#__PURE__*/_jsx(Avatar,{src:participant.profilePicUrl,alt:participant.name,className:classes.participantAvatar,children:(_participant$name=participant.name)===null||_participant$name===void 0?void 0:(_participant$name$cha=_participant$name.charAt(0))===null||_participant$name$cha===void 0?void 0:_participant$name$cha.toUpperCase()})})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",noWrap:true,children:participant.name}),secondary:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",noWrap:true,children:formatSerializedId(participant.number)})}),/*#__PURE__*/_jsxs(ListItemSecondaryAction,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"end\",size:\"small\",\"aria-label\":\"Conversar\",onClick:e=>{e.stopPropagation();handleOpenChatWithParticipant(participant);},children:/*#__PURE__*/_jsx(ChatIcon,{})}),participant.isSuperAdmin&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:\"Super Admin\",className:classes.superAdminChip,icon:/*#__PURE__*/_jsx(PermIdentityIcon,{})}),participant.isAdmin&&!participant.isSuperAdmin&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:\"Admin\",className:classes.adminChip,icon:/*#__PURE__*/_jsx(PersonIcon,{})})]})]},participant.id);})});};// Abrir modal de conversa com participante\nconst handleOpenChatWithParticipant=async participant=>{try{var _profile$data;// Buscar contato pelo número; se não existir, criar\nconst profile=await api.get(\"/contacts/profile/\".concat(participant.number));let contactId=(profile===null||profile===void 0?void 0:(_profile$data=profile.data)===null||_profile$data===void 0?void 0:_profile$data.contactId)||0;if(!contactId||contactId===0){var _createResp$data;const createResp=await api.post('/contacts',{name:participant.name||participant.number,number:participant.number});contactId=createResp===null||createResp===void 0?void 0:(_createResp$data=createResp.data)===null||_createResp$data===void 0?void 0:_createResp$data.id;}if(contactId){// Verificar se já existe ticket aberto para este contato\ntry{var _ticketsResponse$data,_ticketsResponse$data2;// Buscar todos os tickets abertos (open, pending, chatbot)\nconst ticketsResponse=await api.get('/tickets',{params:{pageNumber:\"1\"}});// Procurar ticket existente para este contato\nconst existingTicket=(_ticketsResponse$data=ticketsResponse.data)===null||_ticketsResponse$data===void 0?void 0:(_ticketsResponse$data2=_ticketsResponse$data.tickets)===null||_ticketsResponse$data2===void 0?void 0:_ticketsResponse$data2.find(ticket=>ticket.contactId===contactId&&[\"open\",\"pending\",\"chatbot\"].includes(ticket.status));if(existingTicket){// Ticket já existe - verificar se pertence a outro usuário\nif(existingTicket.userId!==user.id){var _existingTicket$user,_existingTicket$queue;setOpenTicketInfo({user:((_existingTicket$user=existingTicket.user)===null||_existingTicket$user===void 0?void 0:_existingTicket$user.name)||\"Outro usuário\",queue:((_existingTicket$queue=existingTicket.queue)===null||_existingTicket$queue===void 0?void 0:_existingTicket$queue.name)||\"Sem fila\"});setOpenTicketAlert(true);return;}else{// Ticket existe e pertence ao próprio usuário\n// Navegar para o ticket existente\nhandleTicketCreated(existingTicket);return;}}}catch(checkError){console.error('Erro ao verificar tickets existentes:',checkError);toastError('Erro ao verificar tickets existentes');return;}// Se chegou aqui, pode abrir o modal para criar ticket\nsetParticipantInitialContact({id:contactId,name:participant.name,number:participant.number});setNewTicketModalOpen(true);}}catch(err){console.error('Erro ao abrir conversa com participante:',err);toastError('Não foi possível iniciar a conversa com este participante');}};// Handler para quando o ticket for criado\nconst handleTicketCreated=ticket=>{setNewTicketModalOpen(false);if(ticket&&(ticket.uuid||ticket.id)){const target=ticket.uuid?\"/tickets/\".concat(ticket.uuid):\"/tickets/\".concat(ticket.id);history.push(target);}};// Função para exportar participantes para Excel\nconst handleExportParticipants=()=>{if(participants.length===0){toast.error(\"Não há participantes para exportar\");return;}try{// Preparar dados para exportação\nconst exportData=participants.map((participant,index)=>({\"#\":index+1,\"Nome\":participant.name||\"Sem nome\",\"Número\":formatSerializedId(participant.number),\"Role\":participant.isSuperAdmin?\"Super Admin\":participant.isAdmin?\"Admin\":\"Participante\"}));// Criar workbook e worksheet\nconst wb=XLSX.utils.book_new();const ws=XLSX.utils.json_to_sheet(exportData);// Ajustar largura das colunas\nconst colWidths=[{wch:5},// #\n{wch:30},// Nome\n{wch:20},// Número\n{wch:15}// Role\n];ws['!cols']=colWidths;// Adicionar worksheet ao workbook\nXLSX.utils.book_append_sheet(wb,ws,\"Participantes\");// Gerar nome do arquivo com o nome do grupo e data\nconst groupName=contact.name||\"Grupo\";const fileName=\"Participantes_\".concat(groupName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");// Fazer download do arquivo\nXLSX.writeFile(wb,fileName);toast.success(\"Arquivo \\\"\".concat(fileName,\"\\\" exportado com sucesso!\"));}catch(err){console.error(\"Erro ao exportar participantes:\",err);toastError(\"Erro ao exportar participantes\");}};const handleContactToggleAcceptAudio=async()=>{try{const contact=await api.put(\"/contacts/toggleAcceptAudio/\".concat(ticket.contact.id));setAcceptAudio(contact.data.acceptAudioMessage);}catch(err){toastError(err);}};const handleBlockContact=async contactId=>{try{await api.put(\"/contacts/block/\".concat(contactId),{active:false});toast.success(\"Contato bloqueado\");}catch(err){toastError(err);}setBlockingContact(true);};const handleUnBlockContact=async contactId=>{try{await api.put(\"/contacts/block/\".concat(contactId),{active:true});toast.success(\"Contato desbloqueado\");}catch(err){toastError(err);}setBlockingContact(false);};const handleTabChange=(event,newValue)=>{setTabValue(newValue);// Limpar pesquisa ao trocar de aba\nif(newValue!==0){clearSearch();}};const renderSearchResults=()=>{if(searchLoading){return/*#__PURE__*/_jsxs(\"div\",{className:classes.emptySearchState,children:[/*#__PURE__*/_jsx(CircularProgress,{size:20}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginLeft:8},children:\"Buscando...\"})]});}if(searchResults.length===0&&searchTerm.length>=2){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptySearchState,children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Nenhuma mensagem encontrada\"})});}return/*#__PURE__*/_jsx(\"div\",{className:classes.searchResults,children:searchResults.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:classes.searchResultItem,onClick:()=>handleGoToMessage(message),children:[/*#__PURE__*/_jsx(Typography,{className:classes.searchResultText,dangerouslySetInnerHTML:{__html:highlightSearchTerm(message.body.substring(0,100)+(message.body.length>100?\"...\":\"\"))}}),/*#__PURE__*/_jsxs(Typography,{className:classes.searchResultDate,children:[new Date(message.createdAt).toLocaleString('pt-BR'),message.fromMe?\" (Você)\":\" (\".concat(contact.name,\")\")]})]},message.id))});};const renderMediaContent=()=>{if(loadingMedia){return/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})});}const renderMediaGrid=(items,type)=>{if(items.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[type===\"images\"&&\"Nenhuma imagem encontrada\",type===\"videos\"&&\"Nenhum vídeo encontrado\",type===\"audios\"&&\"Nenhum áudio encontrado\"]})});}return/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:items.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>{if(type===\"images\"||type===\"videos\"||type===\"audios\"){window.open(item.mediaUrl,'_blank');}},children:[type===\"images\"&&/*#__PURE__*/_jsx(\"img\",{src:item.mediaUrl,alt:\"\",className:classes.mediaThumbnail}),type===\"videos\"&&/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]}),type===\"audios\"&&/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})]})},index))});};const renderDocuments=()=>{if(mediaData.documents.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum documento encontrado\"})});}return/*#__PURE__*/_jsx(List,{children:mediaData.documents.map((doc,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(doc.mediaUrl,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFileIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.body||\"Documento \".concat(index+1),secondary:new Date(doc.createdAt).toLocaleDateString('pt-BR')})]},index))});};const renderLinks=()=>{if(mediaData.links.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum link encontrado\"})});}return/*#__PURE__*/_jsx(List,{children:mediaData.links.map((link,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(link.url,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LinkIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:link.title||link.url,secondary:new Date(link.createdAt).toLocaleDateString('pt-BR')})]},index))});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,classes:classes,children:renderMediaGrid(mediaData.images,\"images\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:2,classes:classes,children:renderMediaGrid(mediaData.videos,\"videos\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:3,classes:classes,children:renderMediaGrid(mediaData.audios,\"audios\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:4,classes:classes,children:renderDocuments()}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:5,classes:classes,children:renderLinks()})]});};if(loading)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[newTicketModalOpen&&/*#__PURE__*/_jsx(NewTicketModal,{modalOpen:newTicketModalOpen,onClose:handleTicketCreated,initialContact:participantInitialContact||undefined}),/*#__PURE__*/_jsx(ShowTicketOpenModal,{isOpen:openTicketAlert,handleClose:()=>setOpenTicketAlert(false),user:openTicketInfo.user,queue:openTicketInfo.queue}),/*#__PURE__*/_jsxs(Drawer,{className:classes.drawer,variant:isMobile?\"temporary\":\"persistent\"// variant=\"persistent\"\n,anchor:\"right\",open:open,onClose:isMobile?handleDrawerClose:undefined,PaperProps:{style:isMobile?{width:\"100vw\",maxWidth:\"400px\",height:\"100vh\",position:\"fixed\",top:0,right:0,zIndex:9999,backgroundColor:theme.palette.background.paper}:{position:\"absolute\",right:0,top:0,height:\"100%\",width:drawerWidth,zIndex:1200}},ModalProps:isMobile?{style:{position:\"fixed\",zIndex:9999}}:{container:document.getElementById(\"drawer-container\"),style:{position:\"relative\",zIndex:1200}},classes:{paper:classes.drawerPaper},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(Typography,{style:{justifySelf:\"center\"},children:i18n.t(\"contactDrawer.header\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contentWrapper,children:[/*#__PURE__*/_jsx(Box,{className:classes.switchContainer,children:/*#__PURE__*/_jsxs(Typography,{style:{marginBottom:0},variant:\"subtitle2\",children:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:acceptAudioMessage,onChange:()=>handleContactToggleAcceptAudio(),name:\"disableBot\",color:\"primary\"}),i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.profileSection,children:/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactHeader,children:[/*#__PURE__*/_jsx(Avatar,{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:contact.name,className:classes.contactAvatar,onClick:handleImageClick,children:(_contact$name=contact.name)===null||_contact$name===void 0?void 0:(_contact$name$charAt=_contact$name.charAt(0))===null||_contact$name$charAt===void 0?void 0:_contact$name$charAt.toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contactCardHeader,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",style:{marginBottom:8},children:contact.name}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,textAlign:\"center\",marginBottom:4,// Destacar em vermelho se número parece ser um LID\ncolor:contact.number&&contact.number.includes('@')?'#f44336':'inherit'},children:[contact.number&&contact.number.includes('@')&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10,color:'#f44336',display:'block'},children:\"\\u26A0\\uFE0F Poss\\xEDvel erro: N\\xFAmero parece ser LID\"}),hideNum&&user.profile===\"user\"?formatSerializedId(contact.number).slice(0,-6)+\"**-**\"+contact.number.slice(-2):formatSerializedId(contact.number)]}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,textAlign:\"center\",marginBottom:4},children:[\"LID: \",contact.lid||\"\"]}),contact.email&&/*#__PURE__*/_jsx(Typography,{style:{color:\"primary\",fontSize:12},align:\"center\",children:/*#__PURE__*/_jsx(Link,{href:\"mailto:\".concat(contact.email),children:contact.email})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contactActions,children:[/*#__PURE__*/_jsx(Tooltip,{title:i18n.t(\"contactDrawer.buttons.edit\"),arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.actionIcon,\" \").concat(classes.editIcon),onClick:()=>setModalOpen(!openForm),size:\"small\",children:/*#__PURE__*/_jsx(CreateIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:!contact.active?\"Desbloquear contato\":\"Bloquear contato\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.actionIcon,\" \").concat(!contact.active?classes.unblockIcon:classes.blockIcon),onClick:()=>contact.active?handleBlockContact(contact.id):handleUnBlockContact(contact.id),disabled:loading,size:\"small\",children:!contact.active?/*#__PURE__*/_jsx(LockOpenIcon,{}):/*#__PURE__*/_jsx(BlockIcon,{})})})]}),contact.id&&openForm&&/*#__PURE__*/_jsx(ContactForm,{initialContact:contact,onCancel:()=>setOpenForm(false)})]})}),/*#__PURE__*/_jsxs(Box,{className:classes.searchContainer,children:[/*#__PURE__*/_jsx(TextField,{className:classes.searchField,fullWidth:true,size:\"small\",variant:\"outlined\",placeholder:\"Pesquisar nas mensagens...\",value:searchTerm,onChange:handleSearchChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{fontSize:\"small\"})}),endAdornment:searchTerm&&/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:clearSearch,edge:\"end\",children:/*#__PURE__*/_jsx(ClearIcon,{fontSize:\"small\"})})})}}),/*#__PURE__*/_jsx(Collapse,{in:showSearchResults,children:/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",style:{marginTop:8},children:renderSearchResults()})})]}),/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:handleTabChange,variant:\"scrollable\",scrollButtons:\"auto\",className:classes.tabsContainer,children:[/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsx(InfoIcon,{}),\"aria-label\":\"Informa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(ImageIcon,{}),mediaData.images.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.images.length,className:classes.tabChip})]}),\"aria-label\":\"Imagens\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{}),mediaData.videos.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.videos.length,className:classes.tabChip})]}),\"aria-label\":\"V\\xEDdeos\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{}),mediaData.audios.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.audios.length,className:classes.tabChip})]}),\"aria-label\":\"\\xC1udios\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(InsertDriveFileIcon,{}),mediaData.documents.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.documents.length,className:classes.tabChip})]}),\"aria-label\":\"Documentos\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(LinkIcon,{}),mediaData.links.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.links.length,className:classes.tabChip})]}),\"aria-label\":\"Links\"}),contact.isGroup&&/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(GroupIcon,{}),participants.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:participants.length,className:classes.tabChip})]}),\"aria-label\":\"Participantes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.scrollableContent,children:loading?/*#__PURE__*/_jsx(ContactDrawerSkeleton,{classes:classes}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:0,classes:classes,children:[/*#__PURE__*/_jsx(TagsKanbanContainer,{ticket:ticket,className:classes.contactTags}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{marginBottom:10},children:i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}),/*#__PURE__*/_jsx(ContactNotes,{ticket:ticket})]}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(ContactModal,{open:modalOpen,onClose:()=>setModalOpen(false),contactId:contact.id}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:i18n.t(\"contactDrawer.extraInfo\")}),contact===null||contact===void 0?void 0:(_contact$extraInfo=contact.extraInfo)===null||_contact$extraInfo===void 0?void 0:_contact$extraInfo.map(info=>/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactExtraInfo,children:[/*#__PURE__*/_jsx(InputLabel,{children:info.name}),/*#__PURE__*/_jsx(Typography,{component:\"div\",noWrap:true,style:{paddingTop:2},children:/*#__PURE__*/_jsx(MarkdownWrapper,{children:info.value})})]},info.id))]})]}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.images.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhuma imagem encontrada\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.images.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsx(\"img\",{src:item.mediaUrl,alt:\"\",className:classes.mediaThumbnail})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:2,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.videos.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum v\\xEDdeo encontrado\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.videos.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:3,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.audios.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum \\xE1udio encontrado\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.audios.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:4,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.documents.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum documento encontrado\"})}):/*#__PURE__*/_jsx(List,{children:mediaData.documents.map((doc,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(doc.mediaUrl,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFileIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.body||\"Documento \".concat(index+1),secondary:new Date(doc.createdAt).toLocaleDateString('pt-BR')})]},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:5,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.links.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum link encontrado\"})}):/*#__PURE__*/_jsx(List,{children:mediaData.links.map((link,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(link.url,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LinkIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:link.title||link.url,secondary:new Date(link.createdAt).toLocaleDateString('pt-BR')})]},index))})}),contact.isGroup&&/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:6,classes:classes,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.exportButtonContainer,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(GroupIcon,{style:{marginRight:8}}),\"Participantes do Grupo (\",participants.length,\")\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",size:\"small\",startIcon:/*#__PURE__*/_jsx(GetAppIcon,{}),onClick:handleExportParticipants,className:classes.exportButton,disabled:participants.length===0,children:\"Exportar\"})]}),renderParticipants()]})]})})]})]}),/*#__PURE__*/_jsx(Dialog,{open:imageModalOpen,onClose:handleImageModalClose,className:classes.imageModal,maxWidth:\"md\",fullWidth:true,children:/*#__PURE__*/_jsx(DialogContent,{className:classes.imageModalContent,children:/*#__PURE__*/_jsx(\"img\",{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:(contact===null||contact===void 0?void 0:contact.name)||\"Foto do contato\",className:classes.expandedImage})})})]});};export default ContactDrawer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}