{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{DragDropContext,Droppable}from'react-beautiful-dnd';import KanbanColumn from'./KanbanColumn';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({board:_objectSpread(_objectSpread({display:'flex',overflowX:'auto'},theme.scrollbarStyles),{},{padding:theme.spacing(1)})}));const KanbanBoard=_ref=>{let{lanes,onCardMove,onLaneReorder,updateTicket,isAdmin}=_ref;const classes=useStyles();const handleDragEnd=result=>{if(!result.destination)return;const{source,destination,draggableId,type}=result;// Se for reordenação de lane\nif(type==='LANE'){if(source.index!==destination.index){onLaneReorder(source.index,destination.index);}return;}// Se for movimentação de card\nif(source.droppableId!==destination.droppableId||source.index!==destination.index){onCardMove(draggableId,destination.droppableId,source.droppableId,source.index,destination.index);}};return/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"lanes\",direction:\"horizontal\",type:\"LANE\",children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.board,ref:provided.innerRef},provided.droppableProps),{},{children:[lanes.map((lane,index)=>/*#__PURE__*/_jsx(KanbanColumn,{id:lane.id,title:lane.title,tickets:lane.tickets,color:lane.color,index:index,updateTicket:updateTicket,isAdmin:isAdmin},lane.id)),provided.placeholder]}))})});};export default KanbanBoard;","map":{"version":3,"names":["React","makeStyles","DragDropContext","Droppable","KanbanColumn","jsx","_jsx","jsxs","_jsxs","useStyles","theme","board","_objectSpread","display","overflowX","scrollbarStyles","padding","spacing","KanbanBoard","_ref","lanes","onCardMove","onLaneReorder","updateTicket","isAdmin","classes","handleDragEnd","result","destination","source","draggableId","type","index","droppableId","onDragEnd","children","direction","provided","snapshot","className","ref","innerRef","droppableProps","map","lane","id","title","tickets","color","placeholder"],"sources":["/home/deploy/atendechatop/frontend/src/pages/Kanban/KanbanBoard.js"],"sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport KanbanColumn from './KanbanColumn';\n\nconst useStyles = makeStyles(theme => ({\n  board: {\n    display: 'flex',\n    overflowX: 'auto',\n    ...theme.scrollbarStyles,\n    padding: theme.spacing(1),\n  },\n}));\n\nconst KanbanBoard = ({ lanes, onCardMove, onLaneReorder, updateTicket, isAdmin }) => {\n  const classes = useStyles();\n\n  const handleDragEnd = result => {\n    if (!result.destination) return;\n\n    const { source, destination, draggableId, type } = result;\n\n    // Se for reordenação de lane\n    if (type === 'LANE') {\n      if (source.index !== destination.index) {\n        onLaneReorder(source.index, destination.index);\n      }\n      return;\n    }\n\n    // Se for movimentação de card\n    if (\n      source.droppableId !== destination.droppableId ||\n      source.index !== destination.index\n    ) {\n      onCardMove(\n        draggableId,\n        destination.droppableId,\n        source.droppableId,\n        source.index,\n        destination.index\n      );\n    }\n  };\n\n  return (\n    <DragDropContext onDragEnd={handleDragEnd}>\n      <Droppable droppableId=\"lanes\" direction=\"horizontal\" type=\"LANE\">\n        {(provided, snapshot) => (\n          <div \n            className={classes.board}\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n          >\n            {lanes.map((lane, index) => (\n              <KanbanColumn\n                key={lane.id}\n                id={lane.id}\n                title={lane.title}\n                tickets={lane.tickets}\n                color={lane.color}\n                index={index}\n                updateTicket={updateTicket}\n                isAdmin={isAdmin}\n              />\n            ))}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n};\n\nexport default KanbanBoard;\n"],"mappings":"uHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,0BAA0B,CACrD,OAASC,eAAe,CAAEC,SAAS,KAAQ,qBAAqB,CAChE,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,SAAS,CAAGR,UAAU,CAACS,KAAK,GAAK,CACrCC,KAAK,CAAAC,aAAA,CAAAA,aAAA,EACHC,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,MAAM,EACdJ,KAAK,CAACK,eAAe,MACxBC,OAAO,CAAEN,KAAK,CAACO,OAAO,CAAC,CAAC,CAAC,EAE7B,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAiE,IAAhE,CAAEC,KAAK,CAAEC,UAAU,CAAEC,aAAa,CAAEC,YAAY,CAAEC,OAAQ,CAAC,CAAAL,IAAA,CAC9E,KAAM,CAAAM,OAAO,CAAGhB,SAAS,CAAC,CAAC,CAE3B,KAAM,CAAAiB,aAAa,CAAGC,MAAM,EAAI,CAC9B,GAAI,CAACA,MAAM,CAACC,WAAW,CAAE,OAEzB,KAAM,CAAEC,MAAM,CAAED,WAAW,CAAEE,WAAW,CAAEC,IAAK,CAAC,CAAGJ,MAAM,CAEzD;AACA,GAAII,IAAI,GAAK,MAAM,CAAE,CACnB,GAAIF,MAAM,CAACG,KAAK,GAAKJ,WAAW,CAACI,KAAK,CAAE,CACtCV,aAAa,CAACO,MAAM,CAACG,KAAK,CAAEJ,WAAW,CAACI,KAAK,CAAC,CAChD,CACA,OACF,CAEA;AACA,GACEH,MAAM,CAACI,WAAW,GAAKL,WAAW,CAACK,WAAW,EAC9CJ,MAAM,CAACG,KAAK,GAAKJ,WAAW,CAACI,KAAK,CAClC,CACAX,UAAU,CACRS,WAAW,CACXF,WAAW,CAACK,WAAW,CACvBJ,MAAM,CAACI,WAAW,CAClBJ,MAAM,CAACG,KAAK,CACZJ,WAAW,CAACI,KACd,CAAC,CACH,CACF,CAAC,CAED,mBACE1B,IAAA,CAACJ,eAAe,EAACgC,SAAS,CAAER,aAAc,CAAAS,QAAA,cACxC7B,IAAA,CAACH,SAAS,EAAC8B,WAAW,CAAC,OAAO,CAACG,SAAS,CAAC,YAAY,CAACL,IAAI,CAAC,MAAM,CAAAI,QAAA,CAC9DA,CAACE,QAAQ,CAAEC,QAAQ,gBAClB9B,KAAA,OAAAI,aAAA,CAAAA,aAAA,EACE2B,SAAS,CAAEd,OAAO,CAACd,KAAM,CACzB6B,GAAG,CAAEH,QAAQ,CAACI,QAAS,EACnBJ,QAAQ,CAACK,cAAc,MAAAP,QAAA,EAE1Bf,KAAK,CAACuB,GAAG,CAAC,CAACC,IAAI,CAAEZ,KAAK,gBACrB1B,IAAA,CAACF,YAAY,EAEXyC,EAAE,CAAED,IAAI,CAACC,EAAG,CACZC,KAAK,CAAEF,IAAI,CAACE,KAAM,CAClBC,OAAO,CAAEH,IAAI,CAACG,OAAQ,CACtBC,KAAK,CAAEJ,IAAI,CAACI,KAAM,CAClBhB,KAAK,CAAEA,KAAM,CACbT,YAAY,CAAEA,YAAa,CAC3BC,OAAO,CAAEA,OAAQ,EAPZoB,IAAI,CAACC,EAQX,CACF,CAAC,CACDR,QAAQ,CAACY,WAAW,GAClB,CACN,CACQ,CAAC,CACG,CAAC,CAEtB,CAAC,CAED,cAAe,CAAA/B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}