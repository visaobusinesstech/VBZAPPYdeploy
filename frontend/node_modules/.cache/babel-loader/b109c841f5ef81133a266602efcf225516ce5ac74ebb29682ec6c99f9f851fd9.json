{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{Droppable,Draggable}from'react-beautiful-dnd';import KanbanCard from'./KanbanCard';import{Typography,IconButton}from'@material-ui/core';import DragIndicatorIcon from'@material-ui/icons/DragIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({column:props=>({backgroundColor:props.color||'#ebecf0',borderRadius:8,minWidth:272,maxWidth:272,padding:theme.spacing(1),marginRight:theme.spacing(1),display:'flex',flexDirection:'column',flexShrink:0}),columnTitle:{marginBottom:theme.spacing(1),fontWeight:'bold',fontSize:'1rem',color:\"#D6D6D6\"},cardList:_objectSpread(_objectSpread({flexGrow:1,overflowY:'auto'},theme.scrollbarStyles),{},{maxHeight:'calc(100vh - 200px)'}),totalValue:{fontSize:'1rem',color:\"#D6D6D6\",fontWeight:'bold'},columnHeader:{marginBottom:theme.spacing(1),display:'flex',alignItems:'center',justifyContent:'space-between'},dragHandle:{cursor:'grab',color:'rgba(255, 255, 255, 0.7)',padding:theme.spacing(0.5),'&:hover':{color:'rgba(255, 255, 255, 1)'}},columnContent:{display:'flex',flexDirection:'column',height:'100%'}}));const KanbanColumn=_ref=>{let{id,title,tickets,color,index,updateTicket,isAdmin}=_ref;const classes=useStyles({color});const totalValue=tickets.reduce((acc,ticket)=>{const customFields=ticket.contact.extraInfo||[];const valueField=customFields.find(field=>field.name==='valor');const opportunityValue=valueField?parseFloat(valueField.value):0;return acc+opportunityValue;},0);return/*#__PURE__*/_jsx(Draggable,{draggableId:id,index:index,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.column,ref:provided.innerRef},provided.draggableProps),{},{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.columnHeader,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',flex:1},children:[isAdmin&&/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:classes.dragHandle,children:/*#__PURE__*/_jsx(DragIndicatorIcon,{fontSize:\"small\"})})),/*#__PURE__*/_jsx(Typography,{className:classes.columnTitle,children:title})]}),/*#__PURE__*/_jsxs(Typography,{className:classes.totalValue,children:[\"Total: R$ \",totalValue.toFixed(2)]})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:id,type:\"CARD\",children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.cardList,ref:provided.innerRef},provided.droppableProps),{},{children:[tickets.map((ticket,index)=>/*#__PURE__*/_jsx(KanbanCard,{ticket:ticket,index:index,updateTicket:updateTicket},ticket.id)),provided.placeholder]}))})]}))});};export default KanbanColumn;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}