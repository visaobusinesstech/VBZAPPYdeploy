{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useContext}from\"react\";import*as Yup from\"yup\";import{Formik,FieldArray,Form,Field}from\"formik\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import IconButton from\"@material-ui/core/IconButton\";import DeleteOutlineIcon from\"@material-ui/icons/DeleteOutline\";import CircularProgress from\"@material-ui/core/CircularProgress\";import Compressor from\"compressorjs\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import{Checkbox,FormControl,InputLabel,MenuItem,Select,Stack,Typography}from\"@mui/material\";import{AccessTime,AddCircle,Delete,Image,KeyboardArrowDown,KeyboardArrowUp,Message,MicNone,Videocam,InsertDriveFile}from\"@mui/icons-material\";import{capitalize}from\"../../utils/capitalize\";import{Box}from\"@material-ui/core\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginRight:theme.spacing(1),flex:1},extraAttr:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},btnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12}}));const FlowBuilderSingleBlockModal=_ref=>{let{open,onSave,onUpdate,data,close}=_ref;const classes=useStyles();const isMounted=useRef(true);const[activeModal,setActiveModal]=useState(false);const[rule,setRule]=useState();const[medias,setMedias]=useState([]);const[textDig,setTextDig]=useState();const[elements,setElements]=useState([]);const[elementsSeq,setElementsSeq]=useState([]);const[elementsSeqEdit,setElementsSeqEdit]=useState([]);const[elementsEdit,setElementsEdit]=useState([]);const[numberMessages,setNumberMessages]=useState(0);const[numberMessagesLast,setNumberMessagesLast]=useState(0);const[numberInterval,setNumberInterval]=useState(0);const[numberIntervalLast,setNumberIntervalLast]=useState(0);const[numberAudio,setNumberAudio]=useState(0);const[numberAudioLast,setNumberAudioLast]=useState(0);const[numberVideo,setNumberVideo]=useState(0);const[numberVideoLast,setNumberVideoLast]=useState(0);const[numberImg,setNumberImg]=useState(0);const[numberImgLast,setNumberImgLast]=useState(0);const[loading,setLoading]=useState(false);const[previewImg,setPreviewImg]=useState([]);const[previewAudios,setPreviewAudios]=useState([]);const[previewVideos,setPreviewVideos]=useState([]);const[arrayOption,setArrayOption]=useState([]);const[variables,setVariables]=useState([]);const[previewDocs,setPreviewDocs]=useState([]);const[numberDocLast,setNumberDocLast]=useState(0);const[numberDocs,setNumberDocs]=useState(0);const[labels,setLabels]=useState({title:\"Adicionar conteúdo ao fluxo\",btn:\"Adicionar\"});const{user}=useContext(AuthContext);const companyId=user.companyId;const handleElements=newNameFiles=>{let elementsSequence=[];const newArrMessage=elementsSeq.filter(item=>item.includes(\"message\"));const newArrInterval=elementsSeq.filter(item=>item.includes(\"interval\"));const newArrImg=elementsSeq.filter(item=>item.includes(\"img\"));const newArrAudio=elementsSeq.filter(item=>item.includes(\"audio\"));const newArrVideo=elementsSeq.filter(item=>item.includes(\"video\"));//Todas as mensagens\nfor(let i=0;i<numberMessages;i++){const value=document.querySelector(\".\".concat(newArrMessage[i])).querySelector(\".MuiInputBase-input\").value;if(!value){toast.error(\"Campos de mensagem vazio!\");setLoading(false);throw\"\";}elementsSequence.push({type:\"message\",value:value,number:newArrMessage[i]});console.log(\"text\");}//Todos os intervalos\nfor(let i=0;i<numberInterval;i++){const value=document.querySelector(\".\".concat(newArrInterval[i])).querySelector(\".MuiInputBase-input\").value;if(parseInt(value)===0||parseInt(value)>120){toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");setLoading(false);throw\"\";}elementsSequence.push({type:\"interval\",value:value,number:newArrInterval[i]});}//Todas as imagens\nfor(let i=0;i<numberImg;i++){const onlyImg=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"png\")||file.includes(\"jpg\")||file.includes(\"jpeg\"));const onlyImgNameOriginal=medias.filter(file=>file.name.includes(\"png\")||file.name.includes(\"jpg\")||file.name.includes(\"jpeg\"));if(elementsSeqEdit.includes(newArrImg[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrImg[i])[0];elementsSequence.push({type:\"img\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number,teste:\"image\"});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"img\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"img\")).length-i;}else{indexElem=i;}// console.log(\"IMAGE\", indexElem, '-->>', onlyImgNameOriginal[indexElem]);\nelementsSequence.push({type:\"img\",value:onlyImg[indexElem],original:onlyImgNameOriginal[indexElem].name,number:newArrImg[i],teste:\"image\"});}}//Todos os audios\nfor(let i=0;i<numberAudio;i++){const onlyAudio=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"mp3\")||file.includes(\"ogg\")||file.includes(\"mpeg\")||file.includes(\"opus\"));const onlyAudioNameOriginal=medias.filter(file=>file.name.includes(\"mp3\")||file.name.includes(\"ogg\")||file.name.includes(\"mpeg\")||file.name.includes(\"opus\"));if(elementsSeqEdit.includes(newArrAudio[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrAudio[i])[0];elementsSequence.push({type:\"audio\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number,record:document.querySelector(\".check\".concat(newArrAudio[i])).querySelector(\".PrivateSwitchBase-input\").checked});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"audio\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"audio\")).length-i;}else{indexElem=i;}elementsSequence.push({type:\"audio\",value:onlyAudio[indexElem],original:onlyAudioNameOriginal[indexElem].name,number:newArrAudio[i],record:document.querySelector(\".check\".concat(newArrAudio[i])).querySelector(\".PrivateSwitchBase-input\").checked});}}//Todos os videos\nfor(let i=0;i<numberVideo;i++){const onlyVideo=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"mp4\")||file.includes(\"avi\"));const onlyVideoNameOriginal=medias.filter(file=>file.name.includes(\"mp4\")||file.name.includes(\"avi\"));if(elementsSeqEdit.includes(newArrVideo[i])){const itemSelectedEdit=elementsEdit.filter(item=>item.number===newArrVideo[i])[0];elementsSequence.push({type:\"video\",value:itemSelectedEdit.value,original:itemSelectedEdit.original,number:itemSelectedEdit.number});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"video\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"video\")).length-i;}else{indexElem=i;}elementsSequence.push({type:\"video\",value:onlyVideo[indexElem],original:onlyVideoNameOriginal[indexElem].name,number:newArrVideo[i]});}}// Todos os documentos\nfor(let i=0;i<numberDocs;i++){const onlyDocs=newNameFiles!==null&&newNameFiles.filter(file=>file.includes(\"pdf\"));const onlyDocNameOriginal=medias.filter(file=>file.name.includes(\"pdf\"));// console.log(\"### elementsSeqEdit\", elementsSeqEdit);\nif(elementsSeqEdit.includes(\"document\".concat(i))){const itemSelectedEdit=elementsEdit.filter(item=>item.number===\"document\".concat(i))[0];elementsSequence.push({type:\"document\",value:itemSelectedEdit===null||itemSelectedEdit===void 0?void 0:itemSelectedEdit.value,original:itemSelectedEdit===null||itemSelectedEdit===void 0?void 0:itemSelectedEdit.original,number:itemSelectedEdit===null||itemSelectedEdit===void 0?void 0:itemSelectedEdit.number});}else{let indexElem=0;if(elementsSeqEdit.filter(item=>item.includes(\"document\")).length>0){indexElem=elementsSeqEdit.filter(item=>item.includes(\"document\")).length-i;}else{indexElem=i;}// console.log(\"onlyDocs\", onlyDocs);\n// console.log(\"onlyDocNameOriginal\", onlyDocNameOriginal);\n// console.log(\"DOCUMENT\", indexElem, '-->>', onlyDocNameOriginal[indexElem]);\nelementsSequence.push({type:\"document\",value:onlyDocs[indexElem],original:onlyDocNameOriginal[indexElem].name,number:\"document\".concat(i)});}}console.log(\"elementsSequence\",elementsSequence);return elementsSequence;};const deleteElementsTypeOne=(id,type)=>{if(type===\"message\"){setNumberMessages(old=>old-1);setElementsSeq(old=>old.filter(item=>item!==\"message\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"message\".concat(id)));document.querySelector(\".stackMessage\".concat(id)).remove();}if(type===\"interval\"){setNumberInterval(old=>old-1);setElementsSeq(old=>old.filter(item=>item!==\"interval\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"interval\".concat(id)));document.querySelector(\".stackInterval\".concat(id)).remove();}if(type===\"img\"){setNumberImg(old=>old-1);setPreviewImg(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"img\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"img\".concat(id)));document.querySelector(\".stackImg\".concat(id)).remove();}if(type===\"audio\"){setNumberAudio(old=>old-1);setPreviewAudios(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"audio\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"audio\".concat(id)));document.querySelector(\".stackAudio\".concat(id)).remove();}if(type===\"video\"){setNumberVideo(old=>old-1);setPreviewVideos(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"video\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"video\".concat(id)));document.querySelector(\".stackVideo\".concat(id)).remove();}if(type===\"document\"){setNumberDocs(old=>old-1);setPreviewDocs(old=>{setMedias(oldMedia=>{try{return oldMedia.filter(mediaItem=>mediaItem.name!==old.filter(item=>item.number===id)[0].name);}catch(e){return oldMedia;}});return old.filter(item=>item.number!==id);});setElementsSeq(old=>old.filter(item=>item!==\"document\".concat(id)));setElementsSeqEdit(old=>old.filter(item=>item!==\"document\".concat(id)));document.querySelector(\".stackDocument\".concat(id)).remove();}};const moveElementDown=id=>{setElementsSeq(old=>{const array=old;const index=array.indexOf(id);moveItemParaFrente(index);console.log(\"id\",id);if(index!==-1&&index<array.length-1){// Verifica se o elemento foi encontrado no array e não está na última posição\nconst novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(index,1)[0];novoArray.splice(index+1,0,elementoMovido);return novoArray;}return array;});};const moveElementUp=id=>{setElementsSeq(old=>{const array=old;const index=array.indexOf(id);moveItemParaTras(index);if(index!==-1&&index>0){// Verifica se o elemento foi encontrado no array e não está na primeira posição\nconst novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(index,1)[0];novoArray.splice(index-1,0,elementoMovido);return novoArray;}return array;});};function moveItemParaFrente(posicao){setElements(old=>{const array=old;if(posicao>=0&&posicao<array.length-1){const novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(posicao,1)[0];novoArray.splice(posicao+1,0,elementoMovido);return novoArray;}return array;// Retorna o array original se a movimentação não for possível\n});}function moveItemParaTras(posicao){setElements(old=>{const array=old;if(posicao>0&&posicao<array.length){const novoArray=[...array];// Cria uma cópia do array original\nconst elementoMovido=novoArray.splice(posicao,1)[0];novoArray.splice(posicao-1,0,elementoMovido);return novoArray;}return array;// Retorna o array original se a movimentação não for possível\n});}const handleChangeMediasImg=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>2000000){toast.error(\"Arquivo é muito grande! 2MB máximo\");return;}const imgBlob=URL.createObjectURL(e.target.files[0]);// console.log(\"imgBlob\", imgBlob);\nsetPreviewImg(old=>[...old,{number:number,url:imgBlob,name:e.target.files[0].name}]);const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);document.querySelector(\".img\".concat(number)).src=imgBlob;document.querySelector(\".btnImg\".concat(number)).remove();};const handleChangeAudios=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>5000000){toast.error(\"Arquivo é muito grande! 5MB máximo\");return;}const audioBlob=URL.createObjectURL(e.target.files[0]);setPreviewAudios(old=>[...old,{number:number,url:audioBlob,name:e.target.files[0].name}]);const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);document.querySelector(\".audio\".concat(number)).innerHTML=\"<audio controls=\\\"controls\\\">\\n    <source src=\\\"\".concat(audioBlob,\"\\\" type=\\\"audio/mp3\\\" />\\n    seu navegador n\\xE3o suporta HTML5\\n  </audio>\");document.querySelector(\".btnAudio\".concat(number)).remove();};const handleChangeVideos=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>20000000){toast.error(\"Arquivo é muito grande! 20MB máximo\");return;}const videoBlob=URL.createObjectURL(e.target.files[0]);setPreviewVideos(old=>[...old,{number:number,url:videoBlob,name:e.target.files[0].name}]);var divConteudo=document.createElement(\"div\");const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);divConteudo.innerHTML=\"<video controls=\\\"controls\\\" style=\\\"width: 200px;\\\">\\n    <source src=\\\"\".concat(videoBlob,\"\\\" type=\\\"video/mp4\\\" />\\n    seu navegador n\\xE3o suporta HTML5\\n  </video>\");document.querySelector(\".video\".concat(number)).appendChild(divConteudo);document.querySelector(\".btnVideo\".concat(number)).remove();};const imgLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackImg\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},children:/*#__PURE__*/_jsx(Delete,{onClick:()=>deleteElementsTypeOne(number,\"img\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Imagem\"}),/*#__PURE__*/_jsx(Stack,{direction:\"row\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(\"img\",{src:valueDefault.length>0?\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/company\").concat(companyId,\"/flow/\").concat(valueDefault):\"\",className:\"img\".concat(number),style:{width:\"200px\"}})}),valueDefault.length===0&&/*#__PURE__*/_jsxs(Button,{variant:\"contained\",component:\"label\",className:\"btnImg\".concat(number),children:[\"Enviar imagem\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/png, image/jpg, image/jpeg\",hidden:true,onChange:e=>handleChangeMediasImg(e,number)})]})]},\"stackImg\".concat(number));};const audioLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let valueRecordDefault=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackAudio\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},direction:\"row\",gap:1,children:/*#__PURE__*/_jsx(Delete,{sx:{cursor:\"pointer\"},onClick:()=>deleteElementsTypeOne(number,\"audio\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Audio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"audio\".concat(number),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:valueDefault.length>0&&/*#__PURE__*/_jsxs(\"audio\",{controls:\"controls\",children:[/*#__PURE__*/_jsx(\"source\",{src:\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/company\").concat(companyId,\"/flow/\").concat(valueDefault),type:\"audio/mp3\"}),\"seu navegador n\\xE3o suporta HTML5\"]})}),valueDefault.length===0&&/*#__PURE__*/_jsxs(Button,{variant:\"contained\",component:\"label\",className:\"btnAudio\".concat(number),children:[\"Enviar audio\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/ogg, audio/mp3, audio/opus\",hidden:true,onChange:e=>handleChangeAudios(e,number)})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Checkbox,{className:\"checkaudio\".concat(number),defaultChecked:valueRecordDefault===\"ok\"?false:true}),/*#__PURE__*/_jsx(Stack,{justifyContent:\"center\",children:/*#__PURE__*/_jsx(Typography,{children:\"Enviar como audio gravado na hora\"})})]})]},\"stackAudio\".concat(number));};const videoLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackVideo\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},children:/*#__PURE__*/_jsx(Delete,{onClick:()=>deleteElementsTypeOne(number,\"video\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Video\"}),/*#__PURE__*/_jsx(\"div\",{className:\"video\".concat(number),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:valueDefault.length>0&&/*#__PURE__*/_jsxs(\"video\",{controls:\"controls\",style:{width:\"200px\"},children:[/*#__PURE__*/_jsx(\"source\",{src:\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/company\").concat(companyId,\"/flow/\").concat(valueDefault),type:\"video/mp4\"}),\"seu navegador n\\xE3o suporta HTML5\"]})}),valueDefault.length===0&&/*#__PURE__*/_jsxs(Button,{variant:\"contained\",component:\"label\",className:\"btnVideo\".concat(number),children:[\"Enviar video\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"video/mp4\",hidden:true,onChange:e=>handleChangeVideos(e,number)})]})]},\"stackVideo\".concat(number));};const messageLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackMessage\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},children:/*#__PURE__*/_jsx(Delete,{onClick:()=>deleteElementsTypeOne(number,\"message\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Texto\"}),/*#__PURE__*/_jsx(TextField,{label:\"Mensagem\",defaultValue:valueDefault,multiline:true,rows:7,className:\"message\".concat(number),name:\"text\",variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}})]},\"stackMessage\".concat(number));};const intervalLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackInterval\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},children:/*#__PURE__*/_jsx(Delete,{onClick:()=>deleteElementsTypeOne(number,\"interval\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Intervalo\"}),/*#__PURE__*/_jsx(TextField,{label:\"Tempo em segundos\",className:\"interval\".concat(number),defaultValue:valueDefault,type:\"number\",InputProps:{inputProps:{min:0,max:120}},variant:\"outlined\",margin:\"dense\",style:{width:\"100%\"}})]},\"stackInterval\".concat(number));};const documentLayout=function(number){let valueDefault=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";return/*#__PURE__*/_jsxs(Stack,{sx:{border:\"1px solid #9a00ed\",borderRadius:\"7px\",padding:\"6px\",position:\"relative\"},className:\"stackDocument\".concat(number),children:[/*#__PURE__*/_jsx(Stack,{sx:{position:\"absolute\",right:6},children:/*#__PURE__*/_jsx(Delete,{onClick:()=>deleteElementsTypeOne(number,\"document\")})}),/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",children:\"Documento\"}),/*#__PURE__*/_jsx(\"div\",{className:\"document\".concat(number),style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:valueDefault.length>0?/*#__PURE__*/_jsx(\"embed\",{src:\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/public/company\").concat(companyId,\"/flow/\").concat(valueDefault),type:\"application/pdf\",width:\"200px\",height:\"200px\"}):null}),valueDefault.length===0&&/*#__PURE__*/_jsxs(Button,{variant:\"contained\",component:\"label\",className:\"btnDocument\".concat(number),children:[\"Enviar Documento\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".doc,.docx,.pdf\",hidden:true,onChange:e=>handleChangeDocuments(e,number)})]})]},\"stackDocument\".concat(number));};const handleChangeDocuments=(e,number)=>{if(!e.target.files){return;}if(e.target.files[0].size>10000000){toast.error(\"Arquivo é muito grande! 10MB máximo\");return;}const file=e.target.files[0];const documentBlob=URL.createObjectURL(file);// Verifica se o arquivo é PDF\nconst isPDF=file.type===\"application/pdf\";setPreviewDocs(old=>[...old,{number:number,url:documentBlob,name:file.name}]);const selectedMedias=Array.from(e.target.files);setMedias(old=>[...old,selectedMedias[0]]);if(isPDF){document.querySelector(\".document\".concat(number)).innerHTML=\"\\n        <embed src=\\\"\".concat(documentBlob,\"\\\" type=\\\"application/pdf\\\" width=\\\"200px\\\" height=\\\"200px\\\" />\\n      \");}else{document.querySelector(\".document\".concat(number)).innerHTML=\"\\n        <a href=\\\"\".concat(documentBlob,\"\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">Visualizar Documento</a>\\n      \");}document.querySelector(\".btnDocument\".concat(number)).remove();};useEffect(()=>{const localVariables=localStorage.getItem(\"variables\");if(localVariables){setVariables(JSON.parse(localVariables));}if(open===\"edit\"){setLabels({title:\"Editar conteúdo\",btn:\"Salvar\"});setElementsSeq(data.data.seq);setElementsSeqEdit(data.data.seq);setElementsEdit(data.data.elements);if(data){const elementsEditLoc=data.data.elements;const sequence=data.data.seq;sequence.map(item=>{const itemNode=elementsEditLoc.filter(inode=>inode.number===item)[0];if(itemNode.type===\"message\"){const numberLoc=parseInt(item.replace(\"message\",\"\"));setElements(elm=>[...elm,messageLayout(numberLoc,itemNode.value)]);setNumberMessages(old=>{const arsOnly=sequence.filter(item=>item.includes(\"message\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"message\",\"\")));setNumberMessagesLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"interval\"){const numberLoc=parseInt(item.replace(\"interval\",\"\"));setElements(elm=>[...elm,intervalLayout(numberLoc,itemNode.value)]);setNumberInterval(old=>{const arsOnly=sequence.filter(item=>item.includes(\"interval\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"interval\",\"\")));setNumberIntervalLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"audio\"){const numberLoc=parseInt(item.replace(\"audio\",\"\"));setElements(elm=>[...elm,audioLayout(numberLoc,itemNode.value,itemNode.record?\"\":\"ok\")]);setNumberAudio(old=>{const arsOnly=sequence.filter(item=>item.includes(\"audio\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"audio\",\"\")));setNumberAudioLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"img\"){const numberLoc=parseInt(item.replace(\"img\",\"\"));setElements(elm=>[...elm,imgLayout(numberLoc,itemNode.value)]);setNumberImg(old=>{const arsOnly=sequence.filter(item=>item.includes(\"img\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"img\",\"\")));setNumberImgLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"video\"){const numberLoc=parseInt(item.replace(\"video\",\"\"));setElements(elm=>[...elm,videoLayout(numberLoc,itemNode.value)]);setNumberVideo(old=>{const arsOnly=sequence.filter(item=>item.includes(\"video\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"video\",\"\")));setNumberVideoLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}if(itemNode.type===\"document\"){const numberLoc=parseInt(item.replace(\"document\",\"\"));setElements(elm=>[...elm,documentLayout(numberLoc,itemNode.value)]);setNumberDocs(old=>{const arsOnly=sequence.filter(item=>item.includes(\"document\"));const arrNumberMax=arsOnly.map(item=>parseInt(item.replace(\"document\",\"\")));setNumberDocLast(Math.max.apply(null,arrNumberMax)+1);return old+1;});}});}setActiveModal(true);}if(open===\"create\"){setLabels({title:\"Adicionar menu ao fluxo\",btn:\"Adicionar\"});setTextDig();setArrayOption([]);setActiveModal(true);}},[open]);useEffect(()=>{return()=>{isMounted.current=false;};},[]);const handleClose=async()=>{close(null);setActiveModal(false);setTimeout(()=>{setMedias([]);setPreviewImg([]);setPreviewAudios([]);setPreviewVideos([]);setArrayOption([]);setElements([]);setElementsSeq([]);setElementsEdit([]);setElementsSeqEdit([]);setNumberMessages(0);setNumberMessagesLast(0);setNumberInterval(0);setNumberIntervalLast(0);setNumberAudio(0);setNumberAudioLast(0);setNumberVideo(0);setNumberVideoLast(0);setNumberImg(0);setNumberImgLast(0);},500);};const verifyButtonsUpload=()=>{const newArrImg=elementsSeq.filter(item=>item.includes(\"img\"));const newArrAudio=elementsSeq.filter(item=>item.includes(\"audio\"));const newArrVideo=elementsSeq.filter(item=>item.includes(\"video\"));const newArrDocs=elementsSeq.filter(item=>item.includes(\"document\"));for(let i=0;i<numberImg;i++){const imgVerify=document.querySelector(\".btn\".concat(capitalize(newArrImg[i])));if(imgVerify){return true;}}for(let i=0;i<numberAudio;i++){const audioVerify=document.querySelector(\".btn\".concat(capitalize(newArrAudio[i])));if(audioVerify){return true;}}for(let i=0;i<numberVideo;i++){const videoVerify=document.querySelector(\".btn\".concat(capitalize(newArrVideo[i])));if(videoVerify){return true;}}for(let i=0;i<numberDocs;i++){const docVerify=document.querySelector(\".btnDocument\".concat(i));if(docVerify){return true;}}};const handleSaveNode=async()=>{if(open===\"edit\"){setLoading(true);const formData=new FormData();medias.forEach(async(media,idx)=>{const file=media;if(!file){return;}if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"image\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",file);formData.append(\"body\",file.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"audio\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",file);formData.append(\"body\",file.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"video\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",file);formData.append(\"body\",file.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"application\"||(media===null||media===void 0?void 0:media.type.split(\"/\")[1])===\"document\"||(media===null||media===void 0?void 0:media.type.split(\"/\")[1])===\"pdf\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",file);formData.append(\"body\",file.name);}else{formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",file);formData.append(\"body\",file.name);}});setTimeout(async()=>{if(numberAudio===0&&numberVideo===0&&numberImg===0&&numberDocs===0||medias.length===0){try{const mountData={seq:elementsSeq,elements:handleElements(null)};onUpdate(_objectSpread(_objectSpread({},data),{},{data:mountData}));toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);return;}catch(e){console.log(\"error1\",e);setLoading(false);handleClose();}return;}const verify=verifyButtonsUpload();if(verify){setLoading(false);return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");}await api.post(\"/flowbuilder/content\",formData).then(async res=>{const mountData={seq:elementsSeq,elements:handleElements(res.data)};onUpdate(_objectSpread(_objectSpread({},data),{},{data:mountData}));toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);}).catch(error=>{console.log(\"error2\",error);handleClose();setLoading(false);});},1500);}else if(open===\"create\"){setLoading(true);const formData=new FormData();medias.forEach(async(media,idx)=>{const file=media;if(!file){return;}if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"image\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",media);formData.append(\"body\",media.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"audio\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",media);formData.append(\"body\",media.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"video\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",media);formData.append(\"body\",media.name);}else if((media===null||media===void 0?void 0:media.type.split(\"/\")[0])===\"application\"||(media===null||media===void 0?void 0:media.type.split(\"/\")[1])===\"document\"||(media===null||media===void 0?void 0:media.type.split(\"/\")[1])===\"pdf\"){formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",media);formData.append(\"body\",media.name);}else{formData.append(\"typeArch\",\"flow\");formData.append(\"medias\",media);formData.append(\"body\",media.name);}});setTimeout(async()=>{if(numberAudio===0&&numberVideo===0&&numberImg===0&&numberDocs===0){try{const mountData={seq:elementsSeq,elements:handleElements(null)};onSave(_objectSpread({},mountData));toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);return;}catch(e){console.log(\"error3\",e);setLoading(false);handleClose();}}const verify=verifyButtonsUpload();if(verify){setLoading(false);return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");}await api.post(\"/flowbuilder/content\",formData).then(res=>{const mountData={seq:elementsSeq,elements:handleElements(res.data)};onSave(_objectSpread({},mountData));toast.success(\"Conteúdo adicionada com sucesso!\");handleClose();setLoading(false);}).catch(error=>{console.log(\"error4\",error);setLoading(false);handleClose();});},1500);}};const scrollToBottom=className=>{const element=document.querySelector(className);element.scrollTop=element.scrollHeight;};const variableFormatter=item=>{return\"{{\"+item+\"}}\";};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:activeModal,fullWidth:\"lg\",scroll:\"paper\",children:[!loading&&/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Adicionar conte\\xFAdo ao fluxo\"}),/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsxs(Stack,{className:\"body-card\",style:{gap:\"8px\",padding:\"16px\",overflow:\"auto\",height:\"70vh\",scrollBehavior:\"smooth\",display:loading&&\"none\"},children:[elements.map(item=>/*#__PURE__*/_jsx(_Fragment,{children:item})),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",gap:1,children:[/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,messageLayout(numberMessagesLast)]);setNumberMessages(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"message\".concat(numberMessagesLast)]);return old+1;});setNumberMessagesLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(Message,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Texto\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,intervalLayout(numberIntervalLast)]);setNumberInterval(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"interval\".concat(numberIntervalLast)]);return old+1;});setNumberIntervalLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(AccessTime,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Intervalo\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,imgLayout(numberImgLast)]);setNumberImg(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"img\".concat(numberImgLast)]);return old+1;});setNumberImgLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(Image,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Imagem\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,audioLayout(numberAudioLast)]);setNumberAudio(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"audio\".concat(numberAudioLast)]);return old+1;});setNumberAudioLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(MicNone,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Audio\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,videoLayout(numberVideoLast)]);setNumberVideo(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"video\".concat(numberVideoLast)]);return old+1;});setNumberVideoLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(Videocam,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Video\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{setElements(old=>[...old,documentLayout(numberDocLast)]);setNumberDocs(old=>{setElementsSeq(oldEleme=>[...oldEleme,\"document\".concat(numberDocLast)]);return old+1;});setNumberDocLast(old=>old+1);setTimeout(()=>{scrollToBottom(\".body-card\");},100);},children:[/*#__PURE__*/_jsx(InsertDriveFile,{sx:{width:\"16px\",height:\"16px\",marginRight:\"4px\"}}),\"Documento\"]})]}),/*#__PURE__*/_jsxs(Box,{style:{width:\"100%\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"shadow- py-2 font-bold bg-blue-900 rounded text-white\",children:\"Vari\\xE1veis\"}),variables&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full  max-h-full overflow-y-auto space-y-2 py-2\",children:variables.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"rounded border-2 border-dashed border-zinc-800\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-zinc-600\",children:variableFormatter(item)})}))})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",variant:\"outlined\",style:{display:loading&&\"none\"},children:i18n.t(\"contactModal.buttons.cancel\")}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",variant:\"contained\",onClick:()=>handleSaveNode(),style:{display:loading&&\"none\"},children:\"\".concat(labels.btn)})]})]}),loading&&/*#__PURE__*/_jsx(Stack,{style:{gap:\"8px\",padding:\"16px\",height:\"70vh\",alignSelf:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(Typography,{children:\"Subindo os arquivos e criando o conte\\xFAdo...\"}),/*#__PURE__*/_jsx(Stack,{style:{alignSelf:\"center\",marginTop:\"12px\"},children:/*#__PURE__*/_jsx(CircularProgress,{})})]})})]})});};export default FlowBuilderSingleBlockModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","Yup","Formik","FieldArray","Form","Field","toast","makeStyles","green","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","DeleteOutlineIcon","CircularProgress","Compressor","i18n","api","toastError","Checkbox","FormControl","InputLabel","MenuItem","Select","Stack","Typography","AccessTime","AddCircle","Delete","Image","KeyboardArrowDown","KeyboardArrowUp","Message","MicNone","Videocam","InsertDriveFile","capitalize","Box","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","theme","root","display","flexWrap","textField","marginRight","spacing","flex","extraAttr","justifyContent","alignItems","btnWrapper","position","buttonProgress","color","top","left","marginTop","marginLeft","FlowBuilderSingleBlockModal","_ref","open","onSave","onUpdate","data","close","classes","isMounted","activeModal","setActiveModal","rule","setRule","medias","setMedias","textDig","setTextDig","elements","setElements","elementsSeq","setElementsSeq","elementsSeqEdit","setElementsSeqEdit","elementsEdit","setElementsEdit","numberMessages","setNumberMessages","numberMessagesLast","setNumberMessagesLast","numberInterval","setNumberInterval","numberIntervalLast","setNumberIntervalLast","numberAudio","setNumberAudio","numberAudioLast","setNumberAudioLast","numberVideo","setNumberVideo","numberVideoLast","setNumberVideoLast","numberImg","setNumberImg","numberImgLast","setNumberImgLast","loading","setLoading","previewImg","setPreviewImg","previewAudios","setPreviewAudios","previewVideos","setPreviewVideos","arrayOption","setArrayOption","variables","setVariables","previewDocs","setPreviewDocs","numberDocLast","setNumberDocLast","numberDocs","setNumberDocs","labels","setLabels","title","btn","user","companyId","handleElements","newNameFiles","elementsSequence","newArrMessage","filter","item","includes","newArrInterval","newArrImg","newArrAudio","newArrVideo","i","value","document","querySelector","concat","error","push","type","number","console","log","parseInt","onlyImg","file","onlyImgNameOriginal","name","itemSelectedEdit","original","teste","indexElem","length","onlyAudio","onlyAudioNameOriginal","record","checked","onlyVideo","onlyVideoNameOriginal","onlyDocs","onlyDocNameOriginal","deleteElementsTypeOne","id","old","remove","oldMedia","mediaItem","e","moveElementDown","array","index","indexOf","moveItemParaFrente","novoArray","elementoMovido","splice","moveElementUp","moveItemParaTras","posicao","handleChangeMediasImg","target","files","size","imgBlob","URL","createObjectURL","url","selectedMedias","Array","from","src","handleChangeAudios","audioBlob","innerHTML","handleChangeVideos","videoBlob","divConteudo","createElement","appendChild","imgLayout","valueDefault","arguments","undefined","sx","border","borderRadius","padding","className","children","right","onClick","textAlign","direction","process","env","REACT_APP_BACKEND_URL","style","width","variant","component","accept","hidden","onChange","audioLayout","valueRecordDefault","gap","cursor","flexDirection","controls","defaultChecked","videoLayout","messageLayout","label","defaultValue","multiline","rows","margin","intervalLayout","InputProps","inputProps","min","max","documentLayout","height","handleChangeDocuments","documentBlob","isPDF","localVariables","localStorage","getItem","JSON","parse","seq","elementsEditLoc","sequence","map","itemNode","inode","numberLoc","replace","elm","arsOnly","arrNumberMax","Math","apply","current","handleClose","setTimeout","verifyButtonsUpload","newArrDocs","imgVerify","audioVerify","videoVerify","docVerify","handleSaveNode","formData","FormData","forEach","media","idx","split","append","mountData","_objectSpread","success","verify","post","then","res","catch","scrollToBottom","element","scrollTop","scrollHeight","variableFormatter","fullWidth","scroll","overflow","scrollBehavior","oldEleme","t","alignSelf"],"sources":["/home/deploy/codigologlow/frontend/src/components/FlowBuilderSingleBlockModal/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Compressor from \"compressorjs\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Checkbox,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Stack,\n  Typography,\n} from \"@mui/material\";\nimport {\n  AccessTime,\n  AddCircle,\n  Delete,\n  Image,\n  KeyboardArrowDown,\n  KeyboardArrowUp,\n  Message,\n  MicNone,\n  Videocam,\n  InsertDriveFile,\n} from \"@mui/icons-material\";\nimport { capitalize } from \"../../utils/capitalize\";\nimport { Box } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst FlowBuilderSingleBlockModal = ({\n  open,\n  onSave,\n  onUpdate,\n  data,\n  close,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const [activeModal, setActiveModal] = useState(false);\n\n  const [rule, setRule] = useState();\n\n  const [medias, setMedias] = useState([]);\n\n  const [textDig, setTextDig] = useState();\n\n  const [elements, setElements] = useState([]);\n\n  const [elementsSeq, setElementsSeq] = useState([]);\n\n  const [elementsSeqEdit, setElementsSeqEdit] = useState([]);\n\n  const [elementsEdit, setElementsEdit] = useState([]);\n\n  const [numberMessages, setNumberMessages] = useState(0);\n\n  const [numberMessagesLast, setNumberMessagesLast] = useState(0);\n\n  const [numberInterval, setNumberInterval] = useState(0);\n\n  const [numberIntervalLast, setNumberIntervalLast] = useState(0);\n\n  const [numberAudio, setNumberAudio] = useState(0);\n\n  const [numberAudioLast, setNumberAudioLast] = useState(0);\n\n  const [numberVideo, setNumberVideo] = useState(0);\n\n  const [numberVideoLast, setNumberVideoLast] = useState(0);\n\n  const [numberImg, setNumberImg] = useState(0);\n\n  const [numberImgLast, setNumberImgLast] = useState(0);\n\n  const [loading, setLoading] = useState(false);\n\n  const [previewImg, setPreviewImg] = useState([]);\n\n  const [previewAudios, setPreviewAudios] = useState([]);\n\n  const [previewVideos, setPreviewVideos] = useState([]);\n\n  const [arrayOption, setArrayOption] = useState([]);\n\n  const [variables, setVariables] = useState([]);\n\n  const [previewDocs, setPreviewDocs] = useState([]);\n  const [numberDocLast, setNumberDocLast] = useState(0);\n  const [numberDocs, setNumberDocs] = useState(0);\n\n  const [labels, setLabels] = useState({\n    title: \"Adicionar conteúdo ao fluxo\",\n    btn: \"Adicionar\",\n  });\n\n  const { user } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  const handleElements = (newNameFiles) => {\n    let elementsSequence = [];\n\n    const newArrMessage = elementsSeq.filter((item) =>\n      item.includes(\"message\")\n    );\n    const newArrInterval = elementsSeq.filter((item) =>\n      item.includes(\"interval\")\n    );\n    const newArrImg = elementsSeq.filter((item) => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter((item) => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter((item) => item.includes(\"video\"));\n\n    //Todas as mensagens\n    for (let i = 0; i < numberMessages; i++) {\n      const value = document\n        .querySelector(`.${newArrMessage[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (!value) {\n        toast.error(\"Campos de mensagem vazio!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"message\",\n        value: value,\n        number: newArrMessage[i],\n      });\n      console.log(\"text\");\n    }\n    //Todos os intervalos\n    for (let i = 0; i < numberInterval; i++) {\n      const value = document\n        .querySelector(`.${newArrInterval[i]}`)\n        .querySelector(\".MuiInputBase-input\").value;\n      if (parseInt(value) === 0 || parseInt(value) > 120) {\n        toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");\n        setLoading(false);\n        throw \"\";\n      }\n      elementsSequence.push({\n        type: \"interval\",\n        value: value,\n        number: newArrInterval[i],\n      });\n    }\n\n    //Todas as imagens\n    for (let i = 0; i < numberImg; i++) {\n      const onlyImg =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          (file) =>\n            file.includes(\"png\") ||\n            file.includes(\"jpg\") ||\n            file.includes(\"jpeg\")\n        );\n      const onlyImgNameOriginal = medias.filter(\n        (file) =>\n          file.name.includes(\"png\") ||\n          file.name.includes(\"jpg\") ||\n          file.name.includes(\"jpeg\")\n      );\n      if (elementsSeqEdit.includes(newArrImg[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          (item) => item.number === newArrImg[i]\n        )[0];\n        elementsSequence.push({\n          type: \"img\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number,\n          teste: \"image\",\n        });\n      } else {\n        let indexElem = 0;\n        if (elementsSeqEdit.filter((item) => item.includes(\"img\")).length > 0) {\n          indexElem =\n            elementsSeqEdit.filter((item) => item.includes(\"img\")).length - i;\n        } else {\n          indexElem = i;\n        }\n\n        // console.log(\"IMAGE\", indexElem, '-->>', onlyImgNameOriginal[indexElem]);\n\n        elementsSequence.push({\n          type: \"img\",\n          value: onlyImg[indexElem],\n          original: onlyImgNameOriginal[indexElem].name,\n          number: newArrImg[i],\n          teste: \"image\",\n        });\n      }\n    }\n    //Todos os audios\n    for (let i = 0; i < numberAudio; i++) {\n      const onlyAudio =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          (file) =>\n            file.includes(\"mp3\") ||\n            file.includes(\"ogg\") ||\n            file.includes(\"mpeg\") ||\n            file.includes(\"opus\")\n        );\n      const onlyAudioNameOriginal = medias.filter(\n        (file) =>\n          file.name.includes(\"mp3\") ||\n          file.name.includes(\"ogg\") ||\n          file.name.includes(\"mpeg\") ||\n          file.name.includes(\"opus\")\n      );\n\n      if (elementsSeqEdit.includes(newArrAudio[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          (item) => item.number === newArrAudio[i]\n        )[0];\n        elementsSequence.push({\n          type: \"audio\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number,\n          record: document\n            .querySelector(`.check${newArrAudio[i]}`)\n            .querySelector(\".PrivateSwitchBase-input\").checked,\n        });\n      } else {\n        let indexElem = 0;\n        if (\n          elementsSeqEdit.filter((item) => item.includes(\"audio\")).length > 0\n        ) {\n          indexElem =\n            elementsSeqEdit.filter((item) => item.includes(\"audio\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"audio\",\n          value: onlyAudio[indexElem],\n          original: onlyAudioNameOriginal[indexElem].name,\n          number: newArrAudio[i],\n          record: document\n            .querySelector(`.check${newArrAudio[i]}`)\n            .querySelector(\".PrivateSwitchBase-input\").checked,\n        });\n      }\n    }\n    //Todos os videos\n    for (let i = 0; i < numberVideo; i++) {\n      const onlyVideo =\n        newNameFiles !== null &&\n        newNameFiles.filter(\n          (file) => file.includes(\"mp4\") || file.includes(\"avi\")\n        );\n      const onlyVideoNameOriginal = medias.filter(\n        (file) => file.name.includes(\"mp4\") || file.name.includes(\"avi\")\n      );\n      if (elementsSeqEdit.includes(newArrVideo[i])) {\n        const itemSelectedEdit = elementsEdit.filter(\n          (item) => item.number === newArrVideo[i]\n        )[0];\n        elementsSequence.push({\n          type: \"video\",\n          value: itemSelectedEdit.value,\n          original: itemSelectedEdit.original,\n          number: itemSelectedEdit.number,\n        });\n      } else {\n        let indexElem = 0;\n        if (\n          elementsSeqEdit.filter((item) => item.includes(\"video\")).length > 0\n        ) {\n          indexElem =\n            elementsSeqEdit.filter((item) => item.includes(\"video\")).length - i;\n        } else {\n          indexElem = i;\n        }\n        elementsSequence.push({\n          type: \"video\",\n          value: onlyVideo[indexElem],\n          original: onlyVideoNameOriginal[indexElem].name,\n          number: newArrVideo[i],\n        });\n      }\n    }\n    // Todos os documentos\n    for (let i = 0; i < numberDocs; i++) {\n      const onlyDocs =\n        newNameFiles !== null &&\n        newNameFiles.filter((file) => file.includes(\"pdf\"));\n      const onlyDocNameOriginal = medias.filter((file) =>\n        file.name.includes(\"pdf\")\n      );\n\n      // console.log(\"### elementsSeqEdit\", elementsSeqEdit);\n\n      if (elementsSeqEdit.includes(`document${i}`)) {\n        const itemSelectedEdit = elementsEdit.filter(\n          (item) => item.number === `document${i}`\n        )[0];\n        elementsSequence.push({\n          type: \"document\",\n          value: itemSelectedEdit?.value,\n          original: itemSelectedEdit?.original,\n          number: itemSelectedEdit?.number,\n        });\n      } else {\n        let indexElem = 0;\n        if (\n          elementsSeqEdit.filter((item) => item.includes(\"document\")).length > 0\n        ) {\n          indexElem =\n            elementsSeqEdit.filter((item) => item.includes(\"document\")).length -\n            i;\n        } else {\n          indexElem = i;\n        }\n\n        // console.log(\"onlyDocs\", onlyDocs);\n        // console.log(\"onlyDocNameOriginal\", onlyDocNameOriginal);\n        // console.log(\"DOCUMENT\", indexElem, '-->>', onlyDocNameOriginal[indexElem]);\n\n        elementsSequence.push({\n          type: \"document\",\n          value: onlyDocs[indexElem],\n          original: onlyDocNameOriginal[indexElem].name,\n          number: `document${i}`,\n        });\n      }\n    }\n\n    console.log(\"elementsSequence\", elementsSequence);\n\n    return elementsSequence;\n  };\n\n  const deleteElementsTypeOne = (id, type) => {\n    if (type === \"message\") {\n      setNumberMessages((old) => old - 1);\n      setElementsSeq((old) => old.filter((item) => item !== `message${id}`));\n      setElementsSeqEdit((old) =>\n        old.filter((item) => item !== `message${id}`)\n      );\n      document.querySelector(`.stackMessage${id}`).remove();\n    }\n    if (type === \"interval\") {\n      setNumberInterval((old) => old - 1);\n      setElementsSeq((old) => old.filter((item) => item !== `interval${id}`));\n      setElementsSeqEdit((old) =>\n        old.filter((item) => item !== `interval${id}`)\n      );\n      document.querySelector(`.stackInterval${id}`).remove();\n    }\n    if (type === \"img\") {\n      setNumberImg((old) => old - 1);\n      setPreviewImg((old) => {\n        setMedias((oldMedia) => {\n          try {\n            return oldMedia.filter(\n              (mediaItem) =>\n                mediaItem.name !==\n                old.filter((item) => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter((item) => item.number !== id);\n      });\n      setElementsSeq((old) => old.filter((item) => item !== `img${id}`));\n      setElementsSeqEdit((old) => old.filter((item) => item !== `img${id}`));\n      document.querySelector(`.stackImg${id}`).remove();\n    }\n    if (type === \"audio\") {\n      setNumberAudio((old) => old - 1);\n      setPreviewAudios((old) => {\n        setMedias((oldMedia) => {\n          try {\n            return oldMedia.filter(\n              (mediaItem) =>\n                mediaItem.name !==\n                old.filter((item) => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter((item) => item.number !== id);\n      });\n      setElementsSeq((old) => old.filter((item) => item !== `audio${id}`));\n      setElementsSeqEdit((old) => old.filter((item) => item !== `audio${id}`));\n      document.querySelector(`.stackAudio${id}`).remove();\n    }\n    if (type === \"video\") {\n      setNumberVideo((old) => old - 1);\n      setPreviewVideos((old) => {\n        setMedias((oldMedia) => {\n          try {\n            return oldMedia.filter(\n              (mediaItem) =>\n                mediaItem.name !==\n                old.filter((item) => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter((item) => item.number !== id);\n      });\n      setElementsSeq((old) => old.filter((item) => item !== `video${id}`));\n      setElementsSeqEdit((old) => old.filter((item) => item !== `video${id}`));\n      document.querySelector(`.stackVideo${id}`).remove();\n    }\n    if (type === \"document\") {\n      setNumberDocs((old) => old - 1);\n      setPreviewDocs((old) => {\n        setMedias((oldMedia) => {\n          try {\n            return oldMedia.filter(\n              (mediaItem) =>\n                mediaItem.name !==\n                old.filter((item) => item.number === id)[0].name\n            );\n          } catch (e) {\n            return oldMedia;\n          }\n        });\n        return old.filter((item) => item.number !== id);\n      });\n      setElementsSeq((old) => old.filter((item) => item !== `document${id}`));\n      setElementsSeqEdit((old) =>\n        old.filter((item) => item !== `document${id}`)\n      );\n      document.querySelector(`.stackDocument${id}`).remove();\n    }\n  };\n\n  const moveElementDown = (id) => {\n    setElementsSeq((old) => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaFrente(index);\n      console.log(\"id\", id);\n      if (index !== -1 && index < array.length - 1) {\n        // Verifica se o elemento foi encontrado no array e não está na última posição\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index + 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  const moveElementUp = (id) => {\n    setElementsSeq((old) => {\n      const array = old;\n      const index = array.indexOf(id);\n      moveItemParaTras(index);\n\n      if (index !== -1 && index > 0) {\n        // Verifica se o elemento foi encontrado no array e não está na primeira posição\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(index, 1)[0];\n        novoArray.splice(index - 1, 0, elementoMovido);\n        return novoArray;\n      }\n      return array;\n    });\n  };\n\n  function moveItemParaFrente(posicao) {\n    setElements((old) => {\n      const array = old;\n\n      if (posicao >= 0 && posicao < array.length - 1) {\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao + 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentação não for possível\n    });\n  }\n\n  function moveItemParaTras(posicao) {\n    setElements((old) => {\n      const array = old;\n      if (posicao > 0 && posicao < array.length) {\n        const novoArray = [...array]; // Cria uma cópia do array original\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\n        novoArray.splice(posicao - 1, 0, elementoMovido);\n        return novoArray;\n      }\n\n      return array; // Retorna o array original se a movimentação não for possível\n    });\n  }\n\n  const handleChangeMediasImg = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 2000000) {\n      toast.error(\"Arquivo é muito grande! 2MB máximo\");\n      return;\n    }\n    const imgBlob = URL.createObjectURL(e.target.files[0]);\n    // console.log(\"imgBlob\", imgBlob);\n    setPreviewImg((old) => [\n      ...old,\n      {\n        number: number,\n        url: imgBlob,\n        name: e.target.files[0].name,\n      },\n    ]);\n    const selectedMedias = Array.from(e.target.files);\n    setMedias((old) => [...old, selectedMedias[0]]);\n\n    document.querySelector(`.img${number}`).src = imgBlob;\n    document.querySelector(`.btnImg${number}`).remove();\n  };\n\n  const handleChangeAudios = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 5000000) {\n      toast.error(\"Arquivo é muito grande! 5MB máximo\");\n      return;\n    }\n\n    const audioBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewAudios((old) => [\n      ...old,\n      {\n        number: number,\n        url: audioBlob,\n        name: e.target.files[0].name,\n      },\n    ]);\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias((old) => [...old, selectedMedias[0]]);\n\n    document.querySelector(\n      `.audio${number}`\n    ).innerHTML = `<audio controls=\"controls\">\n    <source src=\"${audioBlob}\" type=\"audio/mp3\" />\n    seu navegador não suporta HTML5\n  </audio>`;\n    document.querySelector(`.btnAudio${number}`).remove();\n  };\n\n  const handleChangeVideos = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 20000000) {\n      toast.error(\"Arquivo é muito grande! 20MB máximo\");\n      return;\n    }\n    const videoBlob = URL.createObjectURL(e.target.files[0]);\n    setPreviewVideos((old) => [\n      ...old,\n      {\n        number: number,\n        url: videoBlob,\n        name: e.target.files[0].name,\n      },\n    ]);\n\n    var divConteudo = document.createElement(\"div\");\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias((old) => [...old, selectedMedias[0]]);\n\n    divConteudo.innerHTML = `<video controls=\"controls\" style=\"width: 200px;\">\n    <source src=\"${videoBlob}\" type=\"video/mp4\" />\n    seu navegador não suporta HTML5\n  </video>`;\n\n    document.querySelector(`.video${number}`).appendChild(divConteudo);\n    document.querySelector(`.btnVideo${number}`).remove();\n  };\n\n  const imgLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackImg${number}`}\n        key={`stackImg${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"img\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Imagem</Typography>\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          {/* COLOCAR AQUI */}\n          <img\n            src={\n              valueDefault.length > 0\n                ? `${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/flow/${valueDefault}`\n                : \"\"\n            }\n            className={`img${number}`}\n            style={{ width: \"200px\" }}\n          />\n        </Stack>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnImg${number}`}\n          >\n            Enviar imagem\n            <input\n              type=\"file\"\n              accept=\"image/png, image/jpg, image/jpeg\"\n              hidden\n              onChange={(e) => handleChangeMediasImg(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const audioLayout = (number, valueDefault = \"\", valueRecordDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackAudio${number}`}\n        key={`stackAudio${number}`}\n      >\n        <Stack\n          sx={{ position: \"absolute\", right: 6 }}\n          direction={\"row\"}\n          gap={1}\n        >\n          {/* <KeyboardArrowUp\n            onClick={() => moveElementUp(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          />\n          <KeyboardArrowDown\n            onClick={() => moveElementDown(`audio${number}`)}\n            sx={{ cursor: \"pointer\" }}\n          /> */}\n          <Delete\n            sx={{ cursor: \"pointer\" }}\n            onClick={() => deleteElementsTypeOne(number, \"audio\")}\n          />\n        </Stack>\n        <Typography textAlign={\"center\"}>Audio</Typography>\n        <div\n          className={`audio${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <audio controls=\"controls\">\n              <source\n                src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/flow/${valueDefault}`}\n                type=\"audio/mp3\"\n              />\n              seu navegador não suporta HTML5\n            </audio>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnAudio${number}`}\n          >\n            Enviar audio\n            <input\n              type=\"file\"\n              accept=\"audio/ogg, audio/mp3, audio/opus\"\n              hidden\n              onChange={(e) => handleChangeAudios(e, number)}\n            />\n          </Button>\n        )}\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\n          <Checkbox\n            className={`checkaudio${number}`}\n            defaultChecked={valueRecordDefault === \"ok\" ? false : true}\n          />\n          <Stack justifyContent={\"center\"}>\n            <Typography>Enviar como audio gravado na hora</Typography>\n          </Stack>\n        </Stack>\n      </Stack>\n    );\n  };\n\n  const videoLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackVideo${number}`}\n        key={`stackVideo${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"video\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Video</Typography>\n        <div\n          className={`video${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n          }}\n        >\n          {valueDefault.length > 0 && (\n            <video controls=\"controls\" style={{ width: \"200px\" }}>\n              <source\n                src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/flow/${valueDefault}`}\n                type=\"video/mp4\"\n              />\n              seu navegador não suporta HTML5\n            </video>\n          )}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnVideo${number}`}\n          >\n            Enviar video\n            <input\n              type=\"file\"\n              accept=\"video/mp4\"\n              hidden\n              onChange={(e) => handleChangeVideos(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const messageLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackMessage${number}`}\n        key={`stackMessage${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"message\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Texto</Typography>\n        <TextField\n          label={\"Mensagem\"}\n          defaultValue={valueDefault}\n          multiline\n          rows={7}\n          className={`message${number}`}\n          name=\"text\"\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n  const intervalLayout = (number, valueDefault = 0) => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackInterval${number}`}\n        key={`stackInterval${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"interval\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Intervalo</Typography>\n        <TextField\n          label={\"Tempo em segundos\"}\n          className={`interval${number}`}\n          defaultValue={valueDefault}\n          type=\"number\"\n          InputProps={{ inputProps: { min: 0, max: 120 } }}\n          variant=\"outlined\"\n          margin=\"dense\"\n          style={{ width: \"100%\" }}\n        />\n      </Stack>\n    );\n  };\n\n  const documentLayout = (number, valueDefault = \"\") => {\n    return (\n      <Stack\n        sx={{\n          border: \"1px solid #9a00ed\",\n          borderRadius: \"7px\",\n          padding: \"6px\",\n          position: \"relative\",\n        }}\n        className={`stackDocument${number}`}\n        key={`stackDocument${number}`}\n      >\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\n          <Delete onClick={() => deleteElementsTypeOne(number, \"document\")} />\n        </Stack>\n        <Typography textAlign={\"center\"}>Documento</Typography>\n        <div\n          className={`document${number}`}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n          }}\n        >\n          {valueDefault.length > 0 ? (\n            <embed\n              src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/flow/${valueDefault}`}\n              type=\"application/pdf\"\n              width=\"200px\"\n              height=\"200px\"\n            />\n          ) : null}\n        </div>\n        {valueDefault.length === 0 && (\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            className={`btnDocument${number}`}\n          >\n            Enviar Documento\n            <input\n              type=\"file\"\n              accept=\".doc,.docx,.pdf\"\n              hidden\n              onChange={(e) => handleChangeDocuments(e, number)}\n            />\n          </Button>\n        )}\n      </Stack>\n    );\n  };\n\n  const handleChangeDocuments = (e, number) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    if (e.target.files[0].size > 10000000) {\n      toast.error(\"Arquivo é muito grande! 10MB máximo\");\n      return;\n    }\n\n    const file = e.target.files[0];\n    const documentBlob = URL.createObjectURL(file);\n\n    // Verifica se o arquivo é PDF\n    const isPDF = file.type === \"application/pdf\";\n\n    setPreviewDocs((old) => [\n      ...old,\n      {\n        number: number,\n        url: documentBlob,\n        name: file.name,\n      },\n    ]);\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias((old) => [...old, selectedMedias[0]]);\n\n    if (isPDF) {\n      document.querySelector(`.document${number}`).innerHTML = `\n        <embed src=\"${documentBlob}\" type=\"application/pdf\" width=\"200px\" height=\"200px\" />\n      `;\n    } else {\n      document.querySelector(`.document${number}`).innerHTML = `\n        <a href=\"${documentBlob}\" target=\"_blank\" rel=\"noopener noreferrer\">Visualizar Documento</a>\n      `;\n    }\n    document.querySelector(`.btnDocument${number}`).remove();\n  };\n\n  useEffect(() => {\n    const localVariables = localStorage.getItem(\"variables\");\n    if (localVariables) {\n      setVariables(JSON.parse(localVariables));\n    }\n\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar conteúdo\",\n        btn: \"Salvar\",\n      });\n\n      setElementsSeq(data.data.seq);\n\n      setElementsSeqEdit(data.data.seq);\n      setElementsEdit(data.data.elements);\n      if (data) {\n        const elementsEditLoc = data.data.elements;\n        const sequence = data.data.seq;\n\n        sequence.map((item) => {\n          const itemNode = elementsEditLoc.filter(\n            (inode) => inode.number === item\n          )[0];\n          if (itemNode.type === \"message\") {\n            const numberLoc = parseInt(item.replace(\"message\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              messageLayout(numberLoc, itemNode.value),\n            ]);\n            setNumberMessages((old) => {\n              const arsOnly = sequence.filter((item) =>\n                item.includes(\"message\")\n              );\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"message\", \"\"))\n              );\n              setNumberMessagesLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n          if (itemNode.type === \"interval\") {\n            const numberLoc = parseInt(item.replace(\"interval\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              intervalLayout(numberLoc, itemNode.value),\n            ]);\n            setNumberInterval((old) => {\n              const arsOnly = sequence.filter((item) =>\n                item.includes(\"interval\")\n              );\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"interval\", \"\"))\n              );\n              setNumberIntervalLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n          if (itemNode.type === \"audio\") {\n            const numberLoc = parseInt(item.replace(\"audio\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              audioLayout(\n                numberLoc,\n                itemNode.value,\n                itemNode.record ? \"\" : \"ok\"\n              ),\n            ]);\n            setNumberAudio((old) => {\n              const arsOnly = sequence.filter((item) => item.includes(\"audio\"));\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"audio\", \"\"))\n              );\n              setNumberAudioLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n          if (itemNode.type === \"img\") {\n            const numberLoc = parseInt(item.replace(\"img\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              imgLayout(numberLoc, itemNode.value),\n            ]);\n            setNumberImg((old) => {\n              const arsOnly = sequence.filter((item) => item.includes(\"img\"));\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"img\", \"\"))\n              );\n              setNumberImgLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n          if (itemNode.type === \"video\") {\n            const numberLoc = parseInt(item.replace(\"video\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              videoLayout(numberLoc, itemNode.value),\n            ]);\n            setNumberVideo((old) => {\n              const arsOnly = sequence.filter((item) => item.includes(\"video\"));\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"video\", \"\"))\n              );\n              setNumberVideoLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n          if (itemNode.type === \"document\") {\n            const numberLoc = parseInt(item.replace(\"document\", \"\"));\n            setElements((elm) => [\n              ...elm,\n              documentLayout(numberLoc, itemNode.value),\n            ]);\n            setNumberDocs((old) => {\n              const arsOnly = sequence.filter((item) =>\n                item.includes(\"document\")\n              );\n              const arrNumberMax = arsOnly.map((item) =>\n                parseInt(item.replace(\"document\", \"\"))\n              );\n              setNumberDocLast(Math.max.apply(null, arrNumberMax) + 1);\n              return old + 1;\n            });\n          }\n        });\n      }\n      setActiveModal(true);\n    }\n    if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar menu ao fluxo\",\n        btn: \"Adicionar\",\n      });\n      setTextDig();\n      setArrayOption([]);\n      setActiveModal(true);\n    }\n  }, [open]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = async () => {\n    close(null);\n    setActiveModal(false);\n    setTimeout(() => {\n      setMedias([]);\n      setPreviewImg([]);\n      setPreviewAudios([]);\n      setPreviewVideos([]);\n      setArrayOption([]);\n      setElements([]);\n      setElementsSeq([]);\n      setElementsEdit([]);\n      setElementsSeqEdit([]);\n      setNumberMessages(0);\n      setNumberMessagesLast(0);\n      setNumberInterval(0);\n      setNumberIntervalLast(0);\n      setNumberAudio(0);\n      setNumberAudioLast(0);\n      setNumberVideo(0);\n      setNumberVideoLast(0);\n      setNumberImg(0);\n      setNumberImgLast(0);\n    }, 500);\n  };\n\n  const verifyButtonsUpload = () => {\n    const newArrImg = elementsSeq.filter((item) => item.includes(\"img\"));\n    const newArrAudio = elementsSeq.filter((item) => item.includes(\"audio\"));\n    const newArrVideo = elementsSeq.filter((item) => item.includes(\"video\"));\n    const newArrDocs = elementsSeq.filter((item) => item.includes(\"document\"));\n\n    for (let i = 0; i < numberImg; i++) {\n      const imgVerify = document.querySelector(\n        `.btn${capitalize(newArrImg[i])}`\n      );\n      if (imgVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberAudio; i++) {\n      const audioVerify = document.querySelector(\n        `.btn${capitalize(newArrAudio[i])}`\n      );\n      if (audioVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberVideo; i++) {\n      const videoVerify = document.querySelector(\n        `.btn${capitalize(newArrVideo[i])}`\n      );\n      if (videoVerify) {\n        return true;\n      }\n    }\n    for (let i = 0; i < numberDocs; i++) {\n      const docVerify = document.querySelector(`.btnDocument${i}`);\n      if (docVerify) {\n        return true;\n      }\n    }\n  };\n\n  const handleSaveNode = async () => {\n    if (open === \"edit\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] === \"image\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", file);\n          formData.append(\"body\", file.name);\n        } else if (media?.type.split(\"/\")[0] === \"audio\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", file);\n          formData.append(\"body\", file.name);\n        } else if (media?.type.split(\"/\")[0] === \"video\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", file);\n          formData.append(\"body\", file.name);\n        } else if (\n          media?.type.split(\"/\")[0] === \"application\" ||\n          media?.type.split(\"/\")[1] === \"document\" ||\n          media?.type.split(\"/\")[1] === \"pdf\"\n        ) {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", file);\n          formData.append(\"body\", file.name);\n        } else {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", file);\n          formData.append(\"body\", file.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (\n          (numberAudio === 0 &&\n            numberVideo === 0 &&\n            numberImg === 0 &&\n            numberDocs === 0) ||\n          medias.length === 0\n        ) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null),\n            };\n            onUpdate({\n              ...data,\n              data: mountData,\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            console.log(\"error1\", e);\n            setLoading(false);\n            handleClose();\n          }\n          return;\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then(async (res) => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data),\n            };\n            onUpdate({\n              ...data,\n              data: mountData,\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n          })\n          .catch((error) => {\n            console.log(\"error2\", error);\n            handleClose();\n            setLoading(false);\n          });\n      }, 1500);\n    } else if (open === \"create\") {\n      setLoading(true);\n      const formData = new FormData();\n\n      medias.forEach(async (media, idx) => {\n        const file = media;\n\n        if (!file) {\n          return;\n        }\n\n        if (media?.type.split(\"/\")[0] === \"image\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        } else if (media?.type.split(\"/\")[0] === \"audio\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        } else if (media?.type.split(\"/\")[0] === \"video\") {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        } else if (\n          media?.type.split(\"/\")[0] === \"application\" ||\n          media?.type.split(\"/\")[1] === \"document\" ||\n          media?.type.split(\"/\")[1] === \"pdf\"\n        ) {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        } else {\n          formData.append(\"typeArch\", \"flow\");\n          formData.append(\"medias\", media);\n          formData.append(\"body\", media.name);\n        }\n      });\n\n      setTimeout(async () => {\n        if (\n          numberAudio === 0 &&\n          numberVideo === 0 &&\n          numberImg === 0 &&\n          numberDocs === 0\n        ) {\n          try {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(null),\n            };\n            onSave({\n              ...mountData,\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n\n            return;\n          } catch (e) {\n            console.log(\"error3\", e);\n            setLoading(false);\n            handleClose();\n          }\n        }\n        const verify = verifyButtonsUpload();\n        if (verify) {\n          setLoading(false);\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\n        }\n        await api\n          .post(\"/flowbuilder/content\", formData)\n          .then((res) => {\n            const mountData = {\n              seq: elementsSeq,\n              elements: handleElements(res.data),\n            };\n            onSave({\n              ...mountData,\n            });\n            toast.success(\"Conteúdo adicionada com sucesso!\");\n            handleClose();\n            setLoading(false);\n          })\n          .catch((error) => {\n            console.log(\"error4\", error);\n            setLoading(false);\n            handleClose();\n          });\n      }, 1500);\n    }\n  };\n\n  const scrollToBottom = (className) => {\n    const element = document.querySelector(className);\n    element.scrollTop = element.scrollHeight;\n  };\n\n  const variableFormatter = (item) => {\n    return \"{{\" + item + \"}}\";\n  };\n\n  return (\n    <div>\n      <Dialog open={activeModal} fullWidth=\"lg\" scroll=\"paper\">\n        {!loading && (\n          <DialogTitle id=\"form-dialog-title\">\n            Adicionar conteúdo ao fluxo\n          </DialogTitle>\n        )}\n        <Stack>\n          <Stack\n            className=\"body-card\"\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              overflow: \"auto\",\n              height: \"70vh\",\n              scrollBehavior: \"smooth\",\n              display: loading && \"none\",\n            }}\n          >\n            {elements.map((item) => (\n              <>{item}</>\n            ))}\n            <Stack direction={\"row\"} gap={1}>\n              {/* Texto */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [\n                    ...old,\n                    messageLayout(numberMessagesLast),\n                  ]);\n                  setNumberMessages((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `message${numberMessagesLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberMessagesLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Message\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Texto\n              </Button>\n              {/* Intervalo */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [\n                    ...old,\n                    intervalLayout(numberIntervalLast),\n                  ]);\n                  setNumberInterval((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `interval${numberIntervalLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberIntervalLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <AccessTime\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Intervalo\n              </Button>\n              {/* Imagem */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [...old, imgLayout(numberImgLast)]);\n                  setNumberImg((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `img${numberImgLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberImgLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Image\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Imagem\n              </Button>\n              {/* Audio */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [...old, audioLayout(numberAudioLast)]);\n                  setNumberAudio((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `audio${numberAudioLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberAudioLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <MicNone\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Audio\n              </Button>\n              {/* Video */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [...old, videoLayout(numberVideoLast)]);\n                  setNumberVideo((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `video${numberVideoLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberVideoLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <Videocam\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Video\n              </Button>\n              {/* Documento */}\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setElements((old) => [...old, documentLayout(numberDocLast)]);\n                  setNumberDocs((old) => {\n                    setElementsSeq((oldEleme) => [\n                      ...oldEleme,\n                      `document${numberDocLast}`,\n                    ]);\n                    return old + 1;\n                  });\n                  setNumberDocLast((old) => old + 1);\n                  setTimeout(() => {\n                    scrollToBottom(\".body-card\");\n                  }, 100);\n                }}\n              >\n                <InsertDriveFile\n                  sx={{\n                    width: \"16px\",\n                    height: \"16px\",\n                    marginRight: \"4px\",\n                  }}\n                />\n                Documento\n              </Button>\n            </Stack>\n            <Box style={{ width: \"100%\", textAlign: \"center\" }}>\n              <div className=\"shadow- py-2 font-bold bg-blue-900 rounded text-white\">\n                Variáveis\n              </div>\n              {variables && (\n                <div className=\"w-full  max-h-full overflow-y-auto space-y-2 py-2\">\n                  {variables.map((item) => (\n                    <div className=\"rounded border-2 border-dashed border-zinc-800\">\n                      <p className=\"text-zinc-600\">{variableFormatter(item)}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </Box>\n          </Stack>\n\n          <DialogActions>\n            <Button\n              onClick={handleClose}\n              color=\"secondary\"\n              variant=\"outlined\"\n              style={{ display: loading && \"none\" }}\n            >\n              {i18n.t(\"contactModal.buttons.cancel\")}\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => handleSaveNode()}\n              style={{ display: loading && \"none\" }}\n            >\n              {`${labels.btn}`}\n            </Button>\n          </DialogActions>\n        </Stack>\n        {loading && (\n          <Stack\n            style={{\n              gap: \"8px\",\n              padding: \"16px\",\n              height: \"70vh\",\n              alignSelf: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Stack>\n              <Typography>\n                Subindo os arquivos e criando o conteúdo...\n              </Typography>\n              <Stack style={{ alignSelf: \"center\", marginTop: \"12px\" }}>\n                <CircularProgress />\n              </Stack>\n            </Stack>\n          </Stack>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderSingleBlockModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}