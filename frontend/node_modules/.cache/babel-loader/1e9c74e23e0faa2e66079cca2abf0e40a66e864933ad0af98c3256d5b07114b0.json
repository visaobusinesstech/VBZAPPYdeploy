{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import Wavoip from'wavoip-api';import SoundCalling from'./calling.mp3';import SoundRinging from'./ring.mp3';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WavoipPhoneWidget=_ref=>{let{token,position='bottom-right',name='MultiFlow Phone',country='BR',autoConnect=true,onCallStart,onCallEnd,onConnectionStatus,onError}=_ref;const[isMinimized,setIsMinimized]=useState(false);const[isConnected,setIsConnected]=useState(false);const[isInCall,setIsInCall]=useState(false);const[currentNumber,setCurrentNumber]=useState('');const[callStatus,setCallStatus]=useState('');const[callDuration,setCallDuration]=useState(0);const[incomingCall,setIncomingCall]=useState(null);const[callStartTime,setCallStartTime]=useState(null);const[numberError,setNumberError]=useState('');const[callerName,setCallerName]=useState('');// Nome de quem est√° ligando\nconst wavoipInstanceRef=useRef(null);const durationIntervalRef=useRef(null);const widgetRef=useRef(null);const audioRef=useRef(null);const callingSoundRef=useRef(null);const ringingSoundRef=useRef(null);const stopCalling=()=>{const audio=callingSoundRef.current;if(audio){audio.pause();audio.currentTime=0;console.log(\"üîá Chamando parado\");}};const playCalling=async()=>{stopCalling();// para qualquer som anterior\nunlockAudio();const audio=new Audio(SoundCalling);audio.loop=true;// Eventos de debug (opcional)\naudio.onplay=()=>console.log(\"üìû Chamando tocando\");audio.onpause=()=>console.log(\"üîá Chamando pausado\");audio.onerror=e=>console.error(\"Erro de √°udio:\",e);callingSoundRef.current=audio;try{await audio.play();}catch(err){console.error(\"Erro ao iniciar som de chamada:\",err);}};const stopRinging=()=>{const audio=ringingSoundRef.current;if(audio){audio.pause();audio.currentTime=0;console.log(\"üîá Ringing parado\");}};const playRinging=async()=>{stopRinging();// parar qualquer anterior\nunlockAudio();const audio=new Audio(SoundRinging);audio.loop=true;audio.onplay=()=>console.log(\"üéµ Ringing tocando\");audio.onpause=()=>console.log(\"üîá Ringing pausado\");audio.onerror=e=>console.error(\"Erro de √°udio:\",e);ringingSoundRef.current=audio;try{await audio.play();}catch(err){console.error(\"Erro ao iniciar √°udio:\",err);}};const unlockAudio=()=>{// Toca e pausa imediatamente s√≥ para o navegador liberar o autoplay depois\nif(audioRef.current){audioRef.current.play().then(()=>{audioRef.current.pause();audioRef.current.currentTime=0;console.log(\"√Åudio desbloqueado\");}).catch(e=>console.warn(\"Erro ao tentar desbloquear o √°udio:\",e));}};const countryUpper=country.toUpperCase();const keypadRows=[['1','2','3'],['4','5','6'],['7','8','9'],['*','0','#']];// CSS inline\nconst styles={widget:_objectSpread(_objectSpread(_objectSpread(_objectSpread({position:'fixed',zIndex:9999,fontFamily:'Arial, sans-serif',fontSize:'14px'},position==='bottom-right'&&{bottom:'65px',right:'20px'}),position==='bottom-left'&&{bottom:'20px',left:'20px'}),position==='top-right'&&{top:'20px',right:'20px'}),position==='top-left'&&{top:'20px',left:'20px'}),minimized:{width:'30px',height:'30px',backgroundColor:isInCall?'#dc3545':'#00339E',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',boxShadow:'0 4px 12px rgba(0,0,0,0.15)',transition:'all 0.3s ease',border:'none',outline:'none',position:'relative'},expanded:{width:'320px',backgroundColor:'white',borderRadius:'12px',boxShadow:'0 8px 24px rgba(0,0,0,0.15)',overflow:'hidden',transition:'all 0.3s ease'},header:{backgroundColor:'#00339E',color:'white',padding:'15px',display:'flex',alignItems:'center',justifyContent:'space-between'},connectionStatus:{display:'flex',alignItems:'center',gap:'8px'},statusIcon:{fontSize:'16px'},statusText:{fontSize:'14px',fontWeight:'bold'},minimizeBtn:{background:'none',border:'none',color:'white',fontSize:'18px',cursor:'pointer',padding:'5px'},display:{padding:'20px',textAlign:'center',minHeight:'120px',display:'flex',flexDirection:'column',justifyContent:'center'},callInfo:{marginBottom:'10px'},callStatus:{fontSize:'16px',fontWeight:'bold',marginBottom:'5px'},phoneNumber:{fontSize:'18px',fontWeight:'bold',marginBottom:'5px'},callerName:{fontSize:'14px',color:'#666',marginBottom:'5px'},callDuration:{fontSize:'14px',color:'#666'},idleDisplay:{marginBottom:'10px'},welcomeText:{fontSize:'16px',fontWeight:'bold',marginBottom:'5px'},phoneNumberDisplay:{fontSize:'18px',fontWeight:'bold',marginBottom:'5px',minHeight:'27px'},subtitle:{fontSize:'12px',color:'#666',marginBottom:'5px'},numberError:{fontSize:'12px',color:'#dc3545',marginTop:'5px'},keypad:{padding:'0 20px 20px'},keypadRow:{display:'flex',gap:'10px',marginBottom:'10px'},keypadKey:{flex:1,height:'50px',border:'1px solid #ddd',borderRadius:'8px',background:'white',fontSize:'18px',fontWeight:'bold',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',transition:'all 0.2s ease'},keyNumber:{fontSize:'18px'},keySymbol:{fontSize:'12px',marginTop:'2px'},actions:{padding:'0 20px 20px',display:'flex',gap:'10px'},actionBtn:{flex:1,height:'50px',border:'none',borderRadius:'8px',fontSize:'18px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.2s ease'},callBtn:{backgroundColor:'#00339E',color:'white'},endCallBtn:{backgroundColor:'#dc3545',color:'white'},clearBtn:{backgroundColor:'#6c757d',color:'white'},incomingCallOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},incomingCallContent:{backgroundColor:'white',borderRadius:'12px',padding:'30px',textAlign:'center',maxWidth:'280px'},incomingCallIcon:{fontSize:'48px',color:'#00339E',marginBottom:'20px'},incomingCallInfo:{marginBottom:'20px'},incomingNumber:{fontSize:'18px',fontWeight:'bold',marginBottom:'5px'},incomingLabel:{fontSize:'14px',color:'#666'},incomingCallActions:{display:'flex',gap:'10px'},answerBtn:{flex:1,height:'50px',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'8px',fontSize:'18px',cursor:'pointer'},rejectBtn:{flex:1,height:'50px',backgroundColor:'#dc3545',color:'white',border:'none',borderRadius:'8px',fontSize:'18px',cursor:'pointer'},pulse:{animation:'pulse 1s infinite'}};// Valida√ß√£o de n√∫meros brasileiros\nconst validateBrazilianNumber=number=>{const cleanNumber=number.replace(/\\D/g,'');return{isValid:true,error:'',formatted:cleanNumber,canType:false};};// Valida√ß√£o de n√∫meros gen√©ricos\nconst validateGenericNumber=(number,country)=>{const cleanNumber=number.replace(/\\D/g,'');if(cleanNumber.length===0){return{isValid:false,error:'',canType:true};}if(cleanNumber.length<7){return{isValid:false,error:'N√∫mero muito curto',canType:true};}if(cleanNumber.length>15){return{isValid:false,error:'N√∫mero muito longo',canType:false};}if(!/^[1-9][0-9]+$/.test(cleanNumber)){return{isValid:false,error:'N√∫mero inv√°lido',canType:true};}return{isValid:true,error:'',formatted:cleanNumber,canType:cleanNumber.length<15};};// Valida√ß√£o de n√∫mero\nconst validateNumber=number=>{if(countryUpper==='BR'){return validateBrazilianNumber(number);}else{return validateGenericNumber(number,countryUpper);}};// Obter comprimento m√°ximo\nconst getMaxLength=()=>{if(countryUpper==='BR'){return 11;}else{return 15;}};// Conectar ao Wavoip\nconst connectToWavoip=useCallback(async()=>{try{const WAV=new Wavoip();const instance=WAV.connect(token);wavoipInstanceRef.current=instance;instance.socket.on('connect',()=>{setIsConnected(true);if(onConnectionStatus)onConnectionStatus('connected');});instance.socket.on('disconnect',reason=>{setIsConnected(false);setIsInCall(false);setCallStatus('');setCallerName('');setIncomingCall(null);if(onConnectionStatus)onConnectionStatus('disconnected');});instance.socket.on('signaling',data=>{console.log('Signaling event:',data);if(data.tag==='offer'){var _data$content,_data$content2;unlockAudio();playRinging();setIncomingCall({number:((_data$content=data.content)===null||_data$content===void 0?void 0:_data$content.from_tag)||'N√∫mero desconhecido',data:data});setCallerName(((_data$content2=data.content)===null||_data$content2===void 0?void 0:_data$content2.from_tag)||'N√∫mero desconhecido');if(isMinimized){setIsMinimized(false);}if(onCallStart)onCallStart(data);}if(data.tag==='answer'||data.tag=='accept_elsewhere'||data.tag=='accept'){setIsInCall(true);setCallStatus('Em chamada');setCallStartTime(Date.now());startDurationTimer();stopRinging();stopCalling();if(onCallStart)onCallStart(data);}if(data.tag==='bye'||data.tag=='terminate'||data.tag=='reject_elsewhere'||data.tag=='reject'){console.log('Chamada finalizada via bye');setIsInCall(false);setCallStatus('');setCallerName('');setCurrentNumber('');stopDurationTimer();setIncomingCall(null);stopRinging();stopCalling();if(onCallEnd)onCallEnd(data);}});instance.socket.on('audio_transport:create',_ref2=>{let{room,sampleRate}=_ref2;console.log('Audio transport created:',{room,sampleRate});setIsInCall(true);setCallStatus('Conectando...');});instance.socket.on('audio_transport:terminate',_ref3=>{let{room}=_ref3;console.log('Audio transport terminated:',{room});setIsInCall(false);setCallStatus('');setCallerName('');setCurrentNumber('');stopDurationTimer();setIncomingCall(null);if(onCallEnd)onCallEnd({room});});instance.deviceEmitter.on('incoming_call',data=>{var _data$content3,_data$content4;console.log('Incoming call event:',data);setIncomingCall({number:((_data$content3=data.content)===null||_data$content3===void 0?void 0:_data$content3.from_tag)||'N√∫mero desconhecido',data:data});setCallerName(((_data$content4=data.content)===null||_data$content4===void 0?void 0:_data$content4.from_tag)||'N√∫mero desconhecido');if(isMinimized){setIsMinimized(false);}});}catch(error){if(onError)onError(error);}},[token,isMinimized,onCallStart,onCallEnd,onConnectionStatus,onError]);// Fazer chamada\nconst makeCall=useCallback(()=>{if(!wavoipInstanceRef.current||!currentNumber||numberError)return;const validation=validateNumber(currentNumber);if(!validation.isValid){setNumberError(validation.error);return;}try{playCalling();wavoipInstanceRef.current.callStart({whatsappid:validation.formatted});setIsInCall(true);setCallStatus('Chamando...');setCallerName(validation.formatted);setCallStartTime(Date.now());startDurationTimer();if(onCallStart)onCallStart({whatsappid:validation.formatted});}catch(error){if(onError)onError(error);}},[currentNumber,numberError,onCallStart,onError]);// Finalizar chamada\nconst endCall=useCallback(()=>{if(!wavoipInstanceRef.current)return;try{wavoipInstanceRef.current.endCall();setIsInCall(false);setCallStatus('');setCallerName('');setCurrentNumber('');stopDurationTimer();setIncomingCall(null);stopCalling();if(onCallEnd)onCallEnd({action:'ended'});}catch(error){if(onError)onError(error);}},[onCallEnd,onError]);// Atender chamada\nconst answerCall=useCallback(()=>{if(!wavoipInstanceRef.current||!incomingCall)return;try{wavoipInstanceRef.current.acceptCall();setIncomingCall(null);setIsInCall(true);setCallStatus('Em chamada');setCallStartTime(Date.now());startDurationTimer();stopCalling();stopRinging();if(onCallStart)onCallStart(incomingCall===null||incomingCall===void 0?void 0:incomingCall.data);}catch(error){if(onError)onError(error);}},[incomingCall,onCallStart,onError]);// Rejeitar chamada\nconst rejectCall=useCallback(()=>{if(!wavoipInstanceRef.current||!incomingCall)return;try{stopCalling();stopRinging();wavoipInstanceRef.current.rejectCall();setIncomingCall(null);setCallerName('');if(onCallEnd)onCallEnd({action:'rejected'});}catch(error){if(onError)onError(error);}},[incomingCall,onCallEnd,onError]);// Limpar n√∫mero\nconst clearNumber=useCallback(()=>{setCurrentNumber(prev=>prev.slice(0,-1));},[]);// Validar n√∫mero atual\nconst validateCurrentNumber=useCallback(()=>{if(!currentNumber){setNumberError('');return;}const validation=validateNumber(currentNumber);setNumberError(validation.error);},[currentNumber]);// Pressionar tecla do teclado\nconst handleKeyPress=useCallback(key=>{if(isInCall)return;const maxLength=getMaxLength();const currentLength=currentNumber.replace(/\\D/g,'').length;if(currentLength>=maxLength){return;}if(key==='*'){setCurrentNumber(prev=>prev+'*');}else if(key==='#'){setCurrentNumber(prev=>prev+'#');}else{setCurrentNumber(prev=>prev+key);}},[isInCall,currentNumber]);// Input do teclado\nconst handleKeyboardInput=useCallback(event=>{if(isMinimized||isInCall)return;const key=event.key;const maxLength=getMaxLength();const currentLength=currentNumber.replace(/\\D/g,'').length;if(/^[0-9]$/.test(key)){if(currentLength>=maxLength){event.preventDefault();return;}event.preventDefault();setCurrentNumber(prev=>prev+key);}else if(key==='*'||key==='#'){if(currentLength>=maxLength){event.preventDefault();return;}event.preventDefault();setCurrentNumber(prev=>prev+key);}else if(key==='Backspace'){event.preventDefault();clearNumber();}else if(key==='Enter'){event.preventDefault();if(currentNumber&&isConnected&&!numberError){makeCall();}}else if(key==='Escape'){event.preventDefault();setCurrentNumber('');setNumberError('');}},[isMinimized,isInCall,currentNumber,isConnected,numberError,clearNumber,makeCall]);// Iniciar timer de dura√ß√£o\nconst startDurationTimer=useCallback(()=>{const intervalId=setInterval(()=>{if(callStartTime){setCallDuration(Math.floor((Date.now()-callStartTime)/1000));}},1000);durationIntervalRef.current=intervalId;},[callStartTime]);// Parar timer de dura√ß√£o\nconst stopDurationTimer=useCallback(()=>{if(durationIntervalRef.current){const cleared=clearInterval(durationIntervalRef.current);durationIntervalRef.current=null;}setCallDuration(0);setCallStartTime(null);},[]);// Formatar dura√ß√£o\nconst formatDuration=useCallback(seconds=>{const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes.toString().padStart(2,'0'),\":\").concat(remainingSeconds.toString().padStart(2,'0'));},[]);// Alternar widget\nconst toggleWidget=useCallback(()=>{setIsMinimized(prev=>!prev);},[]);// Validar n√∫mero quando mudar\nuseEffect(()=>{validateCurrentNumber();},[currentNumber,validateCurrentNumber]);// Conectar automaticamente\nuseEffect(()=>{if(autoConnect){connectToWavoip();}},[autoConnect,connectToWavoip]);// Adicionar listener do teclado\nuseEffect(()=>{document.addEventListener('keydown',handleKeyboardInput);return()=>{document.removeEventListener('keydown',handleKeyboardInput);};},[handleKeyboardInput]);// Cleanup\nuseEffect(()=>{return()=>{// Parar timer de dura√ß√£o\nif(durationIntervalRef.current){const cleared=clearInterval(durationIntervalRef.current);durationIntervalRef.current=null;}// Desconectar do Wavoip\nif(wavoipInstanceRef.current){var _wavoipInstanceRef$cu;const disconnected=(_wavoipInstanceRef$cu=wavoipInstanceRef.current.socket)===null||_wavoipInstanceRef$cu===void 0?void 0:_wavoipInstanceRef$cu.disconnect();}};},[]);// Sem depend√™ncias para evitar loops\n// Renderizar widget minimizado\nif(isMinimized){return/*#__PURE__*/_jsx(\"div\",{style:styles.widget,children:/*#__PURE__*/_jsx(\"button\",{style:styles.minimized,onClick:toggleWidget,title:name,children:/*#__PURE__*/_jsx(\"span\",{style:_objectSpread(_objectSpread({},styles.statusIcon),isInCall&&styles.pulse),children:\"\\uD83D\\uDCDE\"})})});}// Renderizar widget expandido\nreturn/*#__PURE__*/_jsx(\"div\",{style:styles.widget,ref:widgetRef,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.expanded,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.connectionStatus,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.statusIcon,children:isConnected?'‚úÖ':'‚ùå'}),/*#__PURE__*/_jsx(\"span\",{style:styles.statusText,children:isConnected?'Conectado':'Desconectado'})]}),/*#__PURE__*/_jsx(\"button\",{style:styles.minimizeBtn,onClick:toggleWidget,title:\"Minimizar\",children:\"\\u2212\"})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.display,children:isInCall?/*#__PURE__*/_jsxs(\"div\",{style:styles.callInfo,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.callStatus,children:callStatus}),callerName&&/*#__PURE__*/_jsx(\"div\",{style:styles.callerName,children:callerName}),callDuration>0&&/*#__PURE__*/_jsx(\"div\",{style:styles.callDuration,children:formatDuration(callDuration)})]}):/*#__PURE__*/_jsxs(\"div\",{style:styles.idleDisplay,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.welcomeText,children:name}),/*#__PURE__*/_jsx(\"div\",{style:styles.phoneNumberDisplay,children:currentNumber||'Digite um n√∫mero'}),/*#__PURE__*/_jsx(\"div\",{style:styles.subtitle,children:\"Fa\\xE7a chamadas via WhatsApp\"}),numberError&&/*#__PURE__*/_jsx(\"div\",{style:styles.numberError,children:numberError})]})}),/*#__PURE__*/_jsx(\"div\",{style:styles.keypad,children:keypadRows.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"div\",{style:styles.keypadRow,children:row.map(key=>/*#__PURE__*/_jsxs(\"button\",{style:styles.keypadKey,onClick:()=>handleKeyPress(key),disabled:isInCall,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.keyNumber,children:key}),(key==='*'||key==='#')&&/*#__PURE__*/_jsx(\"span\",{style:styles.keySymbol,children:key})]},key))},rowIndex))}),/*#__PURE__*/_jsxs(\"div\",{style:styles.actions,children:[!isInCall?/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.actionBtn),styles.callBtn),onClick:makeCall,disabled:!isConnected||!currentNumber||numberError,children:\"\\uD83D\\uDCDE\"}):/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.actionBtn),styles.endCallBtn),onClick:endCall,children:\"\\uD83D\\uDCDE\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.actionBtn),styles.clearBtn),onClick:clearNumber,disabled:isInCall,children:\"\\u232B\"})]}),incomingCall&&/*#__PURE__*/_jsx(\"div\",{style:styles.incomingCallOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.incomingCallContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.incomingCallIcon,children:/*#__PURE__*/_jsx(\"span\",{style:styles.pulse,children:\"\\uD83D\\uDCDE\"})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.incomingCallInfo,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.incomingNumber,children:incomingCall.number}),/*#__PURE__*/_jsx(\"div\",{style:styles.incomingLabel,children:\"Chamada recebida\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.incomingCallActions,children:[/*#__PURE__*/_jsx(\"button\",{style:styles.answerBtn,onClick:answerCall,children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.rejectBtn,onClick:rejectCall,children:\"\\u274C\"})]})]})})]})});};export default WavoipPhoneWidget;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Wavoip","SoundCalling","SoundRinging","jsx","_jsx","jsxs","_jsxs","WavoipPhoneWidget","_ref","token","position","name","country","autoConnect","onCallStart","onCallEnd","onConnectionStatus","onError","isMinimized","setIsMinimized","isConnected","setIsConnected","isInCall","setIsInCall","currentNumber","setCurrentNumber","callStatus","setCallStatus","callDuration","setCallDuration","incomingCall","setIncomingCall","callStartTime","setCallStartTime","numberError","setNumberError","callerName","setCallerName","wavoipInstanceRef","durationIntervalRef","widgetRef","audioRef","callingSoundRef","ringingSoundRef","stopCalling","audio","current","pause","currentTime","console","log","playCalling","unlockAudio","Audio","loop","onplay","onpause","onerror","e","error","play","err","stopRinging","playRinging","then","catch","warn","countryUpper","toUpperCase","keypadRows","styles","widget","_objectSpread","zIndex","fontFamily","fontSize","bottom","right","left","top","minimized","width","height","backgroundColor","borderRadius","display","alignItems","justifyContent","cursor","boxShadow","transition","border","outline","expanded","overflow","header","color","padding","connectionStatus","gap","statusIcon","statusText","fontWeight","minimizeBtn","background","textAlign","minHeight","flexDirection","callInfo","marginBottom","phoneNumber","idleDisplay","welcomeText","phoneNumberDisplay","subtitle","marginTop","keypad","keypadRow","keypadKey","flex","keyNumber","keySymbol","actions","actionBtn","callBtn","endCallBtn","clearBtn","incomingCallOverlay","incomingCallContent","maxWidth","incomingCallIcon","incomingCallInfo","incomingNumber","incomingLabel","incomingCallActions","answerBtn","rejectBtn","pulse","animation","validateBrazilianNumber","number","cleanNumber","replace","isValid","formatted","canType","validateGenericNumber","length","test","validateNumber","getMaxLength","connectToWavoip","WAV","instance","connect","socket","on","reason","data","tag","_data$content","_data$content2","content","from_tag","Date","now","startDurationTimer","stopDurationTimer","_ref2","room","sampleRate","_ref3","deviceEmitter","_data$content3","_data$content4","makeCall","validation","callStart","whatsappid","endCall","action","answerCall","acceptCall","rejectCall","clearNumber","prev","slice","validateCurrentNumber","handleKeyPress","key","maxLength","currentLength","handleKeyboardInput","event","preventDefault","intervalId","setInterval","Math","floor","cleared","clearInterval","formatDuration","seconds","minutes","remainingSeconds","concat","toString","padStart","toggleWidget","document","addEventListener","removeEventListener","_wavoipInstanceRef$cu","disconnected","disconnect","style","children","onClick","title","ref","map","row","rowIndex","disabled"],"sources":["/home/deploy/codigologlow/frontend/src/components/WavoipCall/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Wavoip from 'wavoip-api';\nimport SoundCalling from './calling.mp3';\nimport SoundRinging from './ring.mp3';\n\nconst WavoipPhoneWidget = ({\n  token,\n  position = 'bottom-right',\n  name = 'MultiFlow Phone',\n  country = 'BR',\n  autoConnect = true,\n  onCallStart,\n  onCallEnd,\n  onConnectionStatus,\n  onError\n}) => {\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isInCall, setIsInCall] = useState(false);\n  const [currentNumber, setCurrentNumber] = useState('');\n  const [callStatus, setCallStatus] = useState('');\n  const [callDuration, setCallDuration] = useState(0);\n  const [incomingCall, setIncomingCall] = useState(null);\n  const [callStartTime, setCallStartTime] = useState(null);\n  const [numberError, setNumberError] = useState('');\n  const [callerName, setCallerName] = useState(''); // Nome de quem est√° ligando\n  \n  const wavoipInstanceRef = useRef(null);\n  const durationIntervalRef = useRef(null);\n  const widgetRef = useRef(null);\n  const audioRef = useRef(null);\n\n  const callingSoundRef = useRef(null);\n  const ringingSoundRef = useRef(null);\n\n  const stopCalling = () => {\n    const audio = callingSoundRef.current;\n    if (audio) {\n      audio.pause();\n      audio.currentTime = 0;\n      console.log(\"üîá Chamando parado\");\n    }\n  };\n\n  const playCalling = async () => {\n    stopCalling(); // para qualquer som anterior\n    unlockAudio();\n    const audio = new Audio(SoundCalling);\n    audio.loop = true;\n\n    // Eventos de debug (opcional)\n    audio.onplay = () => console.log(\"üìû Chamando tocando\");\n    audio.onpause = () => console.log(\"üîá Chamando pausado\");\n    audio.onerror = (e) => console.error(\"Erro de √°udio:\", e);\n\n    callingSoundRef.current = audio;\n\n    try {\n      await audio.play();\n    } catch (err) {\n      console.error(\"Erro ao iniciar som de chamada:\", err);\n    }\n  };\n\n  const stopRinging = () => {\n    const audio = ringingSoundRef.current;\n    if (audio) {\n      audio.pause();\n      audio.currentTime = 0;\n      console.log(\"üîá Ringing parado\");\n    }\n  };\n\n  const playRinging = async () => {\n    stopRinging(); // parar qualquer anterior\n    unlockAudio();\n    const audio = new Audio(SoundRinging);\n    audio.loop = true;\n    audio.onplay = () => console.log(\"üéµ Ringing tocando\");\n    audio.onpause = () => console.log(\"üîá Ringing pausado\");\n    audio.onerror = (e) => console.error(\"Erro de √°udio:\", e);\n    ringingSoundRef.current = audio;\n    try {\n      await audio.play();\n    } catch (err) {\n      console.error(\"Erro ao iniciar √°udio:\", err);\n    }\n  };\n\n\n  const unlockAudio = () => {\n    // Toca e pausa imediatamente s√≥ para o navegador liberar o autoplay depois\n    if (audioRef.current) {\n      audioRef.current.play().then(() => {\n        audioRef.current.pause();\n        audioRef.current.currentTime = 0;\n        console.log(\"√Åudio desbloqueado\");\n      }).catch((e) => console.warn(\"Erro ao tentar desbloquear o √°udio:\", e));\n    }\n  };\n\n\n  const countryUpper = country.toUpperCase();\n\n  const keypadRows = [\n    ['1', '2', '3'],\n    ['4', '5', '6'],\n    ['7', '8', '9'],\n    ['*', '0', '#']\n  ];\n\n  // CSS inline\n  const styles = {\n    widget: {\n      position: 'fixed',\n      zIndex: 9999,\n      fontFamily: 'Arial, sans-serif',\n      fontSize: '14px',\n      ...(position === 'bottom-right' && { bottom: '65px', right: '20px' }),\n      ...(position === 'bottom-left' && { bottom: '20px', left: '20px' }),\n      ...(position === 'top-right' && { top: '20px', right: '20px' }),\n      ...(position === 'top-left' && { top: '20px', left: '20px' })\n    },\n    minimized: {\n      width: '30px',\n      height: '30px',\n      backgroundColor: isInCall ? '#dc3545' : '#00339E',\n      borderRadius: '50%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      cursor: 'pointer',\n      boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n      transition: 'all 0.3s ease',\n      border: 'none',\n      outline: 'none',\n      position: 'relative'\n    },\n    expanded: {\n      width: '320px',\n      backgroundColor: 'white',\n      borderRadius: '12px',\n      boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n      overflow: 'hidden',\n      transition: 'all 0.3s ease'\n    },\n    header: {\n      backgroundColor: '#00339E',\n      color: 'white',\n      padding: '15px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between'\n    },\n    connectionStatus: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px'\n    },\n    statusIcon: {\n      fontSize: '16px'\n    },\n    statusText: {\n      fontSize: '14px',\n      fontWeight: 'bold'\n    },\n    minimizeBtn: {\n      background: 'none',\n      border: 'none',\n      color: 'white',\n      fontSize: '18px',\n      cursor: 'pointer',\n      padding: '5px'\n    },\n    display: {\n      padding: '20px',\n      textAlign: 'center',\n      minHeight: '120px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    },\n    callInfo: {\n      marginBottom: '10px'\n    },\n    callStatus: {\n      fontSize: '16px',\n      fontWeight: 'bold',\n      marginBottom: '5px'\n    },\n    phoneNumber: {\n      fontSize: '18px',\n      fontWeight: 'bold',\n      marginBottom: '5px'\n    },\n    callerName: {\n      fontSize: '14px',\n      color: '#666',\n      marginBottom: '5px'\n    },\n    callDuration: {\n      fontSize: '14px',\n      color: '#666'\n    },\n    idleDisplay: {\n      marginBottom: '10px'\n    },\n    welcomeText: {\n      fontSize: '16px',\n      fontWeight: 'bold',\n      marginBottom: '5px'\n    },\n    phoneNumberDisplay: {\n      fontSize: '18px',\n      fontWeight: 'bold',\n      marginBottom: '5px',\n      minHeight: '27px'\n    },\n    subtitle: {\n      fontSize: '12px',\n      color: '#666',\n      marginBottom: '5px'\n    },\n    numberError: {\n      fontSize: '12px',\n      color: '#dc3545',\n      marginTop: '5px'\n    },\n    keypad: {\n      padding: '0 20px 20px'\n    },\n    keypadRow: {\n      display: 'flex',\n      gap: '10px',\n      marginBottom: '10px'\n    },\n    keypadKey: {\n      flex: 1,\n      height: '50px',\n      border: '1px solid #ddd',\n      borderRadius: '8px',\n      background: 'white',\n      fontSize: '18px',\n      fontWeight: 'bold',\n      cursor: 'pointer',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      transition: 'all 0.2s ease'\n    },\n    keyNumber: {\n      fontSize: '18px'\n    },\n    keySymbol: {\n      fontSize: '12px',\n      marginTop: '2px'\n    },\n    actions: {\n      padding: '0 20px 20px',\n      display: 'flex',\n      gap: '10px'\n    },\n    actionBtn: {\n      flex: 1,\n      height: '50px',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '18px',\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      transition: 'all 0.2s ease'\n    },\n    callBtn: {\n      backgroundColor: '#00339E',\n      color: 'white'\n    },\n    endCallBtn: {\n      backgroundColor: '#dc3545',\n      color: 'white'\n    },\n    clearBtn: {\n      backgroundColor: '#6c757d',\n      color: 'white'\n    },\n    incomingCallOverlay: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    incomingCallContent: {\n      backgroundColor: 'white',\n      borderRadius: '12px',\n      padding: '30px',\n      textAlign: 'center',\n      maxWidth: '280px'\n    },\n    incomingCallIcon: {\n      fontSize: '48px',\n      color: '#00339E',\n      marginBottom: '20px'\n    },\n    incomingCallInfo: {\n      marginBottom: '20px'\n    },\n    incomingNumber: {\n      fontSize: '18px',\n      fontWeight: 'bold',\n      marginBottom: '5px'\n    },\n    incomingLabel: {\n      fontSize: '14px',\n      color: '#666'\n    },\n    incomingCallActions: {\n      display: 'flex',\n      gap: '10px'\n    },\n    answerBtn: {\n      flex: 1,\n      height: '50px',\n      backgroundColor: '#28a745',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '18px',\n      cursor: 'pointer'\n    },\n    rejectBtn: {\n      flex: 1,\n      height: '50px',\n      backgroundColor: '#dc3545',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '18px',\n      cursor: 'pointer'\n    },\n    pulse: {\n      animation: 'pulse 1s infinite'\n    }\n  };\n\n  // Valida√ß√£o de n√∫meros brasileiros\n  const validateBrazilianNumber = (number) => {\n    const cleanNumber = number.replace(/\\D/g, '');\n    return { isValid: true, error: '', formatted: cleanNumber, canType: false };\n  };\n\n  // Valida√ß√£o de n√∫meros gen√©ricos\n  const validateGenericNumber = (number, country) => {\n    const cleanNumber = number.replace(/\\D/g, '');\n    if (cleanNumber.length === 0) {\n      return { isValid: false, error: '', canType: true };\n    }\n    if (cleanNumber.length < 7) {\n      return { isValid: false, error: 'N√∫mero muito curto', canType: true };\n    }\n    if (cleanNumber.length > 15) {\n      return { isValid: false, error: 'N√∫mero muito longo', canType: false };\n    }\n    if (!/^[1-9][0-9]+$/.test(cleanNumber)) {\n      return { isValid: false, error: 'N√∫mero inv√°lido', canType: true };\n    }\n    return { isValid: true, error: '', formatted: cleanNumber, canType: cleanNumber.length < 15 };\n  };\n\n  // Valida√ß√£o de n√∫mero\n  const validateNumber = (number) => {\n    if (countryUpper === 'BR') {\n      return validateBrazilianNumber(number);\n    } else {\n      return validateGenericNumber(number, countryUpper);\n    }\n  };\n\n  // Obter comprimento m√°ximo\n  const getMaxLength = () => {\n    if (countryUpper === 'BR') {\n      return 11;\n    } else {\n      return 15;\n    }\n  };\n\n  // Conectar ao Wavoip\n  const connectToWavoip = useCallback(async () => {\n    try {\n      const WAV = new Wavoip();\n      const instance = WAV.connect(token);\n      wavoipInstanceRef.current = instance;\n\n      instance.socket.on('connect', () => {\n        setIsConnected(true);\n        if (onConnectionStatus) onConnectionStatus('connected');\n      });\n\n      instance.socket.on('disconnect', (reason) => {\n        setIsConnected(false);\n        setIsInCall(false);\n        setCallStatus('');\n        setCallerName('');\n        setIncomingCall(null);\n        if (onConnectionStatus) onConnectionStatus('disconnected');\n      });\n\n      instance.socket.on('signaling', (data) => {\n        console.log('Signaling event:', data);\n        \n        if (data.tag === 'offer') {\n          unlockAudio();\n          playRinging()\n          setIncomingCall({\n            number: data.content?.from_tag || 'N√∫mero desconhecido',\n            data: data\n          });\n          setCallerName(data.content?.from_tag || 'N√∫mero desconhecido');\n          if (isMinimized) {\n            setIsMinimized(false);\n          }\n          if (onCallStart) onCallStart(data);\n        }\n        \n        if (data.tag === 'answer' || data.tag == 'accept_elsewhere' || data.tag == 'accept') {\n          setIsInCall(true);\n          setCallStatus('Em chamada');\n          setCallStartTime(Date.now());\n          startDurationTimer();\n          stopRinging()\n          stopCalling()\n          if (onCallStart) onCallStart(data);\n        }\n        \n        if (data.tag === 'bye' || data.tag == 'terminate' || data.tag == 'reject_elsewhere' || data.tag == 'reject') {\n          console.log('Chamada finalizada via bye');\n          setIsInCall(false);\n          setCallStatus('');\n          setCallerName('');\n          setCurrentNumber('');\n          stopDurationTimer();\n          setIncomingCall(null);\n          stopRinging()\n          stopCalling()\n          if (onCallEnd) onCallEnd(data);\n        }\n      });\n\n      instance.socket.on('audio_transport:create', ({ room, sampleRate }) => {\n        console.log('Audio transport created:', { room, sampleRate });\n        setIsInCall(true);\n        setCallStatus('Conectando...');\n      });\n\n      instance.socket.on('audio_transport:terminate', ({ room }) => {\n        console.log('Audio transport terminated:', { room });\n        setIsInCall(false);\n        setCallStatus('');\n        setCallerName('');\n        setCurrentNumber('');\n        stopDurationTimer();\n        setIncomingCall(null);\n        if (onCallEnd) onCallEnd({ room });\n      });\n\n      instance.deviceEmitter.on('incoming_call', (data) => {\n        console.log('Incoming call event:', data);\n        setIncomingCall({\n          number: data.content?.from_tag || 'N√∫mero desconhecido',\n          data: data\n        });\n        setCallerName(data.content?.from_tag || 'N√∫mero desconhecido');\n        if (isMinimized) {\n          setIsMinimized(false);\n        }\n      });\n\n    } catch (error) {\n      if (onError) onError(error);\n    }\n  }, [token, isMinimized, onCallStart, onCallEnd, onConnectionStatus, onError]);\n\n  // Fazer chamada\n  const makeCall = useCallback(() => {\n    if (!wavoipInstanceRef.current || !currentNumber || numberError) return;\n    \n    const validation = validateNumber(currentNumber);\n    if (!validation.isValid) {\n      setNumberError(validation.error);\n      return;\n    }\n\n    try {\n      playCalling()\n      wavoipInstanceRef.current.callStart({\n        whatsappid: validation.formatted\n      });\n      setIsInCall(true);\n      setCallStatus('Chamando...');\n      setCallerName(validation.formatted);\n      setCallStartTime(Date.now());\n      startDurationTimer();\n      if (onCallStart) onCallStart({ whatsappid: validation.formatted });\n    } catch (error) {\n      if (onError) onError(error);\n    }\n  }, [currentNumber, numberError, onCallStart, onError]);\n\n  // Finalizar chamada\n  const endCall = useCallback(() => {\n    if (!wavoipInstanceRef.current) return;\n    \n    try {\n      wavoipInstanceRef.current.endCall();\n      setIsInCall(false);\n      setCallStatus('');\n      setCallerName('');\n      setCurrentNumber('');\n      stopDurationTimer();\n      setIncomingCall(null);\n       stopCalling()\n      if (onCallEnd) onCallEnd({ action: 'ended' });\n    } catch (error) {\n      if (onError) onError(error);\n    }\n  }, [onCallEnd, onError]);\n\n  // Atender chamada\n  const answerCall = useCallback(() => {\n    if (!wavoipInstanceRef.current || !incomingCall) return;\n    \n    try {\n      wavoipInstanceRef.current.acceptCall();\n      setIncomingCall(null);\n      setIsInCall(true);\n      setCallStatus('Em chamada');\n      setCallStartTime(Date.now());\n      startDurationTimer();\n       stopCalling()\n      stopRinging()\n      if (onCallStart) onCallStart(incomingCall?.data);\n    } catch (error) {\n      if (onError) onError(error);\n    }\n  }, [incomingCall, onCallStart, onError]);\n\n  // Rejeitar chamada\n  const rejectCall = useCallback(() => {\n    if (!wavoipInstanceRef.current || !incomingCall) return;\n    \n    try {\n      stopCalling()\n    stopRinging()\n      wavoipInstanceRef.current.rejectCall();\n      setIncomingCall(null);\n      setCallerName('');\n      if (onCallEnd) onCallEnd({ action: 'rejected' });\n    } catch (error) {\n      if (onError) onError(error);\n    }\n  }, [incomingCall, onCallEnd, onError]);\n\n  // Limpar n√∫mero\n  const clearNumber = useCallback(() => {\n    setCurrentNumber(prev => prev.slice(0, -1));\n  }, []);\n\n  // Validar n√∫mero atual\n  const validateCurrentNumber = useCallback(() => {\n    if (!currentNumber) {\n      setNumberError('');\n      return;\n    }\n    const validation = validateNumber(currentNumber);\n    setNumberError(validation.error);\n  }, [currentNumber]);\n\n  // Pressionar tecla do teclado\n  const handleKeyPress = useCallback((key) => {\n    if (isInCall) return;\n    \n    const maxLength = getMaxLength();\n    const currentLength = currentNumber.replace(/\\D/g, '').length;\n    \n    if (currentLength >= maxLength) {\n      return;\n    }\n    \n    if (key === '*') {\n      setCurrentNumber(prev => prev + '*');\n    } else if (key === '#') {\n      setCurrentNumber(prev => prev + '#');\n    } else {\n      setCurrentNumber(prev => prev + key);\n    }\n  }, [isInCall, currentNumber]);\n\n  // Input do teclado\n  const handleKeyboardInput = useCallback((event) => {\n    if (isMinimized || isInCall) return;\n    \n    const key = event.key;\n    const maxLength = getMaxLength();\n    const currentLength = currentNumber.replace(/\\D/g, '').length;\n    \n    if (/^[0-9]$/.test(key)) {\n      if (currentLength >= maxLength) {\n        event.preventDefault();\n        return;\n      }\n      event.preventDefault();\n      setCurrentNumber(prev => prev + key);\n    } else if (key === '*' || key === '#') {\n      if (currentLength >= maxLength) {\n        event.preventDefault();\n        return;\n      }\n      event.preventDefault();\n      setCurrentNumber(prev => prev + key);\n    } else if (key === 'Backspace') {\n      event.preventDefault();\n      clearNumber();\n    } else if (key === 'Enter') {\n      event.preventDefault();\n      if (currentNumber && isConnected && !numberError) {\n        makeCall();\n      }\n    } else if (key === 'Escape') {\n      event.preventDefault();\n      setCurrentNumber('');\n      setNumberError('');\n    }\n  }, [isMinimized, isInCall, currentNumber, isConnected, numberError, clearNumber, makeCall]);\n\n  // Iniciar timer de dura√ß√£o\n  const startDurationTimer = useCallback(() => {\n    const intervalId = setInterval(() => {\n      if (callStartTime) {\n        setCallDuration(Math.floor((Date.now() - callStartTime) / 1000));\n      }\n    }, 1000);\n    durationIntervalRef.current = intervalId;\n  }, [callStartTime]);\n\n  // Parar timer de dura√ß√£o\n  const stopDurationTimer = useCallback(() => {\n    if (durationIntervalRef.current) {\n      const cleared = clearInterval(durationIntervalRef.current);\n      durationIntervalRef.current = null;\n    }\n    setCallDuration(0);\n    setCallStartTime(null);\n  }, []);\n\n  // Formatar dura√ß√£o\n  const formatDuration = useCallback((seconds) => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n  }, []);\n\n  // Alternar widget\n  const toggleWidget = useCallback(() => {\n    setIsMinimized(prev => !prev);\n  }, []);\n\n  // Validar n√∫mero quando mudar\n  useEffect(() => {\n    validateCurrentNumber();\n  }, [currentNumber, validateCurrentNumber]);\n\n  // Conectar automaticamente\n  useEffect(() => {\n    if (autoConnect) {\n      connectToWavoip();\n    }\n  }, [autoConnect, connectToWavoip]);\n\n  // Adicionar listener do teclado\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyboardInput);\n    return () => {\n      document.removeEventListener('keydown', handleKeyboardInput);\n    };\n  }, [handleKeyboardInput]);\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      // Parar timer de dura√ß√£o\n      if (durationIntervalRef.current) {\n        const cleared = clearInterval(durationIntervalRef.current);\n        durationIntervalRef.current = null;\n      }\n      \n      // Desconectar do Wavoip\n      if (wavoipInstanceRef.current) {\n        const disconnected = wavoipInstanceRef.current.socket?.disconnect();\n      }\n    };\n  }, []); // Sem depend√™ncias para evitar loops\n\n  // Renderizar widget minimizado\n  if (isMinimized) {\n    return (\n      <div style={styles.widget}>\n        <button\n          style={styles.minimized}\n          onClick={toggleWidget}\n          title={name}\n        >\n          <span style={{ ...styles.statusIcon, ...(isInCall && styles.pulse) }}>üìû</span>\n        </button>\n      </div>\n    );\n  }\n\n  // Renderizar widget expandido\n  return (\n    <div style={styles.widget} ref={widgetRef}>\n      <div style={styles.expanded}>\n        <div style={styles.header}>\n          <div style={styles.connectionStatus}>\n            <span style={styles.statusIcon}>\n              {isConnected ? '‚úÖ' : '‚ùå'}\n            </span>\n            <span style={styles.statusText}>\n              {isConnected ? 'Conectado' : 'Desconectado'}\n            </span>\n          </div>\n          <button style={styles.minimizeBtn} onClick={toggleWidget} title=\"Minimizar\">\n            ‚àí\n          </button>\n        </div>\n\n        <div style={styles.display}>\n          {isInCall ? (\n            <div style={styles.callInfo}>\n              <div style={styles.callStatus}>{callStatus}</div>\n              {callerName && (\n                <div style={styles.callerName}>{callerName}</div>\n              )}\n              {callDuration > 0 && (\n                <div style={styles.callDuration}>{formatDuration(callDuration)}</div>\n              )}\n            </div>\n          ) : (\n            <div style={styles.idleDisplay}>\n              <div style={styles.welcomeText}>{name}</div>\n              <div style={styles.phoneNumberDisplay}>\n                {currentNumber || 'Digite um n√∫mero'}\n              </div>\n              <div style={styles.subtitle}>Fa√ßa chamadas via WhatsApp</div>\n              {numberError && (\n                <div style={styles.numberError}>{numberError}</div>\n              )}\n            </div>\n          )}\n        </div>\n\n        <div style={styles.keypad}>\n          {keypadRows.map((row, rowIndex) => (\n            <div key={rowIndex} style={styles.keypadRow}>\n              {row.map((key) => (\n                <button\n                  key={key}\n                  style={styles.keypadKey}\n                  onClick={() => handleKeyPress(key)}\n                  disabled={isInCall}\n                >\n                  <span style={styles.keyNumber}>{key}</span>\n                  {(key === '*' || key === '#') && (\n                    <span style={styles.keySymbol}>{key}</span>\n                  )}\n                </button>\n              ))}\n            </div>\n          ))}\n        </div>\n\n        <div style={styles.actions}>\n          {!isInCall ? (\n            <button\n              style={{ ...styles.actionBtn, ...styles.callBtn }}\n              onClick={makeCall}\n              disabled={!isConnected || !currentNumber || numberError}\n            >\n              üìû\n            </button>\n          ) : (\n            <button\n              style={{ ...styles.actionBtn, ...styles.endCallBtn }}\n              onClick={endCall}\n            >\n              üìû\n            </button>\n          )}\n          <button\n            style={{ ...styles.actionBtn, ...styles.clearBtn }}\n            onClick={clearNumber}\n            disabled={isInCall}\n          >\n              ‚å´\n          </button>\n        </div>\n\n        {incomingCall && (\n          <div style={styles.incomingCallOverlay}>\n            <div style={styles.incomingCallContent}>\n              <div style={styles.incomingCallIcon}>\n                <span style={styles.pulse}>üìû</span>\n              </div>\n              <div style={styles.incomingCallInfo}>\n                <div style={styles.incomingNumber}>{incomingCall.number}</div>\n                <div style={styles.incomingLabel}>Chamada recebida</div>\n              </div>\n              <div style={styles.incomingCallActions}>\n                <button style={styles.answerBtn} onClick={answerCall}>\n                  ‚úÖ\n                </button>\n                <button style={styles.rejectBtn} onClick={rejectCall}>\n                  ‚ùå\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WavoipPhoneWidget; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}