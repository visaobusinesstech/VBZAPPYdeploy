{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Button,IconButton,Box,Typography,Chip}from'@material-ui/core';import{Mic as MicIcon,Stop as StopIcon,PlayArrow as PlayIcon,Pause as PauseIcon,Delete as DeleteIcon,Check as CheckIcon}from'@material-ui/icons';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({recorderContainer:{display:'flex',flexDirection:'column',alignItems:'center',padding:theme.spacing(2),border:\"1px dashed \".concat(theme.palette.grey[400]),borderRadius:theme.shape.borderRadius,marginBottom:theme.spacing(2)},recordingControls:{display:'flex',alignItems:'center',gap:theme.spacing(1),marginBottom:theme.spacing(1)},recordButton:{backgroundColor:'#f44336',color:'white','&:hover':{backgroundColor:'#d32f2f'}},recordingIndicator:{display:'flex',alignItems:'center',gap:theme.spacing(1)},timeDisplay:{fontFamily:'monospace',fontSize:'1.2rem',color:theme.palette.text.primary},audioControls:{display:'flex',alignItems:'center',gap:theme.spacing(1),width:'100%'},waveformPlaceholder:{width:'100%',height:60,backgroundColor:theme.palette.grey[200],borderRadius:theme.shape.borderRadius,display:'flex',alignItems:'center',justifyContent:'center',marginBottom:theme.spacing(1)}}));const AudioRecorder=_ref=>{let{onAudioRecorded,onAudioDeleted,disabled=false}=_ref;const classes=useStyles();const[isRecording,setIsRecording]=useState(false);const[audioBlob,setAudioBlob]=useState(null);const[isPlaying,setIsPlaying]=useState(false);const[recordingTime,setRecordingTime]=useState(0);const[audioUrl,setAudioUrl]=useState(null);const mediaRecorderRef=useRef(null);const audioRef=useRef(null);const timerRef=useRef(null);const chunksRef=useRef([]);useEffect(()=>{return()=>{if(timerRef.current){clearInterval(timerRef.current);}if(audioUrl){URL.revokeObjectURL(audioUrl);}};},[audioUrl]);// ‚úÖ CORRE√á√ÉO: Determinar melhor formato baseado no suporte do browser\nconst getBestAudioFormat=()=>{const formats=['audio/ogg; codecs=opus',// Preferido - WhatsApp compat√≠vel\n'audio/webm; codecs=opus',// Fallback 1\n'audio/mp4',// Fallback 2\n'audio/wav'// √öltimo recurso\n];for(const format of formats){if(MediaRecorder.isTypeSupported(format)){console.log(\"\\uD83D\\uDCF1 Usando formato de \\xE1udio: \".concat(format));return format;}}console.warn('‚ö†Ô∏è Nenhum formato preferido suportado, usando padr√£o');return undefined;// Browser decidir√°\n};const startRecording=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:true,noiseSuppression:true,sampleRate:48000,// ‚úÖ Taxa recomendada para Opus\nchannelCount:1// ‚úÖ Mono para WhatsApp\n}});// ‚úÖ CORRE√á√ÉO: Usar formato compat√≠vel com WhatsApp\nconst mimeType=getBestAudioFormat();const options=mimeType?{mimeType}:{};mediaRecorderRef.current=new MediaRecorder(stream,options);chunksRef.current=[];mediaRecorderRef.current.ondataavailable=event=>{if(event.data.size>0){chunksRef.current.push(event.data);}};mediaRecorderRef.current.onstop=()=>{// ‚úÖ CORRE√á√ÉO: Criar blob com tipo correto para WhatsApp\nconst finalMimeType=mediaRecorderRef.current.mimeType||'audio/ogg';const blob=new Blob(chunksRef.current,{type:finalMimeType});console.log(\"\\uD83C\\uDFB5 \\xC1udio gravado: \".concat(blob.size,\" bytes, tipo: \").concat(finalMimeType));setAudioBlob(blob);const url=URL.createObjectURL(blob);setAudioUrl(url);// Parar todas as tracks de √°udio\nstream.getTracks().forEach(track=>track.stop());};mediaRecorderRef.current.start(100);setIsRecording(true);setRecordingTime(0);// Iniciar timer\ntimerRef.current=setInterval(()=>{setRecordingTime(prev=>prev+1);},1000);}catch(error){console.error('Erro ao iniciar grava√ß√£o:',error);alert('Erro ao acessar o microfone. Verifique as permiss√µes.');}};const stopRecording=()=>{if(mediaRecorderRef.current&&isRecording){mediaRecorderRef.current.stop();setIsRecording(false);if(timerRef.current){clearInterval(timerRef.current);}}};const playAudio=()=>{if(audioRef.current){audioRef.current.play();setIsPlaying(true);}};const pauseAudio=()=>{if(audioRef.current){audioRef.current.pause();setIsPlaying(false);}};const deleteRecording=()=>{setAudioBlob(null);setRecordingTime(0);setIsPlaying(false);if(audioUrl){URL.revokeObjectURL(audioUrl);setAudioUrl(null);}if(onAudioDeleted){onAudioDeleted();}};const confirmRecording=()=>{if(audioBlob&&onAudioRecorded){onAudioRecorded(audioBlob);}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));};return/*#__PURE__*/_jsxs(Box,{className:classes.recorderContainer,children:[!audioBlob&&!isRecording&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.recordButton,startIcon:/*#__PURE__*/_jsx(MicIcon,{}),onClick:startRecording,disabled:disabled,size:\"large\",children:\"Gravar \\xC1udio\"}),isRecording&&/*#__PURE__*/_jsxs(Box,{className:classes.recordingIndicator,children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(MicIcon,{}),label:\"Gravando...\",color:\"secondary\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Typography,{className:classes.timeDisplay,children:formatTime(recordingTime)}),/*#__PURE__*/_jsx(IconButton,{onClick:stopRecording,color:\"primary\",children:/*#__PURE__*/_jsx(StopIcon,{})})]}),audioBlob&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{className:classes.waveformPlaceholder,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",children:[\"\\xC1udio gravado - \",formatTime(recordingTime)]})}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:audioUrl,onEnded:()=>setIsPlaying(false),style:{display:'none'}}),/*#__PURE__*/_jsxs(Box,{className:classes.audioControls,children:[/*#__PURE__*/_jsx(IconButton,{onClick:isPlaying?pauseAudio:playAudio,color:\"primary\",children:isPlaying?/*#__PURE__*/_jsx(PauseIcon,{}):/*#__PURE__*/_jsx(PlayIcon,{})}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",align:\"center\",children:\"Clique em \\u2713 para confirmar ou \\uD83D\\uDDD1\\uFE0F para excluir\"})}),/*#__PURE__*/_jsx(IconButton,{onClick:deleteRecording,color:\"secondary\",children:/*#__PURE__*/_jsx(DeleteIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:confirmRecording,color:\"primary\",children:/*#__PURE__*/_jsx(CheckIcon,{})})]})]})]});};export default AudioRecorder;","map":{"version":3,"names":["React","useState","useRef","useEffect","Button","IconButton","Box","Typography","Chip","Mic","MicIcon","Stop","StopIcon","PlayArrow","PlayIcon","Pause","PauseIcon","Delete","DeleteIcon","Check","CheckIcon","makeStyles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","theme","recorderContainer","display","flexDirection","alignItems","padding","spacing","border","concat","palette","grey","borderRadius","shape","marginBottom","recordingControls","gap","recordButton","backgroundColor","color","recordingIndicator","timeDisplay","fontFamily","fontSize","text","primary","audioControls","width","waveformPlaceholder","height","justifyContent","AudioRecorder","_ref","onAudioRecorded","onAudioDeleted","disabled","classes","isRecording","setIsRecording","audioBlob","setAudioBlob","isPlaying","setIsPlaying","recordingTime","setRecordingTime","audioUrl","setAudioUrl","mediaRecorderRef","audioRef","timerRef","chunksRef","current","clearInterval","URL","revokeObjectURL","getBestAudioFormat","formats","format","MediaRecorder","isTypeSupported","console","log","warn","undefined","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","sampleRate","channelCount","mimeType","options","ondataavailable","event","data","size","push","onstop","finalMimeType","blob","Blob","type","url","createObjectURL","getTracks","forEach","track","stop","start","setInterval","prev","error","alert","stopRecording","playAudio","play","pauseAudio","pause","deleteRecording","confirmRecording","formatTime","seconds","mins","Math","floor","secs","toString","padStart","className","children","variant","startIcon","onClick","icon","label","ref","src","onEnded","style","sx","flexGrow","align"],"sources":["/home/deploy/atendechatop/frontend/src/components/AudioRecorder/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Button,\n  IconButton,\n  Box,\n  Typography,\n  Chip\n} from '@material-ui/core';\nimport {\n  Mic as MicIcon,\n  Stop as StopIcon,\n  PlayArrow as PlayIcon,\n  Pause as PauseIcon,\n  Delete as DeleteIcon,\n  Check as CheckIcon\n} from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  recorderContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n    border: `1px dashed ${theme.palette.grey[400]}`,\n    borderRadius: theme.shape.borderRadius,\n    marginBottom: theme.spacing(2)\n  },\n  recordingControls: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  },\n  recordButton: {\n    backgroundColor: '#f44336',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#d32f2f'\n    }\n  },\n  recordingIndicator: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1)\n  },\n  timeDisplay: {\n    fontFamily: 'monospace',\n    fontSize: '1.2rem',\n    color: theme.palette.text.primary\n  },\n  audioControls: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n    width: '100%'\n  },\n  waveformPlaceholder: {\n    width: '100%',\n    height: 60,\n    backgroundColor: theme.palette.grey[200],\n    borderRadius: theme.shape.borderRadius,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nconst AudioRecorder = ({ onAudioRecorded, onAudioDeleted, disabled = false }) => {\n  const classes = useStyles();\n  const [isRecording, setIsRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioUrl, setAudioUrl] = useState(null);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioRef = useRef(null);\n  const timerRef = useRef(null);\n  const chunksRef = useRef([]);\n\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      if (audioUrl) {\n        URL.revokeObjectURL(audioUrl);\n      }\n    };\n  }, [audioUrl]);\n\n  // ‚úÖ CORRE√á√ÉO: Determinar melhor formato baseado no suporte do browser\n  const getBestAudioFormat = () => {\n    const formats = [\n      'audio/ogg; codecs=opus',    // Preferido - WhatsApp compat√≠vel\n      'audio/webm; codecs=opus',   // Fallback 1\n      'audio/mp4',                 // Fallback 2\n      'audio/wav'                  // √öltimo recurso\n    ];\n\n    for (const format of formats) {\n      if (MediaRecorder.isTypeSupported(format)) {\n        console.log(`üì± Usando formato de √°udio: ${format}`);\n        return format;\n      }\n    }\n    \n    console.warn('‚ö†Ô∏è Nenhum formato preferido suportado, usando padr√£o');\n    return undefined; // Browser decidir√°\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          sampleRate: 48000,  // ‚úÖ Taxa recomendada para Opus\n          channelCount: 1     // ‚úÖ Mono para WhatsApp\n        } \n      });\n      \n      // ‚úÖ CORRE√á√ÉO: Usar formato compat√≠vel com WhatsApp\n      const mimeType = getBestAudioFormat();\n      const options = mimeType ? { mimeType } : {};\n      \n      mediaRecorderRef.current = new MediaRecorder(stream, options);\n      chunksRef.current = [];\n      \n      mediaRecorderRef.current.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          chunksRef.current.push(event.data);\n        }\n      };\n      \n      mediaRecorderRef.current.onstop = () => {\n        // ‚úÖ CORRE√á√ÉO: Criar blob com tipo correto para WhatsApp\n        const finalMimeType = mediaRecorderRef.current.mimeType || 'audio/ogg';\n        const blob = new Blob(chunksRef.current, { type: finalMimeType });\n        \n        console.log(`üéµ √Åudio gravado: ${blob.size} bytes, tipo: ${finalMimeType}`);\n        setAudioBlob(blob);\n        \n        const url = URL.createObjectURL(blob);\n        setAudioUrl(url);\n        \n        // Parar todas as tracks de √°udio\n        stream.getTracks().forEach(track => track.stop());\n      };\n      \n      mediaRecorderRef.current.start(100);\n      setIsRecording(true);\n      setRecordingTime(0);\n      \n      // Iniciar timer\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => prev + 1);\n      }, 1000);\n      \n    } catch (error) {\n      console.error('Erro ao iniciar grava√ß√£o:', error);\n      alert('Erro ao acessar o microfone. Verifique as permiss√µes.');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      \n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    }\n  };\n\n  const playAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.play();\n      setIsPlaying(true);\n    }\n  };\n\n  const pauseAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  };\n\n  const deleteRecording = () => {\n    setAudioBlob(null);\n    setRecordingTime(0);\n    setIsPlaying(false);\n    \n    if (audioUrl) {\n      URL.revokeObjectURL(audioUrl);\n      setAudioUrl(null);\n    }\n    \n    if (onAudioDeleted) {\n      onAudioDeleted();\n    }\n  };\n\n  const confirmRecording = () => {\n    if (audioBlob && onAudioRecorded) {\n      onAudioRecorded(audioBlob);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <Box className={classes.recorderContainer}>\n      {!audioBlob && !isRecording && (\n        <Button\n          variant=\"contained\"\n          className={classes.recordButton}\n          startIcon={<MicIcon />}\n          onClick={startRecording}\n          disabled={disabled}\n          size=\"large\"\n        >\n          Gravar √Åudio\n        </Button>\n      )}\n\n      {isRecording && (\n        <Box className={classes.recordingIndicator}>\n          <Chip \n            icon={<MicIcon />} \n            label=\"Gravando...\" \n            color=\"secondary\" \n            variant=\"outlined\"\n          />\n          <Typography className={classes.timeDisplay}>\n            {formatTime(recordingTime)}\n          </Typography>\n          <IconButton onClick={stopRecording} color=\"primary\">\n            <StopIcon />\n          </IconButton>\n        </Box>\n      )}\n\n      {audioBlob && (\n        <>\n          <Box className={classes.waveformPlaceholder}>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              √Åudio gravado - {formatTime(recordingTime)}\n            </Typography>\n          </Box>\n          \n          <audio\n            ref={audioRef}\n            src={audioUrl}\n            onEnded={() => setIsPlaying(false)}\n            style={{ display: 'none' }}\n          />\n          \n          <Box className={classes.audioControls}>\n            <IconButton \n              onClick={isPlaying ? pauseAudio : playAudio}\n              color=\"primary\"\n            >\n              {isPlaying ? <PauseIcon /> : <PlayIcon />}\n            </IconButton>\n            \n            <Box sx={{ flexGrow: 1 }}>\n              <Typography variant=\"body2\" align=\"center\">\n                Clique em ‚úì para confirmar ou üóëÔ∏è para excluir\n              </Typography>\n            </Box>\n            \n            <IconButton onClick={deleteRecording} color=\"secondary\">\n              <DeleteIcon />\n            </IconButton>\n            \n            <IconButton onClick={confirmRecording} color=\"primary\">\n              <CheckIcon />\n            </IconButton>\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default AudioRecorder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}