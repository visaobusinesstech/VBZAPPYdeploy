{"ast":null,"code":"import React,{useEffect}from'react';import{Button,Divider,Typography}from\"@material-ui/core\";import toastError from\"../../errors/toastError\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdMetaPreview=_ref=>{let{image,title,body,sourceUrl,messageUser}=_ref;useEffect(()=>{},[image,title,body,sourceUrl,messageUser]);const handleAdClick=async()=>{try{if(sourceUrl&&sourceUrl.trim()!==\"\"){window.open(sourceUrl);}}catch(err){toastError(err);}};// ✅ CORREÇÃO: Verificar se há imagem válida\nconst hasValidImage=image&&image.trim()!==\"\"&&image.startsWith(\"data:image\");return/*#__PURE__*/_jsx(\"div\",{style:{minWidth:\"250px\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[hasValidImage&&/*#__PURE__*/_jsx(\"div\",{style:{float:\"left\"},children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Thumbnail\",onClick:handleAdClick,style:{width:\"100px\",cursor:sourceUrl?\"pointer\":\"default\"}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",marginLeft:hasValidImage?\"115px\":\"0px\"},children:[title&&title.trim()!==\"\"&&/*#__PURE__*/_jsx(Typography,{style:{marginTop:\"12px\",marginBottom:\"8px\",width:\"100%\"},variant:\"subtitle1\",color:\"primary\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"div\",{children:title})}),body&&body.trim()!==\"\"&&/*#__PURE__*/_jsx(Typography,{style:{marginBottom:\"8px\",width:\"100%\"},variant:\"body2\",color:\"textSecondary\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"div\",{children:body})}),messageUser&&messageUser.trim()!==\"\"&&/*#__PURE__*/_jsx(Typography,{style:{marginBottom:\"8px\",width:\"100%\"},variant:\"subtitle2\",color:\"textSecondary\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"div\",{children:messageUser})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"block\",content:\"\",clear:\"both\"}}),sourceUrl&&sourceUrl.trim()!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Button,{fullWidth:true,color:\"primary\",onClick:handleAdClick,children:\"Visualizar An\\xFAncio\"})]})]})});};export default AdMetaPreview;","map":{"version":3,"names":["React","useEffect","Button","Divider","Typography","toastError","jsx","_jsx","jsxs","_jsxs","AdMetaPreview","_ref","image","title","body","sourceUrl","messageUser","handleAdClick","trim","window","open","err","hasValidImage","startsWith","style","minWidth","children","float","src","alt","onClick","width","cursor","display","flexWrap","marginLeft","marginTop","marginBottom","variant","color","gutterBottom","content","clear","fullWidth"],"sources":["/home/deploy/codigologlow/frontend/src/components/AdMetaPreview/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Button, Divider, Typography } from \"@material-ui/core\";\nimport toastError from \"../../errors/toastError\";\n\nconst AdMetaPreview = ({ image, title, body, sourceUrl, messageUser }) => {\n  useEffect(() => {}, [image, title, body, sourceUrl, messageUser]);\n\n  const handleAdClick = async () => {\n    try {\n      if (sourceUrl && sourceUrl.trim() !== \"\") {\n        window.open(sourceUrl);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // ✅ CORREÇÃO: Verificar se há imagem válida\n  const hasValidImage = image && image.trim() !== \"\" && image.startsWith(\"data:image\");\n\n  return (\n    <div style={{ minWidth: \"250px\" }}>\n      <div>\n        {/* ✅ CORREÇÃO: Só mostrar imagem se existir */}\n        {hasValidImage && (\n          <div style={{ float: \"left\" }}>\n            <img \n              src={image} \n              alt=\"Thumbnail\" \n              onClick={handleAdClick} \n              style={{ width: \"100px\", cursor: sourceUrl ? \"pointer\" : \"default\" }} \n            />\n          </div>\n        )}\n        \n        <div style={{ display: \"flex\", flexWrap: \"wrap\", marginLeft: hasValidImage ? \"115px\" : \"0px\" }}>\n          {/* ✅ CORREÇÃO: Só mostrar título se existir */}\n          {title && title.trim() !== \"\" && (\n            <Typography \n              style={{ marginTop: \"12px\", marginBottom: \"8px\", width: \"100%\" }} \n              variant=\"subtitle1\" \n              color=\"primary\" \n              gutterBottom\n            >\n              <div>{title}</div>\n            </Typography>\n          )}\n          \n          {/* ✅ CORREÇÃO: Só mostrar body se existir */}\n          {body && body.trim() !== \"\" && (\n            <Typography \n              style={{ marginBottom: \"8px\", width: \"100%\" }} \n              variant=\"body2\" \n              color=\"textSecondary\" \n              gutterBottom\n            >\n              <div>{body}</div>\n            </Typography>\n          )}\n          \n          {/* ✅ CORREÇÃO: Só mostrar messageUser se existir */}\n          {messageUser && messageUser.trim() !== \"\" && (\n            <Typography \n              style={{ marginBottom: \"8px\", width: \"100%\" }} \n              variant=\"subtitle2\" \n              color=\"textSecondary\" \n              gutterBottom\n            >\n              <div>{messageUser}</div>\n            </Typography>\n          )}\n        </div>\n        \n        <div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n        \n        {/* ✅ CORREÇÃO: Só mostrar botão se houver URL válida */}\n        {sourceUrl && sourceUrl.trim() !== \"\" && (\n          <div>\n            <Divider />\n            <Button\n              fullWidth\n              color=\"primary\"\n              onClick={handleAdClick}\n            >\n              Visualizar Anúncio\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdMetaPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}