{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import Select from\"@material-ui/core/Select\";import Chip from\"@material-ui/core/Chip\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({chips:{display:\"flex\",flexWrap:\"wrap\"},chip:{margin:2}}));const QueueSelect=_ref=>{let{selectedQueueIds,onChange}=_ref;const classes=useStyles();const[queues,setQueues]=useState([]);useEffect(()=>{(async()=>{try{const{data}=await api.get(\"/queue\");setQueues(data);}catch(err){toastError(err);}})();},[]);const handleChange=e=>{onChange(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:6},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"dense\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"queueSelect.inputLabel\")}),/*#__PURE__*/_jsx(Select,{multiple:true,labelWidth:60,value:selectedQueueIds,onChange:handleChange,MenuProps:{anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null},renderValue:selected=>/*#__PURE__*/_jsx(\"div\",{className:classes.chips,children:(selected===null||selected===void 0?void 0:selected.length)>0&&selected.map(id=>{const queue=queues.find(q=>q.id===id);return queue?/*#__PURE__*/_jsx(Chip,{style:{backgroundColor:queue.color},variant:\"outlined\",label:queue.name,className:classes.chip},id):null;})}),children:queues.map(queue=>/*#__PURE__*/_jsx(MenuItem,{value:queue.id,children:queue.name},queue.id))})]})});};export default QueueSelect;","map":{"version":3,"names":["React","useEffect","useState","makeStyles","InputLabel","MenuItem","FormControl","Select","Chip","toastError","api","i18n","jsx","_jsx","jsxs","_jsxs","useStyles","theme","chips","display","flexWrap","chip","margin","QueueSelect","_ref","selectedQueueIds","onChange","classes","queues","setQueues","data","get","err","handleChange","e","target","value","style","marginTop","children","fullWidth","variant","t","multiple","labelWidth","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","renderValue","selected","className","length","map","id","queue","find","q","backgroundColor","color","label","name"],"sources":["/home/deploy/codigologlow/frontend/src/components/QueueSelect/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n})); \n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\t\t\t\t\t\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}