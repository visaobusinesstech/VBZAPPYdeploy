{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext,useRef}from\"react\";import*as Yup from\"yup\";import{Formik,Form,Field}from\"formik\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import CircularProgress from\"@material-ui/core/CircularProgress\";import Select from\"@material-ui/core/Select\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import whatsappIcon from\"../../assets/nopicture.png\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import QueueSelect from\"../QueueSelect\";import{AuthContext}from\"../../context/Auth/AuthContext\";import useWhatsApps from\"../../hooks/useWhatsApps\";import{Can}from\"../Can\";import{Avatar,Grid,Input,Paper,Tab,Tabs}from\"@material-ui/core\";import{getBackendUrl}from\"../../config\";import TabPanel from\"../TabPanel\";import AvatarUploader from\"../AvatarUpload\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const backendUrl=getBackendUrl();const formatDateForInput=date=>{if(!date)return'';// Se já está no formato YYYY-MM-DD, retorna como está\nif(typeof date==='string'&&/^\\d{4}-\\d{2}-\\d{2}$/.test(date)){return date;}// Se é uma data ISO ou objeto Date, converte para YYYY-MM-DD\nconst d=new Date(date);if(isNaN(d.getTime()))return'';// Usar métodos locais para evitar problemas de timezone\nconst year=d.getFullYear();const month=String(d.getMonth()+1).padStart(2,'0');const day=String(d.getDate()).padStart(2,'0');return\"\".concat(year,\"-\").concat(month,\"-\").concat(day);};const parseDateFromInput=dateString=>{if(!dateString)return null;// Se já está no formato YYYY-MM-DD, retorna como está\nif(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}// Se é uma data ISO, extrai apenas a parte da data\nif(dateString.includes('T')){return dateString.split('T')[0];}return dateString;};const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:theme.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:theme.spacing(1),minWidth:120},textField:{marginRight:theme.spacing(1),flex:1},container:{display:\"flex\",flexWrap:\"wrap\"},avatar:{width:theme.spacing(12),height:theme.spacing(12),margin:theme.spacing(2),cursor:\"pointer\",borderRadius:\"50%\",border:\"2px solid #ccc\"},updateDiv:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"},updateInput:{display:\"none\"},updateLabel:{padding:theme.spacing(1),margin:theme.spacing(1),textTransform:\"uppercase\",textAlign:\"center\",cursor:\"pointer\",border:\"2px solid #ccc\",borderRadius:\"5px\",minWidth:160,fontWeight:\"bold\",color:\"#555\"},errorUpdate:{border:\"2px solid red\"},errorText:{color:\"red\",fontSize:\"0.8rem\",fontWeight:\"bold\"}}));const UserSchema=Yup.object().shape({name:Yup.string().min(2,\"Too Short!\").max(50,\"Too Long!\").required(\"Required\"),password:Yup.string().min(5,\"Too Short!\").max(50,\"Too Long!\"),email:Yup.string().email(\"Invalid email\").required(\"Required\"),allHistoric:Yup.string().nullable()});const UserModal=_ref=>{let{open,onClose,userId}=_ref;const classes=useStyles();const initialState={name:\"\",email:\"\",password:\"\",birthDate:\"\",profile:\"user\",startWork:\"00:00\",endWork:\"23:59\",farewellMessage:\"\",allTicket:\"enable\",allowGroup:false,defaultTheme:\"light\",defaultMenu:\"open\",allHistoric:\"enabled\",allUserChat:\"enabled\",userClosePendingTicket:\"enabled\",showDashboard:\"enabled\",allowRealTime:\"enabled\",allowConnections:\"enabled\",showContacts:\"enabled\",showCampaign:\"enabled\",showFlow:\"enabled\",finalizacaoComValorVendaAtiva:\"false\",allowSeeMessagesInPendingTickets:\"enabled\"};const{user:loggedInUser}=useContext(AuthContext);const[user,setUser]=useState(initialState);const[selectedQueueIds,setSelectedQueueIds]=useState([]);const[whatsappId,setWhatsappId]=useState(false);// const [allTicket, setAllTicket] = useState(\"disable\");\nconst{loading,whatsApps}=useWhatsApps();const[profileUrl,setProfileUrl]=useState(null);const[tab,setTab]=useState(\"general\");const[avatar,setAvatar]=useState(null);const startWorkRef=useRef();const endWorkRef=useRef();useEffect(()=>{const fetchUser=async()=>{if(!userId)return;try{var _data$queues;const{data}=await api.get(\"/users/\".concat(userId));setUser(prevState=>_objectSpread(_objectSpread(_objectSpread({},prevState),data),{},{allTicket:data.allTicket===\"enable\"||data.allTicket===\"enabled\"?\"enable\":\"disable\",finalizacaoComValorVendaAtiva:data.finalizacaoComValorVendaAtiva?\"true\":\"false\",allowSeeMessagesInPendingTickets:data.allowSeeMessagesInPendingTickets===\"enabled\"?\"enabled\":\"disabled\",farewellMessage:data.farewellMessage||\"\",// Formatar a data corretamente\nbirthDate:formatDateForInput(data.birthDate)}));const{profileImage}=data;setProfileUrl(\"\".concat(backendUrl,\"/public/company\").concat(data.companyId,\"/user/\").concat(profileImage));const userQueueIds=(_data$queues=data.queues)===null||_data$queues===void 0?void 0:_data$queues.map(queue=>queue.id);setSelectedQueueIds(userQueueIds);setWhatsappId(data.whatsappId?data.whatsappId:\"\");}catch(err){toastError(err);}};fetchUser();},[userId,open]);const handleClose=()=>{onClose();setUser(initialState);};const handleTabChange=(event,newValue)=>{setTab(newValue);};const getBasename=filepath=>{if(!filepath)return'';// Remove query strings e hashes\nconst cleanPath=filepath.split('?')[0].split('#')[0];// Pega o último segmento após /\nconst segments=cleanPath.split('/');return segments[segments.length-1];};// UserModal/index.js - Função handleSaveUser corrigida\nconst handleSaveUser=async values=>{const uploadAvatar=async userId=>{if(!avatar||typeof avatar!=='object')return null;const formData=new FormData();formData.append(\"userId\",userId);formData.append(\"typeArch\",\"user\");formData.append(\"profileImage\",avatar);try{const{data}=await api.post(\"/users/\".concat(userId,\"/media-upload\"),formData,{headers:{'Content-Type':'multipart/form-data'}});return data.user.profileImage;}catch(error){console.error(\"Erro no upload da imagem:\",error);throw error;}};const userData=_objectSpread(_objectSpread({},values),{},{whatsappId,queueIds:selectedQueueIds,finalizacaoComValorVendaAtiva:values.finalizacaoComValorVendaAtiva===\"true\",birthDate:parseDateFromInput(values.birthDate),allowSeeMessagesInPendingTickets:values.allowSeeMessagesInPendingTickets===\"enabled\"?\"enabled\":\"disabled\"});try{let responseData;if(userId){// Atualizar usuário existente\nconst{data}=await api.put(\"/users/\".concat(userId),userData);responseData=data;// Upload da imagem se houver uma nova\nif(avatar&&typeof avatar==='object'){const newProfileImage=await uploadAvatar(userId);if(newProfileImage){responseData.profileImage=newProfileImage;// Atualizar localStorage se for o usuário logado\nif(userId===loggedInUser.id){localStorage.setItem(\"profileImage\",newProfileImage);}}}}else{// Criar novo usuário\nconst{data}=await api.post(\"/users\",userData);responseData=data.user;// Upload da imagem se houver\nif(avatar&&typeof avatar==='object'&&responseData.id){const newProfileImage=await uploadAvatar(responseData.id);if(newProfileImage){responseData.profileImage=newProfileImage;}}}handleClose();toast.success(i18n.t(\"userModal.success\"));// Recarregar página se for o usuário logado para atualizar a interface\nif(userId===loggedInUser.id){setTimeout(()=>{window.location.reload();},1000);}}catch(err){toastError(err);}};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,maxWidth:\"sm\",fullWidth:true,scroll:\"paper\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:userId?\"\".concat(i18n.t(\"userModal.title.edit\")):\"\".concat(i18n.t(\"userModal.title.add\"))}),/*#__PURE__*/_jsx(Formik,{initialValues:user,enableReinitialize:true,validationSchema:UserSchema,onSubmit:(values,actions)=>{setTimeout(()=>{handleSaveUser(values);actions.setSubmitting(false);},400);},children:_ref2=>{let{touched,errors,isSubmitting,setFieldValue}=_ref2;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Paper,{className:classes.mainPaper,elevation:1,children:/*#__PURE__*/_jsxs(Tabs,{value:tab,indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",onChange:handleTabChange,className:classes.tab,children:[/*#__PURE__*/_jsx(Tab,{label:i18n.t(\"userModal.tabs.general\"),value:\"general\"}),/*#__PURE__*/_jsx(Tab,{label:i18n.t(\"userModal.tabs.permissions\"),value:\"permissions\"})]})}),/*#__PURE__*/_jsx(Paper,{className:classes.paper,elevation:0,children:/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(TabPanel,{className:classes.container,value:tab,name:\"general\",children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,alignContent:\"center\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsxs(FormControl,{className:classes.updateDiv,children:[/*#__PURE__*/_jsx(AvatarUploader,{setAvatar:setAvatar,avatar:user.profileImage,companyId:user.companyId}),user.profileImage&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:()=>{user.profileImage=null;setFieldValue(\"profileImage\",null);setAvatar(null);},children:i18n.t(\"userModal.title.removeImage\")})]})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.name\"),autoFocus:true,name:\"name\",error:touched.name&&Boolean(errors.name),helperText:touched.name&&errors.name,variant:\"outlined\",margin:\"dense\",fullWidth:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.password\"),type:\"password\",name:\"password\",error:touched.password&&Boolean(errors.password),helperText:touched.password&&errors.password,variant:\"outlined\",margin:\"dense\",fullWidth:true})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,xl:8,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.email\"),name:\"email\",error:touched.email&&Boolean(errors.email),helperText:touched.email&&errors.email,variant:\"outlined\",margin:\"dense\",fullWidth:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,xl:4,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\"//className={classes.formControl}\n,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsx(Can,{role:loggedInUser.profile,perform:\"user-modal:editProfile\",yes:()=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{id:\"profile-selection-input-label\",children:i18n.t(\"userModal.form.profile\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.profile\"),name:\"profile\",labelId:\"profile-selection-label\",id:\"profile-selection\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"user\",children:\"User\"})]})]})})})})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,xl:12,children:/*#__PURE__*/_jsx(Can,{role:loggedInUser.profile,perform:\"user-modal:editQueues\",yes:()=>/*#__PURE__*/_jsx(QueueSelect,{selectedQueueIds:selectedQueueIds,onChange:values=>setSelectedQueueIds(values),fullWidth:true})})})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,xl:12,children:/*#__PURE__*/_jsx(Can,{role:loggedInUser.profile,perform:\"user-modal:editProfile\",yes:()=>/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",margin:\"dense\",className:classes.maxWidth,fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.whatsapp\")}),/*#__PURE__*/_jsxs(Field,{as:Select,value:whatsappId,onChange:e=>setWhatsappId(e.target.value),label:i18n.t(\"userModal.form.whatsapp\"),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\xA0\"}),whatsApps.map(whatsapp=>/*#__PURE__*/_jsx(MenuItem,{value:whatsapp.id,children:whatsapp.name},whatsapp.id))]})]})})})}),/*#__PURE__*/_jsx(Can,{role:loggedInUser.profile,perform:\"user-modal:editProfile\",yes:()=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.startWork\"),type:\"time\",ampm:\"false\",inputRef:startWorkRef,InputLabelProps:{shrink:true},inputProps:{step:600// 5 min\n},fullWidth:true,name:\"startWork\",error:touched.startWork&&Boolean(errors.startWork),helperText:touched.startWork&&errors.startWork,variant:\"outlined\",margin:\"dense\",className:classes.textField})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.endWork\"),type:\"time\",ampm:\"false\",inputRef:endWorkRef,InputLabelProps:{shrink:true},inputProps:{step:600// 5 min\n},fullWidth:true,name:\"endWork\",error:touched.endWork&&Boolean(errors.endWork),helperText:touched.endWork&&errors.endWork,variant:\"outlined\",margin:\"dense\",className:classes.textField})})]})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Data de Nascimento\",type:\"date\",name:\"birthDate\",InputLabelProps:{shrink:true},fullWidth:true,variant:\"outlined\",margin:\"dense\",className:classes.textField,helperText:\"Data de nascimento para notifica\\xE7\\xF5es de anivers\\xE1rio\",onChange:e=>{const formattedDate=parseDateFromInput(e.target.value);setFieldValue('birthDate',formattedDate);}})})}),/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"userModal.form.farewellMessage\"),type:\"farewellMessage\",multiline:true,rows:4,fullWidth:true,name:\"farewellMessage\",error:touched.farewellMessage&&Boolean(errors.farewellMessage),helperText:touched.farewellMessage&&errors.farewellMessage,variant:\"outlined\",margin:\"dense\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.defaultTheme\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.defaultTheme\"),name:\"defaultTheme\",type:\"defaultTheme\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"light\",children:i18n.t(\"userModal.form.defaultThemeLight\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"dark\",children:i18n.t(\"userModal.form.defaultThemeDark\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.defaultMenu\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.defaultMenu\"),name:\"defaultMenu\",type:\"defaultMenu\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"open\",children:i18n.t(\"userModal.form.defaultMenuOpen\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"closed\",children:i18n.t(\"userModal.form.defaultMenuClosed\")})]})]})})})]})]}),/*#__PURE__*/_jsx(TabPanel,{className:classes.container,value:tab,name:\"permissions\",children:/*#__PURE__*/_jsx(Can,{role:loggedInUser.profile,perform:\"user-modal:editProfile\",yes:()=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allTicket\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allTicket\"),name:\"allTicket\",type:\"allTicket\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"enable\",children:i18n.t(\"userModal.form.allTicketEnable\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"disable\",children:i18n.t(\"userModal.form.allTicketDisable\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allowGroup\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allowGroup\"),name:\"allowGroup\",type:\"allowGroup\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:true,children:i18n.t(\"userModal.form.allTicketEnable\")}),/*#__PURE__*/_jsx(MenuItem,{value:false,children:i18n.t(\"userModal.form.allTicketDisable\")})]})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allHistoric\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allHistoric\"),name:\"allHistoric\",type:\"allHistoric\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allUserChat\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allUserChat\"),name:\"allUserChat\",type:\"allUserChat\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.userClosePendingTicket\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.userClosePendingTicket\"),name:\"userClosePendingTicket\",type:\"userClosePendingTicket\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allowSeeMessagesInPendingTickets\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allowSeeMessagesInPendingTickets\"),name:\"allowSeeMessagesInPendingTickets\",type:\"allowSeeMessagesInPendingTickets\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allowConnections\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allowConnections\"),name:\"allowConnections\",type:\"allowConnections\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.showDashboard\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.showDashboard\"),name:\"showDashboard\",type:\"showDashboard\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.allowRealTime\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.allowRealTime\"),name:\"allowRealTime\",type:\"allowRealTime\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.showContacts\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.showContacts\"),name:\"showContacts\",type:\"showContacts\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.showCampaign\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.showCampaign\"),name:\"showCampaign\",type:\"showCampaign\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"userModal.form.showFlow\")}),/*#__PURE__*/_jsxs(Field,{as:Select,label:i18n.t(\"userModal.form.showFlow\"),name:\"showFlow\",type:\"showFlow\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:i18n.t(\"userModal.form.allHistoricDisabled\")}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:i18n.t(\"userModal.form.allHistoricEnabled\")})]})]})})})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,xl:6,children:/*#__PURE__*/_jsx(FormControl,{variant:\"outlined\",className:classes.maxWidth,margin:\"dense\",fullWidth:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Finaliza\\xE7\\xE3o com Valor de Venda\"}),/*#__PURE__*/_jsxs(Field,{as:Select,label:\"Finaliza\\xE7\\xE3o com Valor de Venda\",name:\"finalizacaoComValorVendaAtiva\",type:\"finalizacaoComValorVendaAtiva\",required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"false\",children:\"Desabilitado\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"true\",children:\"Habilitado\"})]})]})})})})]})})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",disabled:isSubmitting,variant:\"outlined\",children:i18n.t(\"userModal.buttons.cancel\")}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",color:\"primary\",disabled:isSubmitting,variant:\"contained\",className:classes.btnWrapper,children:[userId?\"\".concat(i18n.t(\"userModal.buttons.okEdit\")):\"\".concat(i18n.t(\"userModal.buttons.okAdd\")),isSubmitting&&/*#__PURE__*/_jsx(CircularProgress,{size:24,className:classes.buttonProgress})]})]})]});}})]})});};export default UserModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}