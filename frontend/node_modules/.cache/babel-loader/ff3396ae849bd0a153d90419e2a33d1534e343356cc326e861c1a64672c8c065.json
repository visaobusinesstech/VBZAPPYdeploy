{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/openaiModal.jsx\nimport React,{useState,useEffect,useRef}from\"react\";import*as Yup from\"yup\";import{Formik,Form,Field,FieldArray}from\"formik\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import{MenuItem,FormControl,InputLabel,Select,FormControlLabel,RadioGroup,Radio,FormLabel,Checkbox,Chip,Box,Typography,Divider,Accordion,AccordionSummary,AccordionDetails,IconButton,Tooltip}from\"@material-ui/core\";import{Visibility,VisibilityOff,ExpandMore,Add,Delete,Info,Settings,Timer,Chat}from\"@material-ui/icons\";import{InputAdornment}from\"@material-ui/core\";// Lista de modelos OpenAI suportados\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const openAiModels=[\"gpt-3.5-turbo\",\"gpt-3.5-turbo-1106\",\"gpt-3.5-turbo-16k\",\"gpt-4\",\"gpt-4-turbo\",\"gpt-4o\",\"gpt-4o-mini\"];// Lista de vozes disponíveis para OpenAI\nconst availableVoices=[\"texto\",\"pt-BR-FabioNeural\",\"pt-BR-FranciscaNeural\",\"pt-BR-AntonioNeural\",\"pt-BR-BrendaNeural\",\"pt-BR-DonatoNeural\",\"pt-BR-ElzaNeural\",\"pt-BR-GiovannaNeural\",\"pt-BR-HumbertoNeural\",\"pt-BR-JulioNeural\",\"pt-BR-LeilaNeural\",\"pt-BR-LeticiaNeural\",\"pt-BR-ManuelaNeural\",\"pt-BR-NicolauNeural\",\"pt-BR-ValerioNeural\",\"pt-BR-YaraNeural\"];const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:theme.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:theme.spacing(1),minWidth:120},sectionTitle:{fontWeight:\"bold\",color:theme.palette.primary.main,marginBottom:theme.spacing(1),display:\"flex\",alignItems:\"center\",gap:theme.spacing(1)},flowModeCard:{border:\"1px solid \".concat(theme.palette.divider),borderRadius:theme.spacing(1),padding:theme.spacing(2),marginBottom:theme.spacing(2),backgroundColor:theme.palette.background.default},temporarySettings:{marginTop:theme.spacing(2),padding:theme.spacing(2),backgroundColor:theme.palette.grey[50],borderRadius:theme.spacing(1),border:\"1px dashed \".concat(theme.palette.primary.light)},keywordChip:{margin:theme.spacing(0.5)},helpText:{fontSize:\"0.75rem\",color:theme.palette.text.secondary,marginTop:theme.spacing(0.5)},accordion:{marginBottom:theme.spacing(1),\"&:before\":{display:\"none\"}},accordionSummary:{backgroundColor:theme.palette.grey[50],borderRadius:theme.spacing(0.5),minHeight:48,\"&.Mui-expanded\":{minHeight:48}},accordionDetails:{padding:theme.spacing(2),flexDirection:\"column\"}}));// Esquema de validação para OpenAI\nconst OpenAiSchema=Yup.object().shape({name:Yup.string().min(5,\"Muito curto!\").max(100,\"Muito longo!\").required(\"Obrigatório\"),prompt:Yup.string().min(50,\"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),model:Yup.string().oneOf(openAiModels,\"Modelo inválido\").required(\"Informe o modelo\"),maxTokens:Yup.number().min(10,\"Mínimo 10 tokens\").max(4000,\"Máximo 4000 tokens\").required(\"Informe o número máximo de tokens\"),temperature:Yup.number().min(0,\"Mínimo 0\").max(2,\"Máximo 2\").required(\"Informe a temperatura\"),apiKey:Yup.string().required(\"Informe a API Key\"),maxMessages:Yup.number().min(1,\"Mínimo 1 mensagem\").max(100,\"Máximo 100 mensagens\").required(\"Informe o número máximo de mensagens\"),voice:Yup.string().required(\"Informe o modo para Voz\"),voiceKey:Yup.string().when(\"voice\",{is:voice=>voice!==\"texto\",then:Yup.string().required(\"Voice Key é obrigatória para síntese de voz\"),otherwise:Yup.string().notRequired()}),voiceRegion:Yup.string().when(\"voice\",{is:voice=>voice!==\"texto\",then:Yup.string().required(\"Voice Region é obrigatória para síntese de voz\"),otherwise:Yup.string().notRequired()}),flowMode:Yup.string().oneOf([\"permanent\",\"temporary\"],\"Modo de fluxo inválido\").required(\"Selecione o modo de fluxo\"),maxInteractions:Yup.number().when(\"flowMode\",{is:\"temporary\",then:Yup.number().min(1,\"Mínimo 1 interação\").max(50,\"Máximo 50 interações\").nullable(),otherwise:Yup.number().nullable()}),completionTimeout:Yup.number().when(\"flowMode\",{is:\"temporary\",then:Yup.number().min(1,\"Mínimo 1 minuto\").max(60,\"Máximo 60 minutos\").nullable(),otherwise:Yup.number().nullable()}),continueKeywords:Yup.array().when(\"flowMode\",{is:\"temporary\",then:Yup.array().of(Yup.string().required(\"Palavra-chave não pode estar vazia\")).min(1,\"Pelo menos uma palavra-chave é obrigatória no modo temporário\"),otherwise:Yup.array()}),objective:Yup.string().when([\"flowMode\",\"autoCompleteOnObjective\"],{is:(flowMode,autoComplete)=>flowMode===\"temporary\"&&autoComplete,then:Yup.string().required(\"Objetivo é obrigatório quando auto completar está ativo\"),otherwise:Yup.string()})});const FlowBuilderOpenAIModal=_ref=>{let{open,onSave,data,onUpdate,close}=_ref;const classes=useStyles();const isMounted=useRef(true);const initialState={name:\"\",prompt:\"\",model:\"gpt-4o\",voice:\"texto\",voiceKey:\"\",voiceRegion:\"\",maxTokens:1000,temperature:0.7,apiKey:\"\",maxMessages:10,queueId:0,// Campos para controle de fluxo\nflowMode:\"permanent\",maxInteractions:5,completionTimeout:10,continueKeywords:[\"continuar\",\"próximo\",\"avançar\"],objective:\"\",autoCompleteOnObjective:false};const[showApiKey,setShowApiKey]=useState(false);const[integration,setIntegration]=useState(initialState);const[labels,setLabels]=useState({title:\"Adicionar OpenAI ao fluxo\",btn:\"Adicionar\"});const[newKeyword,setNewKeyword]=useState(\"\");useEffect(()=>{if(open===\"edit\"){var _data$data;setLabels({title:\"Editar OpenAI do fluxo\",btn:\"Salvar\"});const typebotIntegration=(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.typebotIntegration)||{};setIntegration(_objectSpread(_objectSpread(_objectSpread({},initialState),typebotIntegration),{},{model:openAiModels.includes(typebotIntegration.model)?typebotIntegration.model:\"gpt-4o\",flowMode:typebotIntegration.flowMode||\"permanent\",continueKeywords:typebotIntegration.continueKeywords||[\"continuar\",\"próximo\",\"avançar\"],maxInteractions:typebotIntegration.maxInteractions||5,completionTimeout:typebotIntegration.completionTimeout||10,objective:typebotIntegration.objective||\"\",autoCompleteOnObjective:typebotIntegration.autoCompleteOnObjective||false}));}else if(open===\"create\"){setLabels({title:\"Adicionar OpenAI ao fluxo\",btn:\"Adicionar\"});setIntegration(initialState);}return()=>{isMounted.current=false;};},[open,data]);const handleClose=()=>{setNewKeyword(\"\");close(null);};const handleSavePrompt=(values,_ref2)=>{let{setSubmitting}=_ref2;const promptData=_objectSpread(_objectSpread({},values),{},{// Garantir que campos do modo temporário sejam nulos se modo for permanente\nmaxInteractions:values.flowMode===\"temporary\"?values.maxInteractions:null,completionTimeout:values.flowMode===\"temporary\"?values.completionTimeout:null,continueKeywords:values.flowMode===\"temporary\"?values.continueKeywords:[],objective:values.flowMode===\"temporary\"?values.objective:\"\",autoCompleteOnObjective:values.flowMode===\"temporary\"?values.autoCompleteOnObjective:false,// Forçar provider como openai\nprovider:\"openai\"});if(open===\"edit\"){onUpdate(_objectSpread(_objectSpread({},data),{},{data:{typebotIntegration:promptData}}));}else if(open===\"create\"){promptData.projectName=promptData.name;onSave({typebotIntegration:promptData});}handleClose();setSubmitting(false);};const addKeyword=(arrayHelpers,keyword)=>{if(keyword.trim()&&!integration.continueKeywords.includes(keyword.trim())){arrayHelpers.push(keyword.trim());setNewKeyword(\"\");}};const removeKeyword=(arrayHelpers,index)=>{arrayHelpers.remove(index);};const getModelDisplayName=model=>{const modelNames={\"gpt-3.5-turbo\":\"GPT 3.5 Turbo\",\"gpt-3.5-turbo-1106\":\"GPT 3.5 Turbo (1106)\",\"gpt-3.5-turbo-16k\":\"GPT 3.5 Turbo 16K\",\"gpt-4\":\"GPT 4\",\"gpt-4-turbo\":\"GPT 4 Turbo\",\"gpt-4o\":\"GPT 4o\",\"gpt-4o-mini\":\"GPT 4o Mini\"};return modelNames[model]||model;};const getVoiceDisplayName=voice=>{if(voice===\"texto\")return\"Apenas Texto\";return voice.replace(\"pt-BR-\",\"\").replace(\"Neural\",\"\");};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(Dialog,{open:open===\"create\"||open===\"edit\",onClose:handleClose,fullWidth:true,maxWidth:\"lg\",scroll:\"paper\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:labels.title}),/*#__PURE__*/_jsx(Formik,{initialValues:integration,enableReinitialize:true,validationSchema:OpenAiSchema,onSubmit:handleSavePrompt,children:_ref3=>{let{touched,errors,isSubmitting,values,setFieldValue}=_ref3;return/*#__PURE__*/_jsxs(Form,{style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(Accordion,{className:classes.accordion,defaultExpanded:true,children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMore,{}),className:classes.accordionSummary,children:/*#__PURE__*/_jsxs(Typography,{className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(Settings,{}),\"Configura\\xE7\\xF5es B\\xE1sicas - OpenAI\"]})}),/*#__PURE__*/_jsxs(AccordionDetails,{className:classes.accordionDetails,children:[/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Nome do Assistente\",name:\"name\",error:touched.name&&Boolean(errors.name),helperText:touched.name&&errors.name,variant:\"outlined\",margin:\"dense\",fullWidth:true,required:true}),/*#__PURE__*/_jsx(FormControl,{fullWidth:true,margin:\"dense\",variant:\"outlined\",children:/*#__PURE__*/_jsx(Field,{as:TextField,label:\"API Key OpenAI\",name:\"apiKey\",type:showApiKey?\"text\":\"password\",error:touched.apiKey&&Boolean(errors.apiKey),helperText:touched.apiKey&&errors.apiKey,variant:\"outlined\",margin:\"dense\",fullWidth:true,required:true,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowApiKey(!showApiKey),children:showApiKey?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}})}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"dense\",variant:\"outlined\",error:touched.model&&Boolean(errors.model),children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Modelo OpenAI\"}),/*#__PURE__*/_jsx(Field,{as:Select,label:\"Modelo OpenAI\",name:\"model\",children:openAiModels.map(model=>/*#__PURE__*/_jsx(MenuItem,{value:model,children:getModelDisplayName(model)},model))}),touched.model&&errors.model&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",fontSize:\"12px\"},children:errors.model})]}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Prompt do Sistema\",name:\"prompt\",error:touched.prompt&&Boolean(errors.prompt),helperText:touched.prompt&&errors.prompt,variant:\"outlined\",margin:\"dense\",fullWidth:true,required:true,rows:6,multiline:true,placeholder:\"Descreva como a IA deve se comportar, que informa\\xE7\\xF5es deve coletar, como deve responder...\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.multFieldLine,children:[/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Temperatura\",name:\"temperature\",error:touched.temperature&&Boolean(errors.temperature),helperText:touched.temperature&&errors.temperature||\"0 = conservador, 2 = criativo\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\",inputProps:{step:\"0.1\",min:\"0\",max:\"2\"}}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Max Tokens\",name:\"maxTokens\",error:touched.maxTokens&&Boolean(errors.maxTokens),helperText:touched.maxTokens&&errors.maxTokens||\"Tamanho máximo da resposta\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\"}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Max Mensagens\",name:\"maxMessages\",error:touched.maxMessages&&Boolean(errors.maxMessages),helperText:touched.maxMessages&&errors.maxMessages||\"Histórico de contexto\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\"})]})]})]}),/*#__PURE__*/_jsxs(Accordion,{className:classes.accordion,children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMore,{}),className:classes.accordionSummary,children:/*#__PURE__*/_jsxs(Typography,{className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(Chat,{}),\"Configura\\xE7\\xF5es de Voz (Opcional)\"]})}),/*#__PURE__*/_jsxs(AccordionDetails,{className:classes.accordionDetails,children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"dense\",variant:\"outlined\",error:touched.voice&&Boolean(errors.voice),children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tipo de Resposta\"}),/*#__PURE__*/_jsx(Field,{as:Select,label:\"Tipo de Resposta\",name:\"voice\",children:availableVoices.map(voice=>/*#__PURE__*/_jsx(MenuItem,{value:voice,children:getVoiceDisplayName(voice)},voice))}),touched.voice&&errors.voice&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",fontSize:\"12px\"},children:errors.voice})]}),values.voice!==\"texto\"&&/*#__PURE__*/_jsxs(\"div\",{className:classes.multFieldLine,children:[/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Voice Key (Azure)\",name:\"voiceKey\",error:touched.voiceKey&&Boolean(errors.voiceKey),helperText:touched.voiceKey&&errors.voiceKey,variant:\"outlined\",margin:\"dense\",fullWidth:true,placeholder:\"Chave do Azure Speech Service\"}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Voice Region (Azure)\",name:\"voiceRegion\",error:touched.voiceRegion&&Boolean(errors.voiceRegion),helperText:touched.voiceRegion&&errors.voiceRegion,variant:\"outlined\",margin:\"dense\",fullWidth:true,placeholder:\"ex: brazilsouth\"})]})]})]}),/*#__PURE__*/_jsxs(Accordion,{className:classes.accordion,defaultExpanded:true,children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMore,{}),className:classes.accordionSummary,children:/*#__PURE__*/_jsxs(Typography,{className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(Timer,{}),\"Comportamento do Fluxo\",/*#__PURE__*/_jsx(Tooltip,{title:\"Configure como o OpenAI deve se comportar no fluxo\",children:/*#__PURE__*/_jsx(Info,{fontSize:\"small\",color:\"action\"})})]})}),/*#__PURE__*/_jsxs(AccordionDetails,{className:classes.accordionDetails,children:[/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",margin:\"normal\",children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",children:\"Modo de Funcionamento\"}),/*#__PURE__*/_jsxs(RadioGroup,{name:\"flowMode\",value:values.flowMode,onChange:e=>setFieldValue(\"flowMode\",e.target.value),children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"permanent\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Permanente\"}),\" - Encerrar fluxo aqui\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"O usu\\xE1rio fica conversando com a IA at\\xE9 pedir transfer\\xEAncia ou encerrar\"})]})}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"temporary\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tempor\\xE1rio\"}),\" - Volta ao fluxo depois\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"A IA executa uma tarefa espec\\xEDfica e depois retorna ao fluxo normal\"})]})})]})]}),values.flowMode===\"temporary\"&&/*#__PURE__*/_jsxs(\"div\",{className:classes.temporarySettings,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u23F1\\uFE0F Configura\\xE7\\xF5es do Modo Tempor\\xE1rio\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",gutterBottom:true,children:\"Configure quando a IA deve parar e retornar ao fluxo\"}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"M\\xE1ximo de Intera\\xE7\\xF5es\",name:\"maxInteractions\",error:touched.maxInteractions&&Boolean(errors.maxInteractions),helperText:touched.maxInteractions&&errors.maxInteractions||\"Número máximo de mensagens antes de voltar ao fluxo (0 = ilimitado)\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\",inputProps:{min:0,max:50}}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Timeout (minutos)\",name:\"completionTimeout\",error:touched.completionTimeout&&Boolean(errors.completionTimeout),helperText:touched.completionTimeout&&errors.completionTimeout||\"Tempo limite antes de voltar ao fluxo (0 = sem limite)\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\",inputProps:{min:0,max:60}}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"dense\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Palavras-chave para Continuar Fluxo\"}),/*#__PURE__*/_jsx(FieldArray,{name:\"continueKeywords\",children:arrayHelpers=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,alignItems:\"center\",mb:1,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",size:\"small\",placeholder:\"Digite uma palavra-chave\",value:newKeyword,onChange:e=>setNewKeyword(e.target.value),onKeyPress:e=>{if(e.key===\"Enter\"){addKeyword(arrayHelpers,newKeyword);}}}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:()=>addKeyword(arrayHelpers,newKeyword),disabled:!newKeyword.trim(),children:\"Adicionar\"})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",flexWrap:\"wrap\",gap:0.5,children:values.continueKeywords.map((keyword,index)=>/*#__PURE__*/_jsx(Chip,{label:keyword,className:classes.keywordChip,onDelete:()=>removeKeyword(arrayHelpers,index),deleteIcon:/*#__PURE__*/_jsx(Delete,{}),variant:\"outlined\",size:\"small\"},index))}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"Quando o usu\\xE1rio enviar uma dessas palavras, o fluxo continuar\\xE1 automaticamente\"}),touched.continueKeywords&&errors.continueKeywords&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"error\",children:errors.continueKeywords})]})})]}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"Objetivo da IA\",name:\"objective\",error:touched.objective&&Boolean(errors.objective),helperText:touched.objective&&errors.objective||\"Descreva o que a IA deve completar (ex: 'Coletar nome, email e telefone')\",variant:\"outlined\",margin:\"dense\",fullWidth:true,multiline:true,rows:2,placeholder:\"Ex: Coletar dados do cliente, Qualificar interesse, Diagnosticar problema...\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:values.autoCompleteOnObjective,onChange:e=>setFieldValue(\"autoCompleteOnObjective\",e.target.checked),name:\"autoCompleteOnObjective\"}),label:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Auto completar quando atingir objetivo\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"A IA analisar\\xE1 automaticamente se completou o objetivo e voltar\\xE1 ao fluxo\"})]})}),/*#__PURE__*/_jsx(Field,{as:TextField,label:\"ID da Fila (para transfer\\xEAncia)\",name:\"queueId\",error:touched.queueId&&Boolean(errors.queueId),helperText:\"ID da fila para onde transferir se usu\\xE1rio pedir atendente (0 = n\\xE3o transferir)\",variant:\"outlined\",margin:\"dense\",fullWidth:true,type:\"number\",inputProps:{min:0}})]})]})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",variant:\"outlined\",disabled:isSubmitting,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",variant:\"contained\",className:classes.btnWrapper,disabled:isSubmitting,children:labels.btn})]})]});}})]})});};export default FlowBuilderOpenAIModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","Yup","Formik","Form","Field","FieldArray","makeStyles","green","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","MenuItem","FormControl","InputLabel","Select","FormControlLabel","RadioGroup","Radio","FormLabel","Checkbox","Chip","Box","Typography","Divider","Accordion","AccordionSummary","AccordionDetails","IconButton","Tooltip","Visibility","VisibilityOff","ExpandMore","Add","Delete","Info","Settings","Timer","Chat","InputAdornment","jsx","_jsx","jsxs","_jsxs","openAiModels","availableVoices","useStyles","theme","root","display","flexWrap","multFieldLine","marginRight","spacing","btnWrapper","position","buttonProgress","color","top","left","marginTop","marginLeft","formControl","margin","minWidth","sectionTitle","fontWeight","palette","primary","main","marginBottom","alignItems","gap","flowModeCard","border","concat","divider","borderRadius","padding","backgroundColor","background","default","temporarySettings","grey","light","keywordChip","helpText","fontSize","text","secondary","accordion","accordionSummary","minHeight","accordionDetails","flexDirection","OpenAiSchema","object","shape","name","string","min","max","required","prompt","model","oneOf","maxTokens","number","temperature","apiKey","maxMessages","voice","voiceKey","when","is","then","otherwise","notRequired","voiceRegion","flowMode","maxInteractions","nullable","completionTimeout","continueKeywords","array","of","objective","autoComplete","FlowBuilderOpenAIModal","_ref","open","onSave","data","onUpdate","close","classes","isMounted","initialState","queueId","autoCompleteOnObjective","showApiKey","setShowApiKey","integration","setIntegration","labels","setLabels","title","btn","newKeyword","setNewKeyword","_data$data","typebotIntegration","_objectSpread","includes","current","handleClose","handleSavePrompt","values","_ref2","setSubmitting","promptData","provider","projectName","addKeyword","arrayHelpers","keyword","trim","push","removeKeyword","index","remove","getModelDisplayName","modelNames","getVoiceDisplayName","replace","className","children","onClose","fullWidth","maxWidth","scroll","id","initialValues","enableReinitialize","validationSchema","onSubmit","_ref3","touched","errors","isSubmitting","setFieldValue","style","width","dividers","defaultExpanded","expandIcon","as","label","error","Boolean","helperText","variant","type","InputProps","endAdornment","onClick","map","value","rows","multiline","placeholder","inputProps","step","component","onChange","e","target","control","gutterBottom","mb","size","onKeyPress","key","startIcon","disabled","onDelete","deleteIcon","checked"],"sources":["/home/deploy/codigologlow/frontend/src/components/FlowBuilderAddOpenAIModal/index.js"],"sourcesContent":["// frontend/openaiModal.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field, FieldArray } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { \n  MenuItem, \n  FormControl, \n  InputLabel, \n  Select, \n  FormControlLabel,\n  RadioGroup,\n  Radio,\n  FormLabel,\n  Checkbox,\n  Chip,\n  Box,\n  Typography,\n  Divider,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  IconButton,\n  Tooltip\n} from \"@material-ui/core\";\nimport { \n  Visibility, \n  VisibilityOff, \n  ExpandMore,\n  Add,\n  Delete,\n  Info,\n  Settings,\n  Timer,\n  Chat\n} from \"@material-ui/icons\";\nimport { InputAdornment } from \"@material-ui/core\";\n\n// Lista de modelos OpenAI suportados\nconst openAiModels = [\n  \"gpt-3.5-turbo\",\n  \"gpt-3.5-turbo-1106\", \n  \"gpt-3.5-turbo-16k\",\n  \"gpt-4\",\n  \"gpt-4-turbo\",\n  \"gpt-4o\",\n  \"gpt-4o-mini\"\n];\n\n// Lista de vozes disponíveis para OpenAI\nconst availableVoices = [\n  \"texto\",\n  \"pt-BR-FabioNeural\",\n  \"pt-BR-FranciscaNeural\",\n  \"pt-BR-AntonioNeural\",\n  \"pt-BR-BrendaNeural\",\n  \"pt-BR-DonatoNeural\",\n  \"pt-BR-ElzaNeural\",\n  \"pt-BR-GiovannaNeural\",\n  \"pt-BR-HumbertoNeural\",\n  \"pt-BR-JulioNeural\",\n  \"pt-BR-LeilaNeural\",\n  \"pt-BR-LeticiaNeural\",\n  \"pt-BR-ManuelaNeural\",\n  \"pt-BR-NicolauNeural\",\n  \"pt-BR-ValerioNeural\",\n  \"pt-BR-YaraNeural\"\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  btnWrapper: {\n    position: \"relative\",\n  },\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  sectionTitle: {\n    fontWeight: \"bold\",\n    color: theme.palette.primary.main,\n    marginBottom: theme.spacing(1),\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1)\n  },\n  flowModeCard: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.spacing(1),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    backgroundColor: theme.palette.background.default\n  },\n  temporarySettings: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(2),\n    backgroundColor: theme.palette.grey[50],\n    borderRadius: theme.spacing(1),\n    border: `1px dashed ${theme.palette.primary.light}`\n  },\n  keywordChip: {\n    margin: theme.spacing(0.5),\n  },\n  helpText: {\n    fontSize: \"0.75rem\",\n    color: theme.palette.text.secondary,\n    marginTop: theme.spacing(0.5)\n  },\n  accordion: {\n    marginBottom: theme.spacing(1),\n    \"&:before\": {\n      display: \"none\",\n    }\n  },\n  accordionSummary: {\n    backgroundColor: theme.palette.grey[50],\n    borderRadius: theme.spacing(0.5),\n    minHeight: 48,\n    \"&.Mui-expanded\": {\n      minHeight: 48,\n    }\n  },\n  accordionDetails: {\n    padding: theme.spacing(2),\n    flexDirection: \"column\"\n  }\n}));\n\n// Esquema de validação para OpenAI\nconst OpenAiSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(5, \"Muito curto!\")\n    .max(100, \"Muito longo!\")\n    .required(\"Obrigatório\"),\n  prompt: Yup.string()\n    .min(50, \"Muito curto!\")\n    .required(\"Descreva o treinamento para Inteligência Artificial\"),\n  model: Yup.string()\n    .oneOf(openAiModels, \"Modelo inválido\")\n    .required(\"Informe o modelo\"),\n  maxTokens: Yup.number()\n    .min(10, \"Mínimo 10 tokens\")\n    .max(4000, \"Máximo 4000 tokens\")\n    .required(\"Informe o número máximo de tokens\"),\n  temperature: Yup.number()\n    .min(0, \"Mínimo 0\")\n    .max(2, \"Máximo 2\")\n    .required(\"Informe a temperatura\"),\n  apiKey: Yup.string().required(\"Informe a API Key\"),\n  maxMessages: Yup.number()\n    .min(1, \"Mínimo 1 mensagem\")\n    .max(100, \"Máximo 100 mensagens\")\n    .required(\"Informe o número máximo de mensagens\"),\n  voice: Yup.string().required(\"Informe o modo para Voz\"),\n  voiceKey: Yup.string().when(\"voice\", {\n    is: (voice) => voice !== \"texto\",\n    then: Yup.string().required(\"Voice Key é obrigatória para síntese de voz\"),\n    otherwise: Yup.string().notRequired()\n  }),\n  voiceRegion: Yup.string().when(\"voice\", {\n    is: (voice) => voice !== \"texto\",\n    then: Yup.string().required(\"Voice Region é obrigatória para síntese de voz\"),\n    otherwise: Yup.string().notRequired()\n  }),\n  flowMode: Yup.string()\n    .oneOf([\"permanent\", \"temporary\"], \"Modo de fluxo inválido\")\n    .required(\"Selecione o modo de fluxo\"),\n  maxInteractions: Yup.number().when(\"flowMode\", {\n    is: \"temporary\",\n    then: Yup.number()\n      .min(1, \"Mínimo 1 interação\")\n      .max(50, \"Máximo 50 interações\")\n      .nullable(),\n    otherwise: Yup.number().nullable()\n  }),\n  completionTimeout: Yup.number().when(\"flowMode\", {\n    is: \"temporary\",\n    then: Yup.number()\n      .min(1, \"Mínimo 1 minuto\")\n      .max(60, \"Máximo 60 minutos\")\n      .nullable(),\n    otherwise: Yup.number().nullable()\n  }),\n  continueKeywords: Yup.array().when(\"flowMode\", {\n    is: \"temporary\",\n    then: Yup.array()\n      .of(Yup.string().required(\"Palavra-chave não pode estar vazia\"))\n      .min(1, \"Pelo menos uma palavra-chave é obrigatória no modo temporário\"),\n    otherwise: Yup.array()\n  }),\n  objective: Yup.string().when([\"flowMode\", \"autoCompleteOnObjective\"], {\n    is: (flowMode, autoComplete) => flowMode === \"temporary\" && autoComplete,\n    then: Yup.string().required(\"Objetivo é obrigatório quando auto completar está ativo\"),\n    otherwise: Yup.string()\n  })\n});\n\nconst FlowBuilderOpenAIModal = ({ open, onSave, data, onUpdate, close }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    name: \"\",\n    prompt: \"\",\n    model: \"gpt-4o\",\n    voice: \"texto\",\n    voiceKey: \"\",\n    voiceRegion: \"\",\n    maxTokens: 1000,\n    temperature: 0.7,\n    apiKey: \"\",\n    maxMessages: 10,\n    queueId: 0,\n    \n    // Campos para controle de fluxo\n    flowMode: \"permanent\",\n    maxInteractions: 5,\n    completionTimeout: 10,\n    continueKeywords: [\"continuar\", \"próximo\", \"avançar\"],\n    objective: \"\",\n    autoCompleteOnObjective: false\n  };\n\n  const [showApiKey, setShowApiKey] = useState(false);\n  const [integration, setIntegration] = useState(initialState);\n  const [labels, setLabels] = useState({\n    title: \"Adicionar OpenAI ao fluxo\",\n    btn: \"Adicionar\",\n  });\n  const [newKeyword, setNewKeyword] = useState(\"\");\n\n  useEffect(() => {\n    if (open === \"edit\") {\n      setLabels({\n        title: \"Editar OpenAI do fluxo\",\n        btn: \"Salvar\",\n      });\n      const typebotIntegration = data?.data?.typebotIntegration || {};\n      setIntegration({\n        ...initialState,\n        ...typebotIntegration,\n        model: openAiModels.includes(typebotIntegration.model)\n          ? typebotIntegration.model\n          : \"gpt-4o\",\n        flowMode: typebotIntegration.flowMode || \"permanent\",\n        continueKeywords: typebotIntegration.continueKeywords || [\"continuar\", \"próximo\", \"avançar\"],\n        maxInteractions: typebotIntegration.maxInteractions || 5,\n        completionTimeout: typebotIntegration.completionTimeout || 10,\n        objective: typebotIntegration.objective || \"\",\n        autoCompleteOnObjective: typebotIntegration.autoCompleteOnObjective || false\n      });\n    } else if (open === \"create\") {\n      setLabels({\n        title: \"Adicionar OpenAI ao fluxo\",\n        btn: \"Adicionar\",\n      });\n      setIntegration(initialState);\n    }\n\n    return () => {\n      isMounted.current = false;\n    };\n  }, [open, data]);\n\n  const handleClose = () => {\n    setNewKeyword(\"\");\n    close(null);\n  };\n\n  const handleSavePrompt = (values, { setSubmitting }) => {\n    const promptData = {\n      ...values,\n      // Garantir que campos do modo temporário sejam nulos se modo for permanente\n      maxInteractions: values.flowMode === \"temporary\" ? values.maxInteractions : null,\n      completionTimeout: values.flowMode === \"temporary\" ? values.completionTimeout : null,\n      continueKeywords: values.flowMode === \"temporary\" ? values.continueKeywords : [],\n      objective: values.flowMode === \"temporary\" ? values.objective : \"\",\n      autoCompleteOnObjective: values.flowMode === \"temporary\" ? values.autoCompleteOnObjective : false,\n      // Forçar provider como openai\n      provider: \"openai\"\n    };\n\n    if (open === \"edit\") {\n      onUpdate({\n        ...data,\n        data: { typebotIntegration: promptData },\n      });\n    } else if (open === \"create\") {\n      promptData.projectName = promptData.name;\n      onSave({\n        typebotIntegration: promptData,\n      });\n    }\n    handleClose();\n    setSubmitting(false);\n  };\n\n  const addKeyword = (arrayHelpers, keyword) => {\n    if (keyword.trim() && !integration.continueKeywords.includes(keyword.trim())) {\n      arrayHelpers.push(keyword.trim());\n      setNewKeyword(\"\");\n    }\n  };\n\n  const removeKeyword = (arrayHelpers, index) => {\n    arrayHelpers.remove(index);\n  };\n\n  const getModelDisplayName = (model) => {\n    const modelNames = {\n      \"gpt-3.5-turbo\": \"GPT 3.5 Turbo\",\n      \"gpt-3.5-turbo-1106\": \"GPT 3.5 Turbo (1106)\",\n      \"gpt-3.5-turbo-16k\": \"GPT 3.5 Turbo 16K\",\n      \"gpt-4\": \"GPT 4\",\n      \"gpt-4-turbo\": \"GPT 4 Turbo\",\n      \"gpt-4o\": \"GPT 4o\",\n      \"gpt-4o-mini\": \"GPT 4o Mini\"\n    };\n    return modelNames[model] || model;\n  };\n\n  const getVoiceDisplayName = (voice) => {\n    if (voice === \"texto\") return \"Apenas Texto\";\n    return voice.replace(\"pt-BR-\", \"\").replace(\"Neural\", \"\");\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open === \"create\" || open === \"edit\"}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"lg\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {labels.title}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={OpenAiSchema}\n          onSubmit={handleSavePrompt}\n        >\n          {({ touched, errors, isSubmitting, values, setFieldValue }) => (\n            <Form style={{ width: \"100%\" }}>\n              <DialogContent dividers>\n                \n                {/* CONFIGURAÇÕES BÁSICAS */}\n                <Accordion className={classes.accordion} defaultExpanded>\n                  <AccordionSummary \n                    expandIcon={<ExpandMore />}\n                    className={classes.accordionSummary}\n                  >\n                    <Typography className={classes.sectionTitle}>\n                      <Settings />\n                      Configurações Básicas - OpenAI\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails className={classes.accordionDetails}>\n                    \n                    <Field\n                      as={TextField}\n                      label=\"Nome do Assistente\"\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      required\n                    />\n\n                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                      <Field\n                        as={TextField}\n                        label=\"API Key OpenAI\"\n                        name=\"apiKey\"\n                        type={showApiKey ? \"text\" : \"password\"}\n                        error={touched.apiKey && Boolean(errors.apiKey)}\n                        helperText={touched.apiKey && errors.apiKey}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        fullWidth\n                        required\n                        InputProps={{\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <IconButton onClick={() => setShowApiKey(!showApiKey)}>\n                                {showApiKey ? <VisibilityOff /> : <Visibility />}\n                              </IconButton>\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </FormControl>\n\n                    <FormControl\n                      fullWidth\n                      margin=\"dense\"\n                      variant=\"outlined\"\n                      error={touched.model && Boolean(errors.model)}\n                    >\n                      <InputLabel>Modelo OpenAI</InputLabel>\n                      <Field\n                        as={Select}\n                        label=\"Modelo OpenAI\"\n                        name=\"model\"\n                      >\n                        {openAiModels.map((model) => (\n                          <MenuItem key={model} value={model}>\n                            {getModelDisplayName(model)}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                      {touched.model && errors.model && (\n                        <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                          {errors.model}\n                        </div>\n                      )}\n                    </FormControl>\n\n                    <Field\n                      as={TextField}\n                      label=\"Prompt do Sistema\"\n                      name=\"prompt\"\n                      error={touched.prompt && Boolean(errors.prompt)}\n                      helperText={touched.prompt && errors.prompt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      required\n                      rows={6}\n                      multiline\n                      placeholder=\"Descreva como a IA deve se comportar, que informações deve coletar, como deve responder...\"\n                    />\n\n                    <div className={classes.multFieldLine}>\n                      <Field\n                        as={TextField}\n                        label=\"Temperatura\"\n                        name=\"temperature\"\n                        error={touched.temperature && Boolean(errors.temperature)}\n                        helperText={touched.temperature && errors.temperature || \"0 = conservador, 2 = criativo\"}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        fullWidth\n                        type=\"number\"\n                        inputProps={{\n                          step: \"0.1\",\n                          min: \"0\",\n                          max: \"2\",\n                        }}\n                      />\n                      <Field\n                        as={TextField}\n                        label=\"Max Tokens\"\n                        name=\"maxTokens\"\n                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                        helperText={touched.maxTokens && errors.maxTokens || \"Tamanho máximo da resposta\"}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        fullWidth\n                        type=\"number\"\n                      />\n                      <Field\n                        as={TextField}\n                        label=\"Max Mensagens\"\n                        name=\"maxMessages\"\n                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                        helperText={touched.maxMessages && errors.maxMessages || \"Histórico de contexto\"}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        fullWidth\n                        type=\"number\"\n                      />\n                    </div>\n\n                  </AccordionDetails>\n                </Accordion>\n\n                {/* CONFIGURAÇÕES DE VOZ */}\n                <Accordion className={classes.accordion}>\n                  <AccordionSummary \n                    expandIcon={<ExpandMore />}\n                    className={classes.accordionSummary}\n                  >\n                    <Typography className={classes.sectionTitle}>\n                      <Chat />\n                      Configurações de Voz (Opcional)\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails className={classes.accordionDetails}>\n                    \n                    <FormControl\n                      fullWidth\n                      margin=\"dense\"\n                      variant=\"outlined\"\n                      error={touched.voice && Boolean(errors.voice)}\n                    >\n                      <InputLabel>Tipo de Resposta</InputLabel>\n                      <Field\n                        as={Select}\n                        label=\"Tipo de Resposta\"\n                        name=\"voice\"\n                      >\n                        {availableVoices.map((voice) => (\n                          <MenuItem key={voice} value={voice}>\n                            {getVoiceDisplayName(voice)}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                      {touched.voice && errors.voice && (\n                        <div style={{ color: \"red\", fontSize: \"12px\" }}>\n                          {errors.voice}\n                        </div>\n                      )}\n                    </FormControl>\n\n                    {values.voice !== \"texto\" && (\n                      <div className={classes.multFieldLine}>\n                        <Field\n                          as={TextField}\n                          label=\"Voice Key (Azure)\"\n                          name=\"voiceKey\"\n                          error={touched.voiceKey && Boolean(errors.voiceKey)}\n                          helperText={touched.voiceKey && errors.voiceKey}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          placeholder=\"Chave do Azure Speech Service\"\n                        />\n                        <Field\n                          as={TextField}\n                          label=\"Voice Region (Azure)\"\n                          name=\"voiceRegion\"\n                          error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                          helperText={touched.voiceRegion && errors.voiceRegion}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          placeholder=\"ex: brazilsouth\"\n                        />\n                      </div>\n                    )}\n\n                  </AccordionDetails>\n                </Accordion>\n\n                {/* COMPORTAMENTO DO FLUXO */}\n                <Accordion className={classes.accordion} defaultExpanded>\n                  <AccordionSummary \n                    expandIcon={<ExpandMore />}\n                    className={classes.accordionSummary}\n                  >\n                    <Typography className={classes.sectionTitle}>\n                      <Timer />\n                      Comportamento do Fluxo\n                      <Tooltip title=\"Configure como o OpenAI deve se comportar no fluxo\">\n                        <Info fontSize=\"small\" color=\"action\" />\n                      </Tooltip>\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails className={classes.accordionDetails}>\n                    \n                    <FormControl component=\"fieldset\" margin=\"normal\">\n                      <FormLabel component=\"legend\">Modo de Funcionamento</FormLabel>\n                      <RadioGroup\n                        name=\"flowMode\"\n                        value={values.flowMode}\n                        onChange={(e) => setFieldValue(\"flowMode\", e.target.value)}\n                      >\n                        <FormControlLabel\n                          value=\"permanent\"\n                          control={<Radio />}\n                          label={\n                            <Box>\n                              <Typography variant=\"body1\">\n                                <strong>Permanente</strong> - Encerrar fluxo aqui\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"textSecondary\">\n                                O usuário fica conversando com a IA até pedir transferência ou encerrar\n                              </Typography>\n                            </Box>\n                          }\n                        />\n                        <FormControlLabel\n                          value=\"temporary\"\n                          control={<Radio />}\n                          label={\n                            <Box>\n                              <Typography variant=\"body1\">\n                                <strong>Temporário</strong> - Volta ao fluxo depois\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"textSecondary\">\n                                A IA executa uma tarefa específica e depois retorna ao fluxo normal\n                              </Typography>\n                            </Box>\n                          }\n                        />\n                      </RadioGroup>\n                    </FormControl>\n\n                    {/* CONFIGURAÇÕES DO MODO TEMPORÁRIO */}\n                    {values.flowMode === \"temporary\" && (\n                      <div className={classes.temporarySettings}>\n                        <Typography variant=\"h6\" gutterBottom>\n                          ⏱️ Configurações do Modo Temporário\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                          Configure quando a IA deve parar e retornar ao fluxo\n                        </Typography>\n\n                        {/* Limite de Interações */}\n                        <Field\n                          as={TextField}\n                          label=\"Máximo de Interações\"\n                          name=\"maxInteractions\"\n                          error={touched.maxInteractions && Boolean(errors.maxInteractions)}\n                          helperText={touched.maxInteractions && errors.maxInteractions || \"Número máximo de mensagens antes de voltar ao fluxo (0 = ilimitado)\"}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          type=\"number\"\n                          inputProps={{ min: 0, max: 50 }}\n                        />\n\n                        {/* Timeout */}\n                        <Field\n                          as={TextField}\n                          label=\"Timeout (minutos)\"\n                          name=\"completionTimeout\"\n                          error={touched.completionTimeout && Boolean(errors.completionTimeout)}\n                          helperText={touched.completionTimeout && errors.completionTimeout || \"Tempo limite antes de voltar ao fluxo (0 = sem limite)\"}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          type=\"number\"\n                          inputProps={{ min: 0, max: 60 }}\n                        />\n\n                        {/* Palavras-chave de Continuação */}\n                        <FormControl fullWidth margin=\"dense\">\n                          <Typography variant=\"subtitle2\" gutterBottom>\n                            Palavras-chave para Continuar Fluxo\n                          </Typography>\n                          <FieldArray name=\"continueKeywords\">\n                            {(arrayHelpers) => (\n                              <div>\n                                <Box display=\"flex\" gap={1} alignItems=\"center\" mb={1}>\n                                  <TextField\n                                    variant=\"outlined\"\n                                    size=\"small\"\n                                    placeholder=\"Digite uma palavra-chave\"\n                                    value={newKeyword}\n                                    onChange={(e) => setNewKeyword(e.target.value)}\n                                    onKeyPress={(e) => {\n                                      if (e.key === \"Enter\") {\n                                        addKeyword(arrayHelpers, newKeyword);\n                                      }\n                                    }}\n                                  />\n                                  <Button\n                                    variant=\"outlined\"\n                                    size=\"small\"\n                                    startIcon={<Add />}\n                                    onClick={() => addKeyword(arrayHelpers, newKeyword)}\n                                    disabled={!newKeyword.trim()}\n                                  >\n                                    Adicionar\n                                  </Button>\n                                </Box>\n                                <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5}>\n                                  {values.continueKeywords.map((keyword, index) => (\n                                    <Chip\n                                      key={index}\n                                      label={keyword}\n                                      className={classes.keywordChip}\n                                      onDelete={() => removeKeyword(arrayHelpers, index)}\n                                      deleteIcon={<Delete />}\n                                      variant=\"outlined\"\n                                      size=\"small\"\n                                    />\n                                  ))}\n                                </Box>\n                                <Typography variant=\"caption\" color=\"textSecondary\">\n                                  Quando o usuário enviar uma dessas palavras, o fluxo continuará automaticamente\n                                </Typography>\n                                {touched.continueKeywords && errors.continueKeywords && (\n                                  <Typography variant=\"caption\" color=\"error\">\n                                    {errors.continueKeywords}\n                                  </Typography>\n                                )}\n                              </div>\n                            )}\n                          </FieldArray>\n                        </FormControl>\n\n                        {/* Objetivo */}\n                        <Field\n                          as={TextField}\n                          label=\"Objetivo da IA\"\n                          name=\"objective\"\n                          error={touched.objective && Boolean(errors.objective)}\n                          helperText={touched.objective && errors.objective || \"Descreva o que a IA deve completar (ex: 'Coletar nome, email e telefone')\"}\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          multiline\n                          rows={2}\n                          placeholder=\"Ex: Coletar dados do cliente, Qualificar interesse, Diagnosticar problema...\"\n                        />\n\n                        {/* Auto Completar */}\n                        <FormControlLabel\n                          control={\n                            <Checkbox\n                              checked={values.autoCompleteOnObjective}\n                              onChange={(e) => setFieldValue(\"autoCompleteOnObjective\", e.target.checked)}\n                              name=\"autoCompleteOnObjective\"\n                            />\n                          }\n                          label={\n                            <Box>\n                              <Typography variant=\"body2\">\n                                Auto completar quando atingir objetivo\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"textSecondary\">\n                                A IA analisará automaticamente se completou o objetivo e voltará ao fluxo\n                              </Typography>\n                            </Box>\n                          }\n                        />\n\n                        {/* Fila de Transferência */}\n                        <Field\n                          as={TextField}\n                          label=\"ID da Fila (para transferência)\"\n                          name=\"queueId\"\n                          error={touched.queueId && Boolean(errors.queueId)}\n                          helperText=\"ID da fila para onde transferir se usuário pedir atendente (0 = não transferir)\"\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                          fullWidth\n                          type=\"number\"\n                          inputProps={{ min: 0 }}\n                        />\n\n                      </div>\n                    )}\n\n                  </AccordionDetails>\n                </Accordion>\n\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  disabled={isSubmitting}\n                >\n                  Cancelar\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                  disabled={isSubmitting}\n                >\n                  {labels.btn}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default FlowBuilderOpenAIModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}