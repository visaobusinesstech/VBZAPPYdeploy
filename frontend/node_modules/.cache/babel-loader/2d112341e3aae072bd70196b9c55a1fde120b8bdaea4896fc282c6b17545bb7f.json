{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useReducer,useContext}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import SubscriptionModal from\"../../components/SubscriptionModal\";import api from\"../../services/api\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import moment from\"moment\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const reducer=(state,action)=>{if(action.type===\"LOAD_INVOICES\"){const invoices=action.payload.invoices||action.payload;const newInvoices=[];invoices.forEach(invoice=>{const invoiceIndex=state.findIndex(i=>i.id===invoice.id);if(invoiceIndex!==-1){state[invoiceIndex]=invoice;}else{newInvoices.push(invoice);}});return[...state,...newInvoices];}if(action.type===\"UPDATE_INVOICES\"){const invoice=action.payload;const invoiceIndex=state.findIndex(i=>i.id===invoice.id);if(invoiceIndex!==-1){state[invoiceIndex]=invoice;return[...state];}else{return[invoice,...state];}}if(action.type===\"DELETE_INVOICE\"){const invoiceId=action.payload;const invoiceIndex=state.findIndex(i=>i.id===invoiceId);if(invoiceIndex!==-1){state.splice(invoiceIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:_objectSpread({flex:1,padding:theme.spacing(1),overflowY:\"scroll\"},theme.scrollbarStyles)}));const Invoices=()=>{const classes=useStyles();const{user}=useContext(AuthContext);const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[searchParam]=useState(\"\");const[invoices,dispatch]=useReducer(reducer,[]);const[storagePlans,setStoragePlans]=React.useState([]);const[selectedContactId,setSelectedContactId]=useState(null);const[contactModalOpen,setContactModalOpen]=useState(false);const[isCompanyExpired,setIsCompanyExpired]=useState(false);// Verificar se a empresa está vencida\nuseEffect(()=>{if(user&&user.company){const hoje=moment();const vencimento=moment(user.company.dueDate);const isExpired=hoje.isAfter(vencimento);setIsCompanyExpired(isExpired);}},[user]);const handleOpenContactModal=invoices=>{setStoragePlans(invoices);setSelectedContactId(null);setContactModalOpen(true);};const handleCloseContactModal=()=>{setSelectedContactId(null);setContactModalOpen(false);};useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchInvoices=async()=>{try{console.log(\"Buscando faturas...\",{searchParam,pageNumber});const{data}=await api.get(\"/invoices/all\",{params:{searchParam,pageNumber}});console.log(\"Dados recebidos:\",data);dispatch({type:\"LOAD_INVOICES\",payload:data});console.log(\"Dispatch realizado com payload:\",data);setHasMore(data.hasMore);setLoading(false);}catch(err){console.error(\"Erro ao buscar faturas:\",err);toastError(err);setLoading(false);}};fetchInvoices();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber]);const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};const rowStyle=record=>{const hoje=moment(moment()).format(\"DD/MM/yyyy\");const vencimento=moment(record.dueDate).format(\"DD/MM/yyyy\");var diff=moment(vencimento,\"DD/MM/yyyy\").diff(moment(hoje,\"DD/MM/yyyy\"));var dias=moment.duration(diff).asDays();if(dias<0&&record.status!==\"paid\"){return{backgroundColor:\"#ffbcbc9c\"};}};const rowStatus=record=>{const hoje=moment(moment()).format(\"DD/MM/yyyy\");const vencimento=moment(record.dueDate).format(\"DD/MM/yyyy\");var diff=moment(vencimento,\"DD/MM/yyyy\").diff(moment(hoje,\"DD/MM/yyyy\"));var dias=moment.duration(diff).asDays();const status=record.status;if(status===\"paid\"){return\"Pago\";}if(dias<0){return\"Vencido\";}else{return\"Em Aberto\";}};const renderUseWhatsapp=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseFacebook=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseInstagram=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseCampaigns=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseSchedules=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseInternalChat=row=>{return row.status===false?\"Não\":\"Sim\";};const renderUseExternalApi=row=>{return row.status===false?\"Não\":\"Sim\";};return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(SubscriptionModal,{open:contactModalOpen,onClose:handleCloseContactModal,\"aria-labelledby\":\"form-dialog-title\",Invoice:storagePlans,contactId:selectedContactId}),/*#__PURE__*/_jsxs(MainHeader,{children:[/*#__PURE__*/_jsxs(Title,{children:[\"Faturas (\",invoices.length,\")\"]}),isCompanyExpired&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#ffebee',color:'#c62828',padding:'10px',borderRadius:'4px',marginTop:'10px',border:'1px solid #ef9a9a'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Aten\\xE7\\xE3o:\"}),\" Sua assinatura est\\xE1 vencida. Entre em contato com o suporte para regularizar sua situa\\xE7\\xE3o.\"]})]}),/*#__PURE__*/_jsx(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll,children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Detalhes\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Usu\\xE1rios\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Conex\\xF5es\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Filas\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Valor\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Data Venc.\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"A\\xE7\\xE3o\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[invoices.map(invoices=>/*#__PURE__*/_jsxs(TableRow,{style:rowStyle(invoices),children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:invoices.detail}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:invoices.users}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:invoices.connections}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:invoices.queues}),/*#__PURE__*/_jsx(TableCell,{style:{fontWeight:'bold'},align:\"center\",children:invoices.value.toLocaleString('pt-br',{style:'currency',currency:'BRL'})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:moment(invoices.dueDate).format(\"DD/MM/YYYY\")}),/*#__PURE__*/_jsx(TableCell,{style:{fontWeight:'bold'},align:\"center\",children:rowStatus(invoices)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:rowStatus(invoices)!==\"Pago\"?/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>handleOpenContactModal(invoices),children:\"PAGAR\"}):/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\"// color=\"secondary\"\n,children:\"PAGO\"})})]},invoices.id)),loading&&/*#__PURE__*/_jsx(TableRowSkeleton,{columns:4})]})})]})})]});};export default Invoices;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","MainContainer","MainHeader","Title","SubscriptionModal","api","TableRowSkeleton","toastError","AuthContext","moment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","reducer","state","action","type","invoices","payload","newInvoices","forEach","invoice","invoiceIndex","findIndex","i","id","push","invoiceId","splice","useStyles","theme","mainPaper","_objectSpread","flex","padding","spacing","overflowY","scrollbarStyles","Invoices","classes","user","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","searchParam","dispatch","storagePlans","setStoragePlans","selectedContactId","setSelectedContactId","contactModalOpen","setContactModalOpen","isCompanyExpired","setIsCompanyExpired","company","hoje","vencimento","dueDate","isExpired","isAfter","handleOpenContactModal","handleCloseContactModal","delayDebounceFn","setTimeout","fetchInvoices","console","log","data","get","params","err","error","clearTimeout","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","rowStyle","record","format","diff","dias","duration","asDays","status","backgroundColor","rowStatus","renderUseWhatsapp","row","renderUseFacebook","renderUseInstagram","renderUseCampaigns","renderUseSchedules","renderUseInternalChat","renderUseExternalApi","children","open","onClose","Invoice","contactId","length","style","color","borderRadius","marginTop","border","className","variant","onScroll","size","align","map","detail","users","connections","queues","fontWeight","value","toLocaleString","currency","onClick","columns"],"sources":["/home/deploy/codigologlow/frontend/src/pages/Financeiro/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload.invoices || action.payload;\n    const newInvoices = [];\n\n    invoices.forEach((invoice) => {\n      const invoiceIndex = state.findIndex((i) => i.id === invoice.id);\n      if (invoiceIndex !== -1) {\n        state[invoiceIndex] = invoice;\n      } else {\n        newInvoices.push(invoice);\n      }\n    });\n\n    return [...state, ...newInvoices];\n  }\n\n  if (action.type === \"UPDATE_INVOICES\") {\n    const invoice = action.payload;\n    const invoiceIndex = state.findIndex((i) => i.id === invoice.id);\n\n    if (invoiceIndex !== -1) {\n      state[invoiceIndex] = invoice;\n      return [...state];\n    } else {\n      return [invoice, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INVOICE\") {\n    const invoiceId = action.payload;\n\n    const invoiceIndex = state.findIndex((i) => i.id === invoiceId);\n    if (invoiceIndex !== -1) {\n      state.splice(invoiceIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, ] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [isCompanyExpired, setIsCompanyExpired] = useState(false);\n\n  // Verificar se a empresa está vencida\n  useEffect(() => {\n    if (user && user.company) {\n      const hoje = moment();\n      const vencimento = moment(user.company.dueDate);\n      const isExpired = hoje.isAfter(vencimento);\n      setIsCompanyExpired(isExpired);\n    }\n  }, [user]);\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          console.log(\"Buscando faturas...\", { searchParam, pageNumber });\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n\n          console.log(\"Dados recebidos:\", data);\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          console.log(\"Dispatch realizado com payload:\", data);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          console.error(\"Erro ao buscar faturas:\", err);\n          toastError(err);\n          setLoading(false);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();\n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();\n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n  }\n  \n  const renderUseWhatsapp = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseFacebook = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseInstagram = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseCampaigns = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseSchedules = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseInternalChat = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n  const renderUseExternalApi = (row) => { return row.status === false ? \"Não\" : \"Sim\" };\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas ({invoices.length})</Title>\n        {isCompanyExpired && (\n          <div style={{ \n            backgroundColor: '#ffebee', \n            color: '#c62828', \n            padding: '10px', \n            borderRadius: '4px', \n            marginTop: '10px',\n            border: '1px solid #ef9a9a'\n          }}>\n            <strong>Atenção:</strong> Sua assinatura está vencida. Entre em contato com o suporte para regularizar sua situação.\n          </div>\n        )}\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              {/* <TableCell align=\"center\">Id</TableCell> */}\n              <TableCell align=\"center\">Detalhes</TableCell>\n\n              <TableCell align=\"center\">Usuários</TableCell>\n              <TableCell align=\"center\">Conexões</TableCell>\n              <TableCell align=\"center\">Filas</TableCell>\n              {/* <TableCell align=\"center\">Whatsapp</TableCell>\n              <TableCell align=\"center\">Facebook</TableCell>\n              <TableCell align=\"center\">Instagram</TableCell> */}\n              {/* <TableCell align=\"center\">Campanhas</TableCell>\n              <TableCell align=\"center\">Agendamentos</TableCell>\n              <TableCell align=\"center\">Chat Interno</TableCell>\n              <TableCell align=\"center\">Rest PI</TableCell> */}\n\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  {/* <TableCell align=\"center\">{invoices.id}</TableCell> */}\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n\n                  <TableCell align=\"center\">{invoices.users}</TableCell>\n                  <TableCell align=\"center\">{invoices.connections}</TableCell>\n                  <TableCell align=\"center\">{invoices.queues}</TableCell>\n                  {/* <TableCell align=\"center\">{renderUseWhatsapp(invoices.useWhatsapp)}</TableCell>\n                  <TableCell align=\"center\">{renderUseFacebook(invoices.useFacebook)}</TableCell>\n                  <TableCell align=\"center\">{renderUseInstagram(invoices.useInstagram)}</TableCell> */}\n                  {/* <TableCell align=\"center\">{renderUseCampaigns(invoices.useCampaigns)}</TableCell>\n                  <TableCell align=\"center\">{renderUseSchedules(invoices.useSchedules)}</TableCell>\n                  <TableCell align=\"center\">{renderUseInternalChat(invoices.useInternalChat)}</TableCell>\n                  <TableCell align=\"center\">{renderUseExternalApi(invoices.useExternalApi)}</TableCell> */}\n\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                      // color=\"secondary\"\n                      >\n                        PAGO\n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n"],"mappings":"uHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CAC1E,OAASC,UAAU,KAAQ,0BAA0B,CACrD,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,iBAAiB,KAAM,oCAAoC,CAClE,MAAO,CAAAC,GAAG,KAAM,oBAAoB,CACpC,MAAO,CAAAC,gBAAgB,KAAM,mCAAmC,CAChE,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAASC,WAAW,KAAQ,gCAAgC,CAE5D,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE5B,KAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,GAAIA,MAAM,CAACC,IAAI,GAAK,eAAe,CAAE,CACnC,KAAM,CAAAC,QAAQ,CAAGF,MAAM,CAACG,OAAO,CAACD,QAAQ,EAAIF,MAAM,CAACG,OAAO,CAC1D,KAAM,CAAAC,WAAW,CAAG,EAAE,CAEtBF,QAAQ,CAACG,OAAO,CAAEC,OAAO,EAAK,CAC5B,KAAM,CAAAC,YAAY,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKJ,OAAO,CAACI,EAAE,CAAC,CAChE,GAAIH,YAAY,GAAK,CAAC,CAAC,CAAE,CACvBR,KAAK,CAACQ,YAAY,CAAC,CAAGD,OAAO,CAC/B,CAAC,IAAM,CACLF,WAAW,CAACO,IAAI,CAACL,OAAO,CAAC,CAC3B,CACF,CAAC,CAAC,CAEF,MAAO,CAAC,GAAGP,KAAK,CAAE,GAAGK,WAAW,CAAC,CACnC,CAEA,GAAIJ,MAAM,CAACC,IAAI,GAAK,iBAAiB,CAAE,CACrC,KAAM,CAAAK,OAAO,CAAGN,MAAM,CAACG,OAAO,CAC9B,KAAM,CAAAI,YAAY,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKJ,OAAO,CAACI,EAAE,CAAC,CAEhE,GAAIH,YAAY,GAAK,CAAC,CAAC,CAAE,CACvBR,KAAK,CAACQ,YAAY,CAAC,CAAGD,OAAO,CAC7B,MAAO,CAAC,GAAGP,KAAK,CAAC,CACnB,CAAC,IAAM,CACL,MAAO,CAACO,OAAO,CAAE,GAAGP,KAAK,CAAC,CAC5B,CACF,CAEA,GAAIC,MAAM,CAACC,IAAI,GAAK,gBAAgB,CAAE,CACpC,KAAM,CAAAW,SAAS,CAAGZ,MAAM,CAACG,OAAO,CAEhC,KAAM,CAAAI,YAAY,CAAGR,KAAK,CAACS,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKE,SAAS,CAAC,CAC/D,GAAIL,YAAY,GAAK,CAAC,CAAC,CAAE,CACvBR,KAAK,CAACc,MAAM,CAACN,YAAY,CAAE,CAAC,CAAC,CAC/B,CACA,MAAO,CAAC,GAAGR,KAAK,CAAC,CACnB,CAEA,GAAIC,MAAM,CAACC,IAAI,GAAK,OAAO,CAAE,CAC3B,MAAO,EAAE,CACX,CACF,CAAC,CAED,KAAM,CAAAa,SAAS,CAAGvC,UAAU,CAAEwC,KAAK,GAAM,CACvCC,SAAS,CAAAC,aAAA,EACPC,IAAI,CAAE,CAAC,CACPC,OAAO,CAAEJ,KAAK,CAACK,OAAO,CAAC,CAAC,CAAC,CACzBC,SAAS,CAAE,QAAQ,EAChBN,KAAK,CAACO,eAAe,CAE5B,CAAC,CAAC,CAAC,CAEH,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,OAAO,CAAGV,SAAS,CAAC,CAAC,CAC3B,KAAM,CAAEW,IAAK,CAAC,CAAGnD,UAAU,CAACgB,WAAW,CAAC,CAExC,KAAM,CAACoC,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyD,UAAU,CAAEC,aAAa,CAAC,CAAG1D,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAC2D,OAAO,CAAEC,UAAU,CAAC,CAAG5D,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC6D,WAAW,CAAG,CAAG7D,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAC+B,QAAQ,CAAE+B,QAAQ,CAAC,CAAG5D,UAAU,CAACyB,OAAO,CAAE,EAAE,CAAC,CACpD,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGjE,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACiE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlE,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAACmE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpE,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACqE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtE,QAAQ,CAAC,KAAK,CAAC,CAE/D;AACAC,SAAS,CAAC,IAAM,CACd,GAAIqD,IAAI,EAAIA,IAAI,CAACiB,OAAO,CAAE,CACxB,KAAM,CAAAC,IAAI,CAAGpD,MAAM,CAAC,CAAC,CACrB,KAAM,CAAAqD,UAAU,CAAGrD,MAAM,CAACkC,IAAI,CAACiB,OAAO,CAACG,OAAO,CAAC,CAC/C,KAAM,CAAAC,SAAS,CAAGH,IAAI,CAACI,OAAO,CAACH,UAAU,CAAC,CAC1CH,mBAAmB,CAACK,SAAS,CAAC,CAChC,CACF,CAAC,CAAE,CAACrB,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAuB,sBAAsB,CAAI9C,QAAQ,EAAK,CAC3CiC,eAAe,CAACjC,QAAQ,CAAC,CACzBmC,oBAAoB,CAAC,IAAI,CAAC,CAC1BE,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAU,uBAAuB,CAAGA,CAAA,GAAM,CACpCZ,oBAAoB,CAAC,IAAI,CAAC,CAC1BE,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAC,CACDnE,SAAS,CAAC,IAAM,CACd6D,QAAQ,CAAC,CAAEhC,IAAI,CAAE,OAAQ,CAAC,CAAC,CAC3B4B,aAAa,CAAC,CAAC,CAAC,CAClB,CAAC,CAAE,CAACG,WAAW,CAAC,CAAC,CAEjB5D,SAAS,CAAC,IAAM,CACduD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAuB,eAAe,CAAGC,UAAU,CAAC,IAAM,CACvC,KAAM,CAAAC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAE,CAAEtB,WAAW,CAAEJ,UAAW,CAAC,CAAC,CAC/D,KAAM,CAAE2B,IAAK,CAAC,CAAG,KAAM,CAAApE,GAAG,CAACqE,GAAG,CAAC,eAAe,CAAE,CAC9CC,MAAM,CAAE,CAAEzB,WAAW,CAAEJ,UAAW,CACpC,CAAC,CAAC,CAEFyB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEC,IAAI,CAAC,CACrCtB,QAAQ,CAAC,CAAEhC,IAAI,CAAE,eAAe,CAAEE,OAAO,CAAEoD,IAAK,CAAC,CAAC,CAClDF,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEC,IAAI,CAAC,CACpDxB,UAAU,CAACwB,IAAI,CAACzB,OAAO,CAAC,CACxBH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAO+B,GAAG,CAAE,CACZL,OAAO,CAACM,KAAK,CAAC,yBAAyB,CAAED,GAAG,CAAC,CAC7CrE,UAAU,CAACqE,GAAG,CAAC,CACf/B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDyB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,IAAMQ,YAAY,CAACV,eAAe,CAAC,CAC5C,CAAC,CAAE,CAAClB,WAAW,CAAEJ,UAAU,CAAC,CAAC,CAE7B,KAAM,CAAAiC,QAAQ,CAAGA,CAAA,GAAM,CACrBhC,aAAa,CAAEiC,SAAS,EAAKA,SAAS,CAAG,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1B,GAAI,CAAClC,OAAO,EAAIJ,OAAO,CAAE,OACzB,KAAM,CAAEuC,SAAS,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAGH,CAAC,CAACI,aAAa,CACjE,GAAIF,YAAY,EAAID,SAAS,CAAG,GAAG,CAAC,CAAGE,YAAY,CAAE,CACnDN,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAED,KAAM,CAAAQ,QAAQ,CAAIC,MAAM,EAAK,CAC3B,KAAM,CAAA3B,IAAI,CAAGpD,MAAM,CAACA,MAAM,CAAC,CAAC,CAAC,CAACgF,MAAM,CAAC,YAAY,CAAC,CAClD,KAAM,CAAA3B,UAAU,CAAGrD,MAAM,CAAC+E,MAAM,CAACzB,OAAO,CAAC,CAAC0B,MAAM,CAAC,YAAY,CAAC,CAC9D,GAAI,CAAAC,IAAI,CAAGjF,MAAM,CAACqD,UAAU,CAAE,YAAY,CAAC,CAAC4B,IAAI,CAACjF,MAAM,CAACoD,IAAI,CAAE,YAAY,CAAC,CAAC,CAC5E,GAAI,CAAA8B,IAAI,CAAGlF,MAAM,CAACmF,QAAQ,CAACF,IAAI,CAAC,CAACG,MAAM,CAAC,CAAC,CACzC,GAAIF,IAAI,CAAG,CAAC,EAAIH,MAAM,CAACM,MAAM,GAAK,MAAM,CAAE,CACxC,MAAO,CAAEC,eAAe,CAAE,WAAY,CAAC,CACzC,CACF,CAAC,CAED,KAAM,CAAAC,SAAS,CAAIR,MAAM,EAAK,CAC5B,KAAM,CAAA3B,IAAI,CAAGpD,MAAM,CAACA,MAAM,CAAC,CAAC,CAAC,CAACgF,MAAM,CAAC,YAAY,CAAC,CAClD,KAAM,CAAA3B,UAAU,CAAGrD,MAAM,CAAC+E,MAAM,CAACzB,OAAO,CAAC,CAAC0B,MAAM,CAAC,YAAY,CAAC,CAC9D,GAAI,CAAAC,IAAI,CAAGjF,MAAM,CAACqD,UAAU,CAAE,YAAY,CAAC,CAAC4B,IAAI,CAACjF,MAAM,CAACoD,IAAI,CAAE,YAAY,CAAC,CAAC,CAC5E,GAAI,CAAA8B,IAAI,CAAGlF,MAAM,CAACmF,QAAQ,CAACF,IAAI,CAAC,CAACG,MAAM,CAAC,CAAC,CACzC,KAAM,CAAAC,MAAM,CAAGN,MAAM,CAACM,MAAM,CAC5B,GAAIA,MAAM,GAAK,MAAM,CAAE,CACrB,MAAO,MAAM,CACf,CACA,GAAIH,IAAI,CAAG,CAAC,CAAE,CACZ,MAAO,SAAS,CAClB,CAAC,IAAM,CACL,MAAO,WAAW,CACpB,CACF,CAAC,CAED,KAAM,CAAAM,iBAAiB,CAAIC,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CAClF,KAAM,CAAAK,iBAAiB,CAAID,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CAClF,KAAM,CAAAM,kBAAkB,CAAIF,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CACnF,KAAM,CAAAO,kBAAkB,CAAIH,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CACnF,KAAM,CAAAQ,kBAAkB,CAAIJ,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CACnF,KAAM,CAAAS,qBAAqB,CAAIL,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CACtF,KAAM,CAAAU,oBAAoB,CAAIN,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,CAACJ,MAAM,GAAK,KAAK,CAAG,KAAK,CAAG,KAAK,CAAC,CAAC,CAErF,mBACEjF,KAAA,CAACZ,aAAa,EAAAwG,QAAA,eACZ9F,IAAA,CAACP,iBAAiB,EAChBsG,IAAI,CAAElD,gBAAiB,CACvBmD,OAAO,CAAExC,uBAAwB,CACjC,kBAAgB,mBAAmB,CACnCyC,OAAO,CAAExD,YAAa,CACtByD,SAAS,CAAEvD,iBAAkB,CAEX,CAAC,cACrBzC,KAAA,CAACX,UAAU,EAAAuG,QAAA,eACT5F,KAAA,CAACV,KAAK,EAAAsG,QAAA,EAAC,WAAS,CAACrF,QAAQ,CAAC0F,MAAM,CAAC,GAAC,EAAO,CAAC,CACzCpD,gBAAgB,eACf7C,KAAA,QAAKkG,KAAK,CAAE,CACVhB,eAAe,CAAE,SAAS,CAC1BiB,KAAK,CAAE,SAAS,CAChB3E,OAAO,CAAE,MAAM,CACf4E,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,MAAM,CACjBC,MAAM,CAAE,mBACV,CAAE,CAAAV,QAAA,eACA9F,IAAA,WAAA8F,QAAA,CAAQ,gBAAQ,CAAQ,CAAC,uGAC3B,EAAK,CACN,EACS,CAAC,cACb9F,IAAA,CAACjB,KAAK,EACJ0H,SAAS,CAAE1E,OAAO,CAACR,SAAU,CAC7BmF,OAAO,CAAC,UAAU,CAClBC,QAAQ,CAAErC,YAAa,CAAAwB,QAAA,cAEvB5F,KAAA,CAACjB,KAAK,EAAC2H,IAAI,CAAC,OAAO,CAAAd,QAAA,eACjB9F,IAAA,CAACZ,SAAS,EAAA0G,QAAA,cACR5F,KAAA,CAACb,QAAQ,EAAAyG,QAAA,eAEP9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,UAAQ,CAAW,CAAC,cAE9C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,aAAQ,CAAW,CAAC,cAC9C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,aAAQ,CAAW,CAAC,cAC9C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,OAAK,CAAW,CAAC,cAS3C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,OAAK,CAAW,CAAC,cAC3C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,YAAU,CAAW,CAAC,cAChD9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,QAAM,CAAW,CAAC,cAC5C9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAC,YAAI,CAAW,CAAC,EAClC,CAAC,CACF,CAAC,cACZ9F,IAAA,CAACd,SAAS,EAAA4G,QAAA,cACR5F,KAAA,CAAAE,SAAA,EAAA0F,QAAA,EACGrF,QAAQ,CAACqG,GAAG,CAAErG,QAAQ,eACrBP,KAAA,CAACb,QAAQ,EAAC+G,KAAK,CAAExB,QAAQ,CAACnE,QAAQ,CAAE,CAAAqF,QAAA,eAElC9F,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAErF,QAAQ,CAACsG,MAAM,CAAY,CAAC,cAEvD/G,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAErF,QAAQ,CAACuG,KAAK,CAAY,CAAC,cACtDhH,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAErF,QAAQ,CAACwG,WAAW,CAAY,CAAC,cAC5DjH,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAErF,QAAQ,CAACyG,MAAM,CAAY,CAAC,cASvDlH,IAAA,CAACb,SAAS,EAACiH,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAO,CAAE,CAACN,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAErF,QAAQ,CAAC2G,KAAK,CAACC,cAAc,CAAC,OAAO,CAAE,CAAEjB,KAAK,CAAE,UAAU,CAAEkB,QAAQ,CAAE,KAAM,CAAC,CAAC,CAAY,CAAC,cACrJtH,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAEhG,MAAM,CAACW,QAAQ,CAAC2C,OAAO,CAAC,CAAC0B,MAAM,CAAC,YAAY,CAAC,CAAY,CAAC,cACrF9E,IAAA,CAACb,SAAS,EAACiH,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAO,CAAE,CAACN,KAAK,CAAC,QAAQ,CAAAf,QAAA,CAAET,SAAS,CAAC5E,QAAQ,CAAC,CAAY,CAAC,cAC1FT,IAAA,CAACb,SAAS,EAAC0H,KAAK,CAAC,QAAQ,CAAAf,QAAA,CACtBT,SAAS,CAAC5E,QAAQ,CAAC,GAAK,MAAM,cAC7BT,IAAA,CAAChB,MAAM,EACL4H,IAAI,CAAC,OAAO,CACZF,OAAO,CAAC,UAAU,CAClBL,KAAK,CAAC,WAAW,CACjBkB,OAAO,CAAEA,CAAA,GAAMhE,sBAAsB,CAAC9C,QAAQ,CAAE,CAAAqF,QAAA,CACjD,OAED,CAAQ,CAAC,cACT9F,IAAA,CAAChB,MAAM,EACL4H,IAAI,CAAC,OAAO,CACZF,OAAO,CAAC,UACV;AAAA,CAAAZ,QAAA,CACC,MAED,CAAQ,CAAC,CAEF,CAAC,GApC4BrF,QAAQ,CAACQ,EAqCzC,CACX,CAAC,CACDgB,OAAO,eAAIjC,IAAA,CAACL,gBAAgB,EAAC6H,OAAO,CAAE,CAAE,CAAE,CAAC,EAC5C,CAAC,CACM,CAAC,EACP,CAAC,CACH,CAAC,EACK,CAAC,CAEpB,CAAC,CAED,cAAe,CAAA1F,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}