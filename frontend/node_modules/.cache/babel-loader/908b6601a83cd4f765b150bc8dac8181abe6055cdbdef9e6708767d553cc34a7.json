{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{i18n}from\"../../translate/i18n\";import{Avatar,CardHeader,Grid,Dialog,DialogContent}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({// Estilos para o modal da imagem\nimageModal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},imageModalContent:{outline:\"none\",maxWidth:\"90vw\",maxHeight:\"90vh\"},expandedImage:{width:\"100%\",height:\"auto\",maxWidth:\"500px\",borderRadius:theme.spacing(1)},clickableAvatar:{cursor:\"pointer\",\"&:hover\":{opacity:0.8}}}));const TicketInfo=_ref=>{let{contact,ticket,onClick}=_ref;const classes=useStyles();const[amount,setAmount]=useState(\"\");const{user}=useContext(AuthContext);const[imageModalOpen,setImageModalOpen]=useState(false);// Estado para o modal da imagem\n// Função para abrir modal da imagem\nconst handleImageClick=e=>{e.stopPropagation();// Prevenir que o clique no avatar execute outros handlers\nif(contact!==null&&contact!==void 0&&contact.urlPicture){setImageModalOpen(true);}};// Função para fechar modal da imagem\nconst handleImageModalClose=()=>{setImageModalOpen(false);};const renderCardReader=()=>{var _ticket$user,_contact$contactWalle;return/*#__PURE__*/_jsx(CardHeader,{onClick:onClick,style:{cursor:\"pointer\"},titleTypographyProps:{noWrap:true},subheaderTypographyProps:{noWrap:true},avatar:/*#__PURE__*/_jsx(Avatar,{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:\"contact_image\",className:classes.clickableAvatar,onClick:handleImageClick}),title:\"\".concat(contact!==null&&contact!==void 0&&contact.name&&contact.name.length>12?\"\".concat(contact.name.substring(0,12),\"...\"):(contact===null||contact===void 0?void 0:contact.name)||'(sem contato)',\" #\").concat(ticket===null||ticket===void 0?void 0:ticket.id),subheader:[(ticket===null||ticket===void 0?void 0:ticket.user)&&\"\".concat(i18n.t(\"messagesList.header.assignedTo\"),\" \").concat(ticket===null||ticket===void 0?void 0:(_ticket$user=ticket.user)===null||_ticket$user===void 0?void 0:_ticket$user.name),contact!==null&&contact!==void 0&&contact.contactWallets&&contact.contactWallets.length>0?\"\\u2022 \".concat(i18n.t(\"wallets.wallet\"),\": \").concat(((_contact$contactWalle=contact.contactWallets[0].wallet)===null||_contact$contactWalle===void 0?void 0:_contact$contactWalle.name)||'N/A'):null].filter(Boolean).join(' ')});};const handleChange=event=>{const value=event.target.value;setAmount(value);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",spacing:10,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:renderCardReader()})}),/*#__PURE__*/_jsx(Dialog,{open:imageModalOpen,onClose:handleImageModalClose,className:classes.imageModal,maxWidth:\"md\",fullWidth:true,children:/*#__PURE__*/_jsx(DialogContent,{className:classes.imageModalContent,children:/*#__PURE__*/_jsx(\"img\",{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:(contact===null||contact===void 0?void 0:contact.name)||\"Foto do contato\",className:classes.expandedImage})})})]});};export default TicketInfo;","map":{"version":3,"names":["React","useState","useContext","i18n","Avatar","CardHeader","Grid","Dialog","DialogContent","makeStyles","AuthContext","jsx","_jsx","jsxs","_jsxs","useStyles","theme","imageModal","display","alignItems","justifyContent","imageModalContent","outline","maxWidth","maxHeight","expandedImage","width","height","borderRadius","spacing","clickableAvatar","cursor","opacity","TicketInfo","_ref","contact","ticket","onClick","classes","amount","setAmount","user","imageModalOpen","setImageModalOpen","handleImageClick","e","stopPropagation","urlPicture","handleImageModalClose","renderCardReader","_ticket$user","_contact$contactWalle","style","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","src","alt","className","title","concat","name","length","substring","id","subheader","t","contactWallets","wallet","filter","Boolean","join","handleChange","event","value","target","Fragment","children","container","item","xs","open","onClose","fullWidth"],"sources":["/home/deploy/atendechatop/frontend/src/components/TicketInfo/index.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { i18n } from \"../../translate/i18n\";\nimport { \n    Avatar, \n    CardHeader, \n    Grid,\n    Dialog,\n    DialogContent,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    // Estilos para o modal da imagem\n    imageModal: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    imageModalContent: {\n        outline: \"none\",\n        maxWidth: \"90vw\",\n        maxHeight: \"90vh\",\n    },\n    expandedImage: {\n        width: \"100%\",\n        height: \"auto\",\n        maxWidth: \"500px\",\n        borderRadius: theme.spacing(1),\n    },\n    clickableAvatar: {\n        cursor: \"pointer\",\n        \"&:hover\": {\n            opacity: 0.8,\n        },\n    }\n}));\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n    const classes = useStyles();\n    const [amount, setAmount] = useState(\"\");\n    const { user } = useContext(AuthContext);\n    const [imageModalOpen, setImageModalOpen] = useState(false); // Estado para o modal da imagem\n\n    // Função para abrir modal da imagem\n    const handleImageClick = (e) => {\n        e.stopPropagation(); // Prevenir que o clique no avatar execute outros handlers\n        if (contact?.urlPicture) {\n            setImageModalOpen(true);\n        }\n    };\n\n    // Função para fechar modal da imagem\n    const handleImageModalClose = () => {\n        setImageModalOpen(false);\n    };\n\n    const renderCardReader = () => {\n        return (\n            <CardHeader\n                onClick={onClick}\n                style={{ cursor: \"pointer\" }}\n                titleTypographyProps={{ noWrap: true }}\n                subheaderTypographyProps={{ noWrap: true }}\n                avatar={\n                    <Avatar \n                        src={contact?.urlPicture} \n                        alt=\"contact_image\" \n                        className={classes.clickableAvatar}\n                        onClick={handleImageClick}\n                    />\n                }\n                title={`${(contact?.name && contact.name.length > 12) ? \n                    `${contact.name.substring(0, 12)}...` : \n                    contact?.name || '(sem contato)'} #${ticket?.id}`}\n                subheader={[\n                    ticket?.user && `${i18n.t(\"messagesList.header.assignedTo\")} ${ticket?.user?.name}`,\n                    contact?.contactWallets && contact.contactWallets.length > 0\n                        ? `• ${i18n.t(\"wallets.wallet\")}: ${contact.contactWallets[0].wallet?.name || 'N/A'}`\n                        : null\n                ].filter(Boolean).join(' ')}\n            />\n        );\n    }\n\n    const handleChange = (event) => {\n        const value = event.target.value;\n        setAmount(value);\n    }\n\n    return (\n        <React.Fragment>\n            <Grid container alignItems=\"center\" spacing={10}>\n                {/* Conteúdo do contato à esquerda */}\n                <Grid item xs={6}>\n                    {renderCardReader()}\n                </Grid>\n            </Grid>\n\n            {/* Modal da Imagem */}\n            <Dialog\n                open={imageModalOpen}\n                onClose={handleImageModalClose}\n                className={classes.imageModal}\n                maxWidth=\"md\"\n                fullWidth\n            >\n                <DialogContent className={classes.imageModalContent}>\n                    <img \n                        src={contact?.urlPicture} \n                        alt={contact?.name || \"Foto do contato\"}\n                        className={classes.expandedImage}\n                    />\n                </DialogContent>\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default TicketInfo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}