{"ast":null,"code":"import{useEffect}from'react';const useSocketListener=function(socket,user,eventName,callback){let dependencies=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];useEffect(()=>{if(user!==null&&user!==void 0&&user.companyId&&socket&&typeof socket.on==='function'){const fullEventName=\"company-\".concat(user.companyId,\"-\").concat(eventName);console.log(\"Registrando listener: \".concat(fullEventName));socket.on(fullEventName,callback);return()=>{if(socket&&typeof socket.off==='function'){console.log(\"Removendo listener: \".concat(fullEventName));socket.off(fullEventName,callback);}};}},[socket,user===null||user===void 0?void 0:user.companyId,...dependencies]);};export default useSocketListener;","map":{"version":3,"names":["useEffect","useSocketListener","socket","user","eventName","callback","dependencies","arguments","length","undefined","companyId","on","fullEventName","concat","console","log","off"],"sources":["/home/deploy/atendechatop/frontend/src/hooks/useSocketListener.js"],"sourcesContent":["import { useEffect } from 'react';\n\nconst useSocketListener = (socket, user, eventName, callback, dependencies = []) => {\n  useEffect(() => {\n    if (user?.companyId && socket && typeof socket.on === 'function') {\n      const fullEventName = `company-${user.companyId}-${eventName}`;\n      \n      console.log(`Registrando listener: ${fullEventName}`);\n      socket.on(fullEventName, callback);\n\n      return () => {\n        if (socket && typeof socket.off === 'function') {\n          console.log(`Removendo listener: ${fullEventName}`);\n          socket.off(fullEventName, callback);\n        }\n      };\n    }\n  }, [socket, user?.companyId, ...dependencies]);\n};\n\nexport default useSocketListener;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC,KAAM,CAAAC,iBAAiB,CAAG,QAAAA,CAACC,MAAM,CAAEC,IAAI,CAAEC,SAAS,CAAEC,QAAQ,CAAwB,IAAtB,CAAAC,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC7EP,SAAS,CAAC,IAAM,CACd,GAAIG,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEO,SAAS,EAAIR,MAAM,EAAI,MAAO,CAAAA,MAAM,CAACS,EAAE,GAAK,UAAU,CAAE,CAChE,KAAM,CAAAC,aAAa,YAAAC,MAAA,CAAcV,IAAI,CAACO,SAAS,MAAAG,MAAA,CAAIT,SAAS,CAAE,CAE9DU,OAAO,CAACC,GAAG,0BAAAF,MAAA,CAA0BD,aAAa,CAAE,CAAC,CACrDV,MAAM,CAACS,EAAE,CAACC,aAAa,CAAEP,QAAQ,CAAC,CAElC,MAAO,IAAM,CACX,GAAIH,MAAM,EAAI,MAAO,CAAAA,MAAM,CAACc,GAAG,GAAK,UAAU,CAAE,CAC9CF,OAAO,CAACC,GAAG,wBAAAF,MAAA,CAAwBD,aAAa,CAAE,CAAC,CACnDV,MAAM,CAACc,GAAG,CAACJ,aAAa,CAAEP,QAAQ,CAAC,CACrC,CACF,CAAC,CACH,CACF,CAAC,CAAE,CAACH,MAAM,CAAEC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,SAAS,CAAE,GAAGJ,YAAY,CAAC,CAAC,CAChD,CAAC,CAED,cAAe,CAAAL,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}