{"ast":null,"code":"import React,{useState,useContext,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import{toast}from\"react-toastify\";import{Dialog,DialogTitle,DialogContent,DialogActions,Button,TextField,FormControl,InputLabel,Select,MenuItem,Grid,Typography,Radio,RadioGroup,FormControlLabel,FormLabel}from\"@material-ui/core\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FinalizacaoVendaModal=_ref=>{let{open,onClose,ticket,onFinalizar}=_ref;const history=useHistory();const{user}=useContext(AuthContext);const[loading,setLoading]=useState(false);const[vendaConcluida,setVendaConcluida]=useState(true);const[valorVenda,setValorVenda]=useState(\"\");const[motivoNaoVenda,setMotivoNaoVenda]=useState(\"\");const[motivoFinalizacao,setMotivoFinalizacao]=useState(\"\");const[motivosFinalizacao,setMotivosFinalizacao]=useState([]);const[informarValorVenda,setInformarValorVenda]=useState(false);const[loadingConfig,setLoadingConfig]=useState(true);const[showOptionsModal,setShowOptionsModal]=useState(false);const[ticketDataToFinalize,setTicketDataToFinalize]=useState(null);const handleClose=()=>{onClose();setVendaConcluida(true);setValorVenda(\"\");setMotivoNaoVenda(\"\");setMotivoFinalizacao(\"\");};useEffect(()=>{if(open){setLoadingConfig(true);Promise.all([fetchMotivosFinalizacao(),fetchCompanySettings()]).then(()=>setLoadingConfig(false));}},[open]);const fetchMotivosFinalizacao=async()=>{try{const{data}=await api.get(\"/ticketFinalizationReasons\");setMotivosFinalizacao(data);}catch(err){console.error(\"Erro ao buscar motivos de finalização:\",err);}};const fetchCompanySettings=async()=>{try{const{data}=await api.get(\"/companySettings\");setInformarValorVenda(data.informarValorVenda||false);}catch(err){console.error(\"Erro ao buscar configurações da empresa:\",err);}};const handleSubmit=async()=>{if(informarValorVenda){// Check ativado: lógica antiga\nif(vendaConcluida){if(!valorVenda){toast.error(\"Por favor, informe o valor da venda.\");return;}}else{if(!motivoNaoVenda){toast.error(\"Por favor, selecione o motivo da não venda.\");return;}}}else{// Check desativado: só motivo de finalização\nif(!motivoFinalizacao){toast.error(\"Por favor, selecione o motivo da finalização.\");return;}}// Em vez de finalizar aqui, apenas passa os dados para o pai\nconst ticketData={status:\"closed\",userId:(user===null||user===void 0?void 0:user.id)||null// sendFarewellMessage e finalizacaoMessage serão definidos no modal seguinte\n};if(informarValorVenda){ticketData.finalizadoComVenda=vendaConcluida;if(vendaConcluida){ticketData.valorVenda=parseFloat(valorVenda);ticketData.motivoNaoVenda=null;ticketData.motivoFinalizacao=null;}else{ticketData.valorVenda=null;ticketData.motivoNaoVenda=motivoNaoVenda;ticketData.motivoFinalizacao=null;}}else{ticketData.finalizadoComVenda=null;ticketData.valorVenda=null;ticketData.motivoNaoVenda=null;ticketData.motivoFinalizacao=motivoFinalizacao;}// Chama o callback passando os dados\nif(onFinalizar)onFinalizar(ticketData);handleClose();};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Finaliza\\xE7\\xE3o de Atendimento - Valor de Venda\"}),loadingConfig?/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Typography,{children:\"Carregando configura\\xE7\\xF5es...\"})}):/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:informarValorVenda?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",children:\"A venda foi conclu\\xEDda?\"}),/*#__PURE__*/_jsxs(RadioGroup,{value:vendaConcluida,onChange:e=>setVendaConcluida(e.target.value===\"true\"),children:[/*#__PURE__*/_jsx(FormControlLabel,{value:true,control:/*#__PURE__*/_jsx(Radio,{}),label:\"Sim, venda conclu\\xEDda\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:false,control:/*#__PURE__*/_jsx(Radio,{}),label:\"N\\xE3o, venda n\\xE3o conclu\\xEDda\"})]})]})}),vendaConcluida?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"Valor da Venda (R$)\",type:\"number\",value:valorVenda,onChange:e=>setValorVenda(e.target.value),fullWidth:true,variant:\"outlined\",margin:\"dense\",inputProps:{step:\"0.01\",min:\"0\"},placeholder:\"0,00\"})}):/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,variant:\"outlined\",margin:\"dense\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Motivo da N\\xE3o Venda *\"}),/*#__PURE__*/_jsxs(Select,{value:motivoNaoVenda,onChange:e=>setMotivoNaoVenda(e.target.value),label:\"Motivo da N\\xE3o Venda *\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Selecione um motivo\"})}),motivosFinalizacao.map(motivo=>/*#__PURE__*/_jsx(MenuItem,{value:motivo.name,children:motivo.name},motivo.id))]})]})})]}):/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,variant:\"outlined\",margin:\"dense\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Motivo da Finaliza\\xE7\\xE3o *\"}),/*#__PURE__*/_jsxs(Select,{value:motivoFinalizacao,onChange:e=>setMotivoFinalizacao(e.target.value),label:\"Motivo da Finaliza\\xE7\\xE3o *\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Selecione um motivo\"})}),motivosFinalizacao.map(motivo=>/*#__PURE__*/_jsx(MenuItem,{value:motivo.name,children:motivo.name},motivo.id))]})]})})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",disabled:loading,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,color:\"primary\",variant:\"contained\",disabled:loading||loadingConfig,children:loading?\"Finalizando...\":\"Finalizar Atendimento\"})]})]});};export default FinalizacaoVendaModal;","map":{"version":3,"names":["React","useState","useContext","useEffect","useHistory","toast","Dialog","DialogTitle","DialogContent","DialogActions","Button","TextField","FormControl","InputLabel","Select","MenuItem","Grid","Typography","Radio","RadioGroup","FormControlLabel","FormLabel","i18n","api","toastError","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FinalizacaoVendaModal","_ref","open","onClose","ticket","onFinalizar","history","user","loading","setLoading","vendaConcluida","setVendaConcluida","valorVenda","setValorVenda","motivoNaoVenda","setMotivoNaoVenda","motivoFinalizacao","setMotivoFinalizacao","motivosFinalizacao","setMotivosFinalizacao","informarValorVenda","setInformarValorVenda","loadingConfig","setLoadingConfig","showOptionsModal","setShowOptionsModal","ticketDataToFinalize","setTicketDataToFinalize","handleClose","Promise","all","fetchMotivosFinalizacao","fetchCompanySettings","then","data","get","err","console","error","handleSubmit","ticketData","status","userId","id","finalizadoComVenda","parseFloat","maxWidth","fullWidth","children","container","spacing","item","xs","component","value","onChange","e","target","control","label","type","variant","margin","inputProps","step","min","placeholder","required","map","motivo","name","onClick","color","disabled"],"sources":["/home/deploy/codigologlow/frontend/src/components/FinalizacaoVendaModal/index.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Grid,\n  Typography,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  FormLabel,\n} from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst FinalizacaoVendaModal = ({ open, onClose, ticket, onFinalizar }) => {\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [vendaConcluida, setVendaConcluida] = useState(true);\n  const [valorVenda, setValorVenda] = useState(\"\");\n  const [motivoNaoVenda, setMotivoNaoVenda] = useState(\"\");\n  const [motivoFinalizacao, setMotivoFinalizacao] = useState(\"\");\n  const [motivosFinalizacao, setMotivosFinalizacao] = useState([]);\n  const [informarValorVenda, setInformarValorVenda] = useState(false);\n  const [loadingConfig, setLoadingConfig] = useState(true);\n  const [showOptionsModal, setShowOptionsModal] = useState(false);\n  const [ticketDataToFinalize, setTicketDataToFinalize] = useState(null);\n\n  const handleClose = () => {\n    onClose();\n    setVendaConcluida(true);\n    setValorVenda(\"\");\n    setMotivoNaoVenda(\"\");\n    setMotivoFinalizacao(\"\");\n  };\n\n  useEffect(() => {\n    if (open) {\n      setLoadingConfig(true);\n      Promise.all([fetchMotivosFinalizacao(), fetchCompanySettings()]).then(\n        () => setLoadingConfig(false)\n      );\n    }\n  }, [open]);\n\n  const fetchMotivosFinalizacao = async () => {\n    try {\n      const { data } = await api.get(\"/ticketFinalizationReasons\");\n      setMotivosFinalizacao(data);\n    } catch (err) {\n      console.error(\"Erro ao buscar motivos de finalização:\", err);\n    }\n  };\n\n  const fetchCompanySettings = async () => {\n    try {\n      const { data } = await api.get(\"/companySettings\");\n      setInformarValorVenda(data.informarValorVenda || false);\n    } catch (err) {\n      console.error(\"Erro ao buscar configurações da empresa:\", err);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (informarValorVenda) {\n      // Check ativado: lógica antiga\n      if (vendaConcluida) {\n        if (!valorVenda) {\n          toast.error(\"Por favor, informe o valor da venda.\");\n          return;\n        }\n      } else {\n        if (!motivoNaoVenda) {\n          toast.error(\"Por favor, selecione o motivo da não venda.\");\n          return;\n        }\n      }\n    } else {\n      // Check desativado: só motivo de finalização\n      if (!motivoFinalizacao) {\n        toast.error(\"Por favor, selecione o motivo da finalização.\");\n        return;\n      }\n    }\n\n    // Em vez de finalizar aqui, apenas passa os dados para o pai\n    const ticketData = {\n      status: \"closed\",\n      userId: user?.id || null,\n      // sendFarewellMessage e finalizacaoMessage serão definidos no modal seguinte\n    };\n\n    if (informarValorVenda) {\n      ticketData.finalizadoComVenda = vendaConcluida;\n      if (vendaConcluida) {\n        ticketData.valorVenda = parseFloat(valorVenda);\n        ticketData.motivoNaoVenda = null;\n        ticketData.motivoFinalizacao = null;\n      } else {\n        ticketData.valorVenda = null;\n        ticketData.motivoNaoVenda = motivoNaoVenda;\n        ticketData.motivoFinalizacao = null;\n      }\n    } else {\n      ticketData.finalizadoComVenda = null;\n      ticketData.valorVenda = null;\n      ticketData.motivoNaoVenda = null;\n      ticketData.motivoFinalizacao = motivoFinalizacao;\n    }\n\n    // Chama o callback passando os dados\n    if (onFinalizar) onFinalizar(ticketData);\n    handleClose();\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>Finalização de Atendimento - Valor de Venda</DialogTitle>\n      {loadingConfig ? (\n        <DialogContent>\n          <Typography>Carregando configurações...</Typography>\n        </DialogContent>\n      ) : (\n        <DialogContent>\n          <Grid container spacing={2}>\n            {informarValorVenda ? (\n              <>\n                <Grid item xs={12}>\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">\n                      A venda foi concluída?\n                    </FormLabel>\n                    <RadioGroup\n                      value={vendaConcluida}\n                      onChange={(e) =>\n                        setVendaConcluida(e.target.value === \"true\")\n                      }\n                    >\n                      <FormControlLabel\n                        value={true}\n                        control={<Radio />}\n                        label=\"Sim, venda concluída\"\n                      />\n                      <FormControlLabel\n                        value={false}\n                        control={<Radio />}\n                        label=\"Não, venda não concluída\"\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                </Grid>\n                {vendaConcluida ? (\n                  <Grid item xs={12}>\n                    <TextField\n                      label=\"Valor da Venda (R$)\"\n                      type=\"number\"\n                      value={valorVenda}\n                      onChange={(e) => setValorVenda(e.target.value)}\n                      fullWidth\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      inputProps={{\n                        step: \"0.01\",\n                        min: \"0\",\n                      }}\n                      placeholder=\"0,00\"\n                    />\n                  </Grid>\n                ) : (\n                  <Grid item xs={12}>\n                    <FormControl\n                      fullWidth\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      required\n                    >\n                      <InputLabel>Motivo da Não Venda *</InputLabel>\n                      <Select\n                        value={motivoNaoVenda}\n                        onChange={(e) => setMotivoNaoVenda(e.target.value)}\n                        label=\"Motivo da Não Venda *\"\n                      >\n                        <MenuItem value=\"\">\n                          <em>Selecione um motivo</em>\n                        </MenuItem>\n                        {motivosFinalizacao.map((motivo) => (\n                          <MenuItem key={motivo.id} value={motivo.name}>\n                            {motivo.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                )}\n              </>\n            ) : (\n              <Grid item xs={12}>\n                <FormControl\n                  fullWidth\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  required\n                >\n                  <InputLabel>Motivo da Finalização *</InputLabel>\n                  <Select\n                    value={motivoFinalizacao}\n                    onChange={(e) => setMotivoFinalizacao(e.target.value)}\n                    label=\"Motivo da Finalização *\"\n                  >\n                    <MenuItem value=\"\">\n                      <em>Selecione um motivo</em>\n                    </MenuItem>\n                    {motivosFinalizacao.map((motivo) => (\n                      <MenuItem key={motivo.id} value={motivo.name}>\n                        {motivo.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n            )}\n          </Grid>\n        </DialogContent>\n      )}\n      <DialogActions>\n        <Button onClick={handleClose} color=\"secondary\" disabled={loading}>\n          Cancelar\n        </Button>\n        <Button\n          onClick={handleSubmit}\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={loading || loadingConfig}\n        >\n          {loading ? \"Finalizando...\" : \"Finalizar Atendimento\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default FinalizacaoVendaModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}