{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useReducer,useContext}from\"react\";import{toast}from\"react-toastify\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport n8n from\"../../assets/n8n.png\";import dialogflow from\"../../assets/dialogflow.png\";import webhooks from\"../../assets/webhook.png\";import typebot from\"../../assets/typebot.jpg\";import flowbuilder from\"../../assets/flowbuilders.png\";import{makeStyles}from\"@material-ui/core/styles\";import{Avatar,Button,IconButton,InputAdornment,Paper,Table,TableBody,TableCell,TableHead,TableRow,TextField,Tooltip}from\"@material-ui/core\";import{DeleteOutline,Edit}from\"@material-ui/icons\";import SearchIcon from\"@material-ui/icons/Search\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import IntegrationModal from\"../../components/QueueIntegrationModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import api from\"../../services/api\";import{i18n}from\"../../translate/i18n\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import usePlans from\"../../hooks/usePlans\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import ForbiddenPage from\"../../components/ForbiddenPage\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const reducer=(state,action)=>{if(action.type===\"LOAD_INTEGRATIONS\"){const queueIntegration=action.payload;const newIntegrations=[];queueIntegration.forEach(integration=>{const integrationIndex=state.findIndex(u=>u.id===integration.id);if(integrationIndex!==-1){state[integrationIndex]=integration;}else{newIntegrations.push(integration);}});return[...state,...newIntegrations];}if(action.type===\"UPDATE_INTEGRATIONS\"){const queueIntegration=action.payload;const integrationIndex=state.findIndex(u=>u.id===queueIntegration.id);if(integrationIndex!==-1){state[integrationIndex]=queueIntegration;return[...state];}else{return[queueIntegration,...state];}}if(action.type===\"DELETE_INTEGRATION\"){const integrationId=action.payload;const integrationIndex=state.findIndex(u=>u.id===integrationId);if(integrationIndex!==-1){state.splice(integrationIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({mainPaper:_objectSpread({flex:1,padding:theme.spacing(2),margin:theme.spacing(1),overflowY:\"scroll\"},theme.scrollbarStyles),avatar:{width:\"140px\",height:\"40px\",borderRadius:4}}));const QueueIntegration=()=>{const classes=useStyles();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[hasMore,setHasMore]=useState(false);const[selectedIntegration,setSelectedIntegration]=useState(null);const[deletingUser,setDeletingUser]=useState(null);const[userModalOpen,setUserModalOpen]=useState(false);const[confirmModalOpen,setConfirmModalOpen]=useState(false);const[searchParam,setSearchParam]=useState(\"\");const[queueIntegration,dispatch]=useReducer(reducer,[]);//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const{getPlanCompany}=usePlans();const companyId=user.companyId;const history=useHistory();useEffect(()=>{async function fetchData(){const planConfigs=await getPlanCompany(undefined,companyId);if(!planConfigs.plan.useIntegrations){toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");setTimeout(()=>{history.push(\"/\");},1000);}}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchIntegrations=async()=>{try{const{data}=await api.get(\"/queueIntegration/\",{params:{searchParam,pageNumber}});dispatch({type:\"LOAD_INTEGRATIONS\",payload:data.queueIntegrations});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);}};fetchIntegrations();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber]);useEffect(()=>{// const socket = socketManager.GetSocket();\nconst onQueueEvent=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_INTEGRATIONS\",payload:data.queueIntegration});}if(data.action===\"delete\"){dispatch({type:\"DELETE_INTEGRATION\",payload:+data.integrationId});}};socket.on(\"company-\".concat(companyId,\"-queueIntegration\"),onQueueEvent);return()=>{socket.off(\"company-\".concat(companyId,\"-queueIntegration\"),onQueueEvent);};},[]);const handleOpenUserModal=()=>{setSelectedIntegration(null);setUserModalOpen(true);};const handleCloseIntegrationModal=()=>{setSelectedIntegration(null);setUserModalOpen(false);};const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleEditIntegration=queueIntegration=>{setSelectedIntegration(queueIntegration);setUserModalOpen(true);};const handleDeleteIntegration=async integrationId=>{try{await api.delete(\"/queueIntegration/\".concat(integrationId));toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));}catch(err){toastError(err);}setDeletingUser(null);setSearchParam(\"\");setPageNumber(1);};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(ConfirmationModal,{title:deletingUser&&\"\".concat(i18n.t(\"queueIntegration.confirmationModal.deleteTitle\"),\" \").concat(deletingUser.name,\"?\"),open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:()=>handleDeleteIntegration(deletingUser.id),children:i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}),/*#__PURE__*/_jsx(IntegrationModal,{open:userModalOpen,onClose:handleCloseIntegrationModal,\"aria-labelledby\":\"form-dialog-title\",integrationId:selectedIntegration&&selectedIntegration.id}),user.profile===\"user\"?/*#__PURE__*/_jsx(ForbiddenPage,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MainHeader,{children:[/*#__PURE__*/_jsxs(Title,{children:[i18n.t(\"queueIntegration.title\"),\" (\",queueIntegration.length,\")\"]}),/*#__PURE__*/_jsxs(MainHeaderButtonsWrapper,{children:[/*#__PURE__*/_jsx(TextField,{placeholder:i18n.t(\"queueIntegration.searchPlaceholder\"),type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{color:\"secondary\"})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpenUserModal,children:i18n.t(\"queueIntegration.buttons.add\")})]})]}),/*#__PURE__*/_jsx(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll,children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"queueIntegration.table.id\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"queueIntegration.table.name\")})]})}),/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[queueIntegration.map(integration=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(TableCell,{children:[integration.type===\"dialogflow\"&&/*#__PURE__*/_jsx(Avatar,{src:dialogflow,className:classes.avatar}),integration.type===\"n8n\"&&/*#__PURE__*/_jsx(Avatar,{src:n8n,className:classes.avatar}),integration.type===\"webhook\"&&/*#__PURE__*/_jsx(Avatar,{src:webhooks,className:classes.avatar}),integration.type===\"typebot\"&&/*#__PURE__*/_jsx(Avatar,{src:typebot,className:classes.avatar}),integration.type===\"flowbuilder\"&&/*#__PURE__*/_jsx(Avatar,{src:flowbuilder,className:classes.avatar})]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:integration.id}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:integration.name}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleEditIntegration(integration),children:/*#__PURE__*/_jsx(Edit,{color:\"secondary\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>{setConfirmModalOpen(true);setDeletingUser(integration);},children:/*#__PURE__*/_jsx(DeleteOutline,{color:\"secondary\"})})]})]},integration.id)),loading&&/*#__PURE__*/_jsx(TableRowSkeleton,{columns:7})]})})]})})]})]});};export default QueueIntegration;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","n8n","dialogflow","webhooks","typebot","flowbuilder","makeStyles","Avatar","Button","IconButton","InputAdornment","Paper","Table","TableBody","TableCell","TableHead","TableRow","TextField","Tooltip","DeleteOutline","Edit","SearchIcon","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","TableRowSkeleton","IntegrationModal","ConfirmationModal","api","i18n","toastError","AuthContext","usePlans","useHistory","ForbiddenPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","reducer","state","action","type","queueIntegration","payload","newIntegrations","forEach","integration","integrationIndex","findIndex","u","id","push","integrationId","splice","useStyles","theme","mainPaper","_objectSpread","flex","padding","spacing","margin","overflowY","scrollbarStyles","avatar","width","height","borderRadius","QueueIntegration","classes","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedIntegration","setSelectedIntegration","deletingUser","setDeletingUser","userModalOpen","setUserModalOpen","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","dispatch","user","socket","getPlanCompany","companyId","history","fetchData","planConfigs","undefined","plan","useIntegrations","error","setTimeout","delayDebounceFn","fetchIntegrations","data","get","params","queueIntegrations","err","clearTimeout","onQueueEvent","on","concat","off","handleOpenUserModal","handleCloseIntegrationModal","handleSearch","event","target","value","toLowerCase","handleEditIntegration","handleDeleteIntegration","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","children","title","name","open","onClose","onConfirm","profile","length","placeholder","onChange","InputProps","startAdornment","position","color","variant","onClick","className","onScroll","size","align","map","src","columns"],"sources":["/home/deploy/codigologlow/frontend/src/pages/QueueIntegration/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\nimport flowbuilder from \"../../assets/flowbuilders.png\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip,\n} from \"@material-ui/core\";\n\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex(\n      (u) => u.id === queueIntegration.id\n    );\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4,\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\n        );\n        setTimeout(() => {\n          history.push(`/`);\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({\n            type: \"LOAD_INTEGRATIONS\",\n            payload: data.queueIntegrations,\n          });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n\n    const onQueueEvent = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({\n          type: \"UPDATE_INTEGRATIONS\",\n          payload: data.queueIntegration,\n        });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    };\n\n    socket.on(`company-${companyId}-queueIntegration`, onQueueEvent);\n    return () => {\n      socket.off(`company-${companyId}-queueIntegration`, onQueueEvent);\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      {user.profile === \"user\" ? (\n        <ForbiddenPage />\n      ) : (\n        <>\n          <MainHeader>\n            <Title>\n              {i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})\n            </Title>\n            <MainHeaderButtonsWrapper>\n              <TextField\n                placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n                type=\"search\"\n                value={searchParam}\n                onChange={handleSearch}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon color=\"secondary\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenUserModal}\n              >\n                {i18n.t(\"queueIntegration.buttons.add\")}\n              </Button>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n          <Paper\n            className={classes.mainPaper}\n            variant=\"outlined\"\n            onScroll={handleScroll}\n          >\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell padding=\"checkbox\"></TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queueIntegration.table.id\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {i18n.t(\"queueIntegration.table.name\")}\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <>\n                  {queueIntegration.map((integration) => (\n                    <TableRow key={integration.id}>\n                      <TableCell>\n                        {integration.type === \"dialogflow\" && (\n                          <Avatar src={dialogflow} className={classes.avatar} />\n                        )}\n                        {integration.type === \"n8n\" && (\n                          <Avatar src={n8n} className={classes.avatar} />\n                        )}\n                        {integration.type === \"webhook\" && (\n                          <Avatar src={webhooks} className={classes.avatar} />\n                        )}\n                        {integration.type === \"typebot\" && (\n                          <Avatar src={typebot} className={classes.avatar} />\n                        )}\n                        {integration.type === \"flowbuilder\" && (\n                          <Avatar\n                            src={flowbuilder}\n                            className={classes.avatar}\n                          />\n                        )}\n                      </TableCell>\n\n                      <TableCell align=\"center\">{integration.id}</TableCell>\n                      <TableCell align=\"center\">{integration.name}</TableCell>\n                      <TableCell align=\"center\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleEditIntegration(integration)}\n                        >\n                          <Edit color=\"secondary\" />\n                        </IconButton>\n\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmModalOpen(true);\n                            setDeletingUser(integration);\n                          }}\n                        >\n                          <DeleteOutline color=\"secondary\" />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {loading && <TableRowSkeleton columns={7} />}\n                </>\n              </TableBody>\n            </Table>\n          </Paper>\n        </>\n      )}\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}