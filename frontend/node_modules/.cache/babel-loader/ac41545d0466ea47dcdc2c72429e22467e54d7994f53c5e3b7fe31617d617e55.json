{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext,useEffect,useMemo,useCallback}from\"react\";import clsx from\"clsx\";import{makeStyles,Drawer,AppBar,Toolbar,List,Typography,Divider,Button,MenuItem,IconButton,Menu,useTheme,useMediaQuery,Avatar,Badge,withStyles,Chip,Dialog,DialogTitle,DialogContent,DialogActions,ListItem,ListItemAvatar,ListItemText,FormControlLabel,Checkbox}from\"@material-ui/core\";import MenuIcon from\"@material-ui/icons/Menu\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import NotificationsIcon from\"@material-ui/icons/Notifications\";import CachedIcon from\"@material-ui/icons/Cached\";import api from\"../services/api\";import MainListItems from\"./MainListItems\";import NotificationsPopOver from\"../components/NotificationsPopOver\";import NotificationsVolume from\"../components/NotificationsVolume\";import UserModal from\"../components/UserModal\";import{AuthContext}from\"../context/Auth/AuthContext\";import BackdropLoading from\"../components/BackdropLoading\";import{i18n}from\"../translate/i18n\";import toastError from\"../errors/toastError\";import AnnouncementsPopover from\"../components/AnnouncementsPopover\";import BirthdayModal from\"../components/BirthdayModal\";import logo from\"../assets/logo.png\";import logoDark from\"../assets/logo-black.png\";import ChatPopover from\"../pages/Chat/ChatPopover\";import{useDate}from\"../hooks/useDate\";import ColorModeContext from\"../layout/themeContext\";import Brightness4Icon from\"@material-ui/icons/Brightness4\";import Brightness7Icon from\"@material-ui/icons/Brightness7\";import{getBackendUrl}from\"../config\";import useSettings from\"../hooks/useSettings\";import VersionControl from\"../components/VersionControl\";import useSocketListener from\"../hooks/useSocketListener\";import{FaGlobe}from\"react-icons/fa\";import{logInfo,logError}from\"../utils/logger\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const backendUrl=getBackendUrl();const drawerWidth=240;const useStyles=makeStyles(theme=>({root:{display:\"flex\",height:\"100vh\",[theme.breakpoints.down(\"sm\")]:{height:\"calc(100vh - 56px)\"},backgroundColor:theme.palette.fancyBackground,\"& .MuiButton-outlinedPrimary\":{color:theme.palette.primary.main,// Usa cor do tema\nborder:\"1px solid \".concat(theme.palette.primary.main,\"40\"),borderRadius:\"8px\",fontWeight:600,textTransform:\"none\",transition:\"all 0.3s ease\",\"&:hover\":{backgroundColor:\"\".concat(theme.palette.primary.main,\"10\"),borderColor:theme.palette.primary.main,transform:\"translateY(-1px)\",boxShadow:\"0 4px 12px \".concat(theme.palette.primary.main,\"30\")}},\"& .MuiTab-textColorPrimary.Mui-selected\":{color:theme.palette.primary.main,// Usa cor do tema\nfontWeight:700}},chip:{background:\"red\",color:\"white\"},avatar:{width:\"100%\"},toolbar:{paddingRight:24,color:theme.palette.dark.main,// Usa a cor primária do tema para o fundo do AppBar\nbackground:theme.palette.primary.main,// Mudança principal aqui\nboxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\",// Sombra sutil\ntransition:\"all 0.3s ease\"},toolbarIcon:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"0 8px\",minHeight:\"48px\",[theme.breakpoints.down(\"sm\")]:{height:\"48px\"},// ALTERAÇÃO: Removido o gradiente e definido fundo branco\nbackgroundColor:\"#ffffff\",// Fundo branco fixo\nborderBottom:\"1px solid \".concat(theme.palette.divider),// Linha sutil para separação\ntransition:\"all 0.3s ease\"},appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen}),[theme.breakpoints.down(\"sm\")]:{display:\"none\"}},menuButtonHidden:{display:\"none\"},title:{flexGrow:1,fontSize:14,color:\"white\",fontWeight:600,letterSpacing:\"0.025em\"},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen}),overflowX:\"hidden\",overflowY:\"hidden\",// Melhorias sutis no drawer\nborderRight:\"1px solid \".concat(theme.mode===\"light\"?\"#e0e0e0\":\"#424242\"),boxShadow:theme.mode===\"light\"?\"2px 0 8px rgba(0, 0, 0, 0.1)\":\"2px 0 8px rgba(0, 0, 0, 0.3)\"},drawerPaperClose:{overflowX:\"hidden\",overflowY:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7),[theme.breakpoints.up(\"sm\")]:{width:theme.spacing(9)}},appBarSpacer:{minHeight:\"48px\"},content:{flex:1,overflow:\"auto\",padding:0,margin:0},container:{padding:0,margin:0,maxWidth:\"none\",width:\"100%\"},containerWithScroll:_objectSpread(_objectSpread({flex:1,overflowY:\"scroll\",overflowX:\"hidden\"},theme.scrollbarStyles),{},{borderRadius:\"8px\",border:\"2px solid transparent\",\"&::-webkit-scrollbar\":{display:\"none\"},\"-ms-overflow-style\":\"none\",\"scrollbar-width\":\"none\"}),NotificationsPopOver:{// Mantém original\n},logo:{width:\"100%\",//height: \"45px\",\nmaxWidth:180,[theme.breakpoints.down(\"sm\")]:{width:\"auto\",height:\"100%\",maxWidth:180},logo:theme.logo,content:\"url(\"+(theme.mode===\"light\"?theme.calculatedLogoLight():theme.calculatedLogoDark())+\")\",transition:\"all 0.3s ease\",// Transição suave\n\"&:hover\":{transform:\"scale(1.02)\"// Pequeno zoom no hover\n}},hideLogo:{display:\"none\"},avatar2:{width:theme.spacing(4),height:theme.spacing(4),cursor:\"pointer\",borderRadius:\"50%\",border:\"2px solid #ccc\",transition:\"all 0.3s ease\",\"&:hover\":{transform:\"scale(1.05)\",borderColor:theme.palette.primary.main// Usa cor do tema\n}},updateDiv:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"},// Botões da toolbar melhorados\ntoolbarButton:{color:\"rgba(255, 255, 255, 0.9)\",borderRadius:\"8px\",padding:\"8px\",margin:\"0 2px\",transition:\"all 0.3s ease\",\"&:hover\":{backgroundColor:\"rgba(255, 255, 255, 0.1)\",transform:\"translateY(-1px)\"},\"&:active\":{transform:\"translateY(0)\"}},// Menu hambúrguer com animação sutil\nmenuButton:{color:\"white\",\"&:hover\":{backgroundColor:\"rgba(255, 255, 255, 0.1)\"},\"& .MuiSvgIcon-root\":{transition:\"transform 0.3s ease\"},\"&:hover .MuiSvgIcon-root\":{transform:\"rotate(90deg)\"}},// Seletor de idioma melhorado\nlanguageSelector:{position:\"relative\",display:\"inline-block\",\"& > button\":{background:\"rgba(255, 255, 255, 0.1)\",border:\"none\",borderRadius:\"8px\",color:\"rgba(255, 255, 255, 0.9)\",fontSize:\"18px\",padding:\"8px 12px\",cursor:\"pointer\",transition:\"all 0.3s ease\",\"&:hover\":{background:\"rgba(255, 255, 255, 0.2)\",transform:\"translateY(-1px)\"}},\"& > div\":{position:\"absolute\",top:\"45px\",left:\"0\",background:\"#fff\",boxShadow:\"0 4px 12px rgba(0, 0, 0, 0.15)\",borderRadius:\"8px\",padding:\"8px\",zIndex:1000,minWidth:\"120px\",\"& button\":{background:\"none\",border:\"none\",color:\"#374151\",display:\"block\",width:\"100%\",padding:\"8px 12px\",textAlign:\"left\",borderRadius:\"6px\",fontSize:\"14px\",fontWeight:500,transition:\"all 0.2s ease\",\"&:hover\":{background:\"\".concat(theme.palette.primary.main,\"10\"),// Usa cor do tema\ncolor:theme.palette.primary.main,// Usa cor do tema\ntransform:\"none\"}}}},// Badge animado\nanimatedBadge:{\"& .MuiBadge-badge\":{animation:\"$heartbeat 2s infinite\"}},\"@keyframes heartbeat\":{\"0%\":{transform:\"scale(1)\"},\"14%\":{transform:\"scale(1.1)\"},\"28%\":{transform:\"scale(1)\"},\"42%\":{transform:\"scale(1.1)\"},\"70%\":{transform:\"scale(1)\"}}}));const StyledBadge=withStyles(theme=>({badge:{backgroundColor:\"#44b700\",color:\"#44b700\",boxShadow:\"0 0 0 2px \".concat(theme.palette.background.paper),\"&::after\":{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",borderRadius:\"50%\",animation:\"$ripple 1.2s infinite ease-in-out\",border:\"1px solid currentColor\",content:'\"\"'}},\"@keyframes ripple\":{\"0%\":{transform:\"scale(.8)\",opacity:1},\"100%\":{transform:\"scale(2.4)\",opacity:0}}}))(Badge);const SmallAvatar=withStyles(theme=>({root:{width:22,height:22,border:\"2px solid \".concat(theme.palette.background.paper)}}))(Avatar);const LoggedInLayout=_ref=>{var _user$company,_user$company2,_user$company3,_user$company4;let{children,themeToggle,hideMenu=false}=_ref;const classes=useStyles();const[userModalOpen,setUserModalOpen]=useState(false);const[anchorEl,setAnchorEl]=useState(null);const[menuOpen,setMenuOpen]=useState(false);const{handleLogout,loading,user,socket}=useContext(AuthContext);const[drawerOpen,setDrawerOpen]=useState(false);const[drawerVariant,setDrawerVariant]=useState(\"permanent\");const[showOptions,setShowOptions]=useState(false);const[showAnnouncementsModal,setShowAnnouncementsModal]=useState(false);const[announcements,setAnnouncements]=useState([]);const[selectedAnnouncement,setSelectedAnnouncement]=useState(null);const[ackChecked,setAckChecked]=useState(false);const[showBirthdayModal,setShowBirthdayModal]=useState(false);const theme=useTheme();const{colorMode}=useContext(ColorModeContext);const greaterThenSm=useMediaQuery(theme.breakpoints.up(\"sm\"));const[volume,setVolume]=useState(localStorage.getItem(\"volume\")||1);const{dateToClient}=useDate();const[profileUrl,setProfileUrl]=useState(null);const[updateInProgress,setUpdateInProgress]=useState(false);// eslint-disable-next-line react-hooks/exhaustive-deps\nconst mainListItems=useMemo(()=>/*#__PURE__*/_jsx(MainListItems,{drawerOpen:drawerOpen,collapsed:!drawerOpen}),[user,drawerOpen]);const settings=useSettings();const fetchAnnouncements=useCallback(async()=>{try{const{data}=await api.get(\"/announcements/for-company\",{params:{status:true,pageNumber:\"1\"}});// Filtra apenas os informativos ativos e não expirados\nconst activeAnnouncementsRaw=data.records.filter(announcement=>{const isActive=announcement.status===true||announcement.status===\"true\";const isNotExpired=!announcement.expiresAt||new Date(announcement.expiresAt)>new Date();return isActive&&isNotExpired;});// Backend já filtra por empresa excluindo os reconhecidos\nconst activeAnnouncements=activeAnnouncementsRaw;setAnnouncements(activeAnnouncements);setShowAnnouncementsModal(activeAnnouncements.length>0);}catch(err){toastError(err);}},[user===null||user===void 0?void 0:user.id]);useEffect(()=>{if(user!==null&&user!==void 0&&user.id){fetchAnnouncements();}},[user===null||user===void 0?void 0:user.id,fetchAnnouncements]);// Atualiza checkbox ao trocar de aviso\nuseEffect(()=>{if(!selectedAnnouncement){setAckChecked(false);return;}// Não precisamos mais ler localStorage; tratamos via backend\nsetAckChecked(false);},[selectedAnnouncement,user===null||user===void 0?void 0:user.companyId]);const handleToggleAcknowledge=async(announcementId,checked)=>{try{if(checked){await api.post(\"/announcements/\".concat(announcementId,\"/ack\"));// Remove este aviso da lista\nsetAnnouncements(prev=>prev.filter(a=>a.id!==announcementId));setSelectedAnnouncement(null);}else{await api.delete(\"/announcements/\".concat(announcementId,\"/ack\"));// Opcional: recarregar lista para reexibir (se desejar permitir desfazer)\nawait fetchAnnouncements();}// Fecha modal se não restarem avisos\nsetShowAnnouncementsModal(prev=>{return announcements.length-1>0;});}catch(err){toastError(err);}};useEffect(()=>{if(document.body.offsetWidth>600){if(user.defaultMenu===\"closed\"){setDrawerOpen(false);}else{setDrawerOpen(true);}}if(user.defaultTheme===\"dark\"&&theme.mode===\"light\"){colorMode.toggleColorMode();}},[user.defaultMenu,document.body.offsetWidth]);useEffect(()=>{if(document.body.offsetWidth<600){setDrawerVariant(\"temporary\");}else{setDrawerVariant(\"permanent\");}},[drawerOpen]);useEffect(()=>{const companyId=user===null||user===void 0?void 0:user.companyId;if(companyId){const buildProfileUrl=()=>{const savedProfileImage=localStorage.getItem(\"profileImage\");const currentProfileImage=savedProfileImage||user.profileImage;if(currentProfileImage){return\"\".concat(backendUrl,\"/public/company\").concat(companyId,\"/user/\").concat(currentProfileImage);}return\"\".concat(backendUrl,\"/public/app/noimage.png\");};setProfileUrl(buildProfileUrl());}},[user===null||user===void 0?void 0:user.companyId,user===null||user===void 0?void 0:user.profileImage,backendUrl]);// Callbacks dos eventos\nconst handleAuthEvent=useCallback(data=>{if(data.user.id===+(user===null||user===void 0?void 0:user.id)){toastError(\"Sua conta foi acessada em outro computador.\");setTimeout(()=>{localStorage.clear();window.location.reload();},1000);}},[user===null||user===void 0?void 0:user.id]);const handleUserUpdate=useCallback(data=>{if(data.action===\"update\"&&data.user.id===+(user===null||user===void 0?void 0:user.id)){if(data.user.profileImage){const newProfileUrl=\"\".concat(backendUrl,\"/public/company\").concat(user===null||user===void 0?void 0:user.companyId,\"/user/\").concat(data.user.profileImage);setProfileUrl(newProfileUrl);localStorage.setItem(\"profileImage\",data.user.profileImage);}}},[user===null||user===void 0?void 0:user.companyId,user===null||user===void 0?void 0:user.id,backendUrl]);// Callbacks para eventos de aniversário\nconst handleUserBirthday=useCallback(data=>{logInfo(\"Evento de aniversário de usuário recebido\",{data});if(data.userId===+(user===null||user===void 0?void 0:user.id)){setShowBirthdayModal(true);}},[user===null||user===void 0?void 0:user.id]);const handleContactBirthday=useCallback(data=>{logInfo(\"Evento de aniversário de contato recebido\",{data});},[]);// Verificar aniversários no login\nconst checkBirthdaysOnLogin=useCallback(async()=>{if(user!==null&&user!==void 0&&user.id&&user!==null&&user!==void 0&&user.companyId){try{const{data}=await api.get(\"/birthdays/today\");const birthdayData=data.data;// Verificar se o usuário atual faz aniversário hoje\nconst userBirthday=birthdayData.users.find(u=>u.id===+user.id);if(userBirthday){logInfo(\"Usuário faz aniversário hoje; exibindo modal\");setShowBirthdayModal(true);}// Se há aniversariantes, mostrar notificação\nif(birthdayData.users.length>0||birthdayData.contacts.length>0){logInfo(\"Há aniversariantes hoje\",{birthdayData});}}catch(error){logError(\"Erro ao verificar aniversários\",error);}}},[user===null||user===void 0?void 0:user.id,user===null||user===void 0?void 0:user.companyId]);// Registrar listeners\nuseSocketListener(socket,user,'auth',handleAuthEvent);useSocketListener(socket,user,'user',handleUserUpdate);useSocketListener(socket,user,'user-birthday',handleUserBirthday);useSocketListener(socket,user,'contact-birthday',handleContactBirthday);// Verificar aniversários quando o usuário faz login\nuseEffect(()=>{if(user!==null&&user!==void 0&&user.id&&user!==null&&user!==void 0&&user.companyId){// Pequeno delay para garantir que o socket esteja conectado\nconst timer=setTimeout(()=>{checkBirthdaysOnLogin();},1000);return()=>clearTimeout(timer);}},[user===null||user===void 0?void 0:user.id,user===null||user===void 0?void 0:user.companyId,checkBirthdaysOnLogin]);// Status do usuário\nuseEffect(()=>{if(socket!==null&&socket!==void 0&&socket.emit&&user!==null&&user!==void 0&&user.companyId){socket.emit(\"userStatus\");const interval=setInterval(()=>{(socket===null||socket===void 0?void 0:socket.emit)&&socket.emit(\"userStatus\");},1000*60*5);return()=>clearInterval(interval);}},[socket,user===null||user===void 0?void 0:user.companyId]);const handleUpdateStart=()=>{setUpdateInProgress(true);};const handleUpdateComplete=()=>{setUpdateInProgress(false);};const handleMenu=event=>{setAnchorEl(event.currentTarget);setMenuOpen(true);};const handleCloseMenu=()=>{setAnchorEl(null);setMenuOpen(false);};const handleOpenUserModal=()=>{setUserModalOpen(true);handleCloseMenu();};const handleClickLogout=()=>{handleCloseMenu();handleLogout();};const drawerClose=()=>{if(document.body.offsetWidth<600||user.defaultMenu===\"closed\"){setDrawerOpen(false);}};const handleRefreshPage=()=>{window.location.reload(false);};const handleMenuItemClick=()=>{const{innerWidth:width}=window;if(width<=600){setDrawerOpen(false);}};const handleLanguageChange=lng=>{i18n.changeLanguage(lng);localStorage.setItem(\"language\",lng);window.location.reload();};const LANGUAGE_OPTIONS=[{code:\"pt-BR\",label:\"Português\"},{code:\"en\",label:\"English\"},{code:\"es\",label:\"Spanish\"},{code:\"ar\",label:\"عربي\"}];const[enabledLanguages,setEnabledLanguages]=useState([\"pt-BR\",\"en\"]);const{getAll}=useSettings();useEffect(()=>{async function fetchSettings(){try{var _settings$find;const settings=await getAll();const enabledLanguagesSetting=(_settings$find=settings.find(s=>s.key===\"enabledLanguages\"))===null||_settings$find===void 0?void 0:_settings$find.value;let langs=[\"pt-BR\",\"en\"];try{if(enabledLanguagesSetting){langs=JSON.parse(enabledLanguagesSetting);}}catch(_unused){}console.log(\"Layout - enabledLanguages carregadas:\",langs,\"para companyId:\",user===null||user===void 0?void 0:user.companyId);setEnabledLanguages(langs);}catch(error){console.log(\"Layout - erro ao carregar enabledLanguages:\",error);}}fetchSettings();},[user===null||user===void 0?void 0:user.companyId]);const filteredLanguageOptions=LANGUAGE_OPTIONS.filter(lang=>enabledLanguages.includes(lang.code));if(loading||updateInProgress){return/*#__PURE__*/_jsx(BackdropLoading,{});}return/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.root,\"logged-in-layout\"),children:[!hideMenu&&/*#__PURE__*/_jsxs(Drawer,{variant:drawerVariant,className:drawerOpen?classes.drawerPaper:classes.drawerPaperClose,classes:{paper:clsx(classes.drawerPaper,!drawerOpen&&classes.drawerPaperClose)},open:drawerOpen,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.toolbarIcon,children:[/*#__PURE__*/_jsx(\"img\",{className:drawerOpen?classes.logo:classes.hideLogo,style:{display:\"block\",margin:\"0 auto\",//height: \"50px\",\nwidth:\"100%\"},alt:\"logo\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setDrawerOpen(!drawerOpen),children:/*#__PURE__*/_jsx(ChevronLeftIcon,{})})]}),/*#__PURE__*/_jsx(List,{className:classes.containerWithScroll,children:/*#__PURE__*/_jsx(MainListItems,{collapsed:!drawerOpen})}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(AppBar,{position:\"absolute\",className:clsx(classes.appBar,!hideMenu&&drawerOpen&&classes.appBarShift),color:\"primary\",children:/*#__PURE__*/_jsxs(Toolbar,{variant:\"dense\",className:classes.toolbar,children:[!hideMenu&&/*#__PURE__*/_jsx(IconButton,{edge:\"start\",variant:\"contained\",\"aria-label\":\"open drawer\",style:{color:\"white\"},onClick:()=>setDrawerOpen(!drawerOpen),className:clsx(drawerOpen&&classes.menuButtonHidden),children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h6\",color:\"inherit\",noWrap:true,className:classes.title,children:greaterThenSm&&(user===null||user===void 0?void 0:user.profile)===\"admin\"&&user!==null&&user!==void 0&&(_user$company=user.company)!==null&&_user$company!==void 0&&_user$company.dueDate?/*#__PURE__*/_jsxs(_Fragment,{children:[i18n.t(\"mainDrawer.appBar.user.message\"),\" \",/*#__PURE__*/_jsx(\"b\",{children:user.name}),\",\",\" \",i18n.t(\"mainDrawer.appBar.user.messageEnd\"),\" \",/*#__PURE__*/_jsx(\"b\",{children:user===null||user===void 0?void 0:(_user$company2=user.company)===null||_user$company2===void 0?void 0:_user$company2.name}),\"! (\",i18n.t(\"mainDrawer.appBar.user.active\"),\" \",dateToClient(user===null||user===void 0?void 0:(_user$company3=user.company)===null||_user$company3===void 0?void 0:_user$company3.dueDate),\")\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[i18n.t(\"mainDrawer.appBar.user.message\"),\" \",/*#__PURE__*/_jsx(\"b\",{children:user.name}),\",\",\" \",i18n.t(\"mainDrawer.appBar.user.messageEnd\"),\" \",/*#__PURE__*/_jsx(\"b\",{children:user===null||user===void 0?void 0:(_user$company4=user.company)===null||_user$company4===void 0?void 0:_user$company4.name}),\"!\"]})}),!hideMenu&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(VersionControl,{onUpdateStart:handleUpdateStart,onUpdateComplete:handleUpdateComplete}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",display:\"inline-block\"},className:\"language-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowOptions(!showOptions),style:{background:\"none\",border:\"none\",color:\"white\",cursor:\"pointer\",fontSize:\"22px\",paddingRight:\"20px\",paddingTop:\"8px\"},children:/*#__PURE__*/_jsx(FaGlobe,{})}),showOptions&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:\"35px\",left:\"0\",background:\"#fff\",boxShadow:\"0 2px 6px rgba(0,0,0,0.2)\",borderRadius:\"8px\",padding:\"8px\",zIndex:1000,minWidth:\"120px\",maxWidth:\"200px\"},children:filteredLanguageOptions.map(lang=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLanguageChange(lang.code),style:{background:\"none\",border:\"none\",cursor:\"pointer\",display:\"block\",width:\"100%\",padding:\"4px\"},children:lang.label},lang.code))})]}),/*#__PURE__*/_jsx(IconButton,{edge:\"start\",onClick:colorMode.toggleColorMode,children:theme.mode===\"dark\"?/*#__PURE__*/_jsx(Brightness7Icon,{style:{color:\"white\"}}):/*#__PURE__*/_jsx(Brightness4Icon,{style:{color:\"white\"}})}),/*#__PURE__*/_jsx(NotificationsVolume,{setVolume:setVolume,volume:volume}),/*#__PURE__*/_jsx(IconButton,{onClick:handleRefreshPage,\"aria-label\":i18n.t(\"mainDrawer.appBar.refresh\"),color:\"inherit\",children:/*#__PURE__*/_jsx(CachedIcon,{style:{color:\"white\"}})}),user.id&&/*#__PURE__*/_jsx(NotificationsPopOver,{volume:volume}),/*#__PURE__*/_jsx(AnnouncementsPopover,{}),/*#__PURE__*/_jsx(ChatPopover,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu-wrapper\",children:[/*#__PURE__*/_jsx(StyledBadge,{overlap:\"circular\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},variant:\"dot\",onClick:handleMenu,children:/*#__PURE__*/_jsx(Avatar,{alt:\"wChat\",className:classes.avatar2,src:profileUrl})}),/*#__PURE__*/_jsx(UserModal,{open:userModalOpen,onClose:()=>setUserModalOpen(false),onImageUpdate:newProfileUrl=>setProfileUrl(newProfileUrl),userId:user===null||user===void 0?void 0:user.id}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:menuOpen,onClose:handleCloseMenu,PaperProps:{style:{minWidth:\"150px\",maxWidth:\"200px\",width:\"auto\"}},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleOpenUserModal,children:i18n.t(\"mainDrawer.appBar.user.profile\")}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleClickLogout,children:i18n.t(\"mainDrawer.appBar.user.logout\")})]})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:classes.content,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.appBarSpacer}),children?children:null]}),/*#__PURE__*/_jsxs(Dialog,{open:showAnnouncementsModal,onClose:()=>setShowAnnouncementsModal(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Informativos\"}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:selectedAnnouncement?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:selectedAnnouncement.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",style:{whiteSpace:'pre-line'},children:selectedAnnouncement.text}),/*#__PURE__*/_jsx(FormControlLabel,{style:{marginTop:12},control:/*#__PURE__*/_jsx(Checkbox,{color:\"primary\",checked:ackChecked,onChange:e=>{const checked=e.target.checked;setAckChecked(checked);handleToggleAcknowledge(selectedAnnouncement.id,checked);}}),label:\"Estou ciente e n\\xE3o mostrar novamente\"}),selectedAnnouncement.mediaPath&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(backendUrl,\"/public/company\").concat(user.companyId).concat(selectedAnnouncement.mediaPath),alt:\"Anexo\",style:{maxWidth:'100%'}})}),/*#__PURE__*/_jsx(Button,{onClick:()=>setSelectedAnnouncement(null),style:{marginTop:16},variant:\"outlined\",children:\"Voltar para lista\"})]}):/*#__PURE__*/_jsx(List,{children:announcements.map(announcement=>/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>setSelectedAnnouncement(announcement),children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{children:/*#__PURE__*/_jsx(NotificationsIcon,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:announcement.title,secondary:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{component:\"span\",variant:\"body2\",color:\"textPrimary\",children:[\"Prioridade: \",announcement.priority===1?'Alta':announcement.priority===2?'Média':'Baixa']}),\" \\u2014 \".concat(new Date(announcement.createdAt).toLocaleDateString())]})})]},announcement.id))})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAnnouncementsModal(false),color:\"primary\",children:\"Fechar\"})})]}),/*#__PURE__*/_jsx(BirthdayModal,{open:showBirthdayModal,onClose:()=>setShowBirthdayModal(false),user:user})]});};export default LoggedInLayout;","map":{"version":3,"names":["React","useState","useContext","useEffect","useMemo","useCallback","clsx","makeStyles","Drawer","AppBar","Toolbar","List","Typography","Divider","Button","MenuItem","IconButton","Menu","useTheme","useMediaQuery","Avatar","Badge","withStyles","Chip","Dialog","DialogTitle","DialogContent","DialogActions","ListItem","ListItemAvatar","ListItemText","FormControlLabel","Checkbox","MenuIcon","ChevronLeftIcon","NotificationsIcon","CachedIcon","api","MainListItems","NotificationsPopOver","NotificationsVolume","UserModal","AuthContext","BackdropLoading","i18n","toastError","AnnouncementsPopover","BirthdayModal","logo","logoDark","ChatPopover","useDate","ColorModeContext","Brightness4Icon","Brightness7Icon","getBackendUrl","useSettings","VersionControl","useSocketListener","FaGlobe","logInfo","logError","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","backendUrl","drawerWidth","useStyles","theme","root","display","height","breakpoints","down","backgroundColor","palette","fancyBackground","color","primary","main","border","concat","borderRadius","fontWeight","textTransform","transition","borderColor","transform","boxShadow","chip","background","avatar","width","toolbar","paddingRight","dark","toolbarIcon","alignItems","justifyContent","padding","minHeight","borderBottom","divider","appBar","zIndex","drawer","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButtonHidden","title","flexGrow","fontSize","letterSpacing","drawerPaper","position","whiteSpace","overflowX","overflowY","borderRight","mode","drawerPaperClose","spacing","up","appBarSpacer","content","flex","overflow","margin","container","maxWidth","containerWithScroll","_objectSpread","scrollbarStyles","calculatedLogoLight","calculatedLogoDark","hideLogo","avatar2","cursor","updateDiv","flexDirection","toolbarButton","menuButton","languageSelector","top","left","minWidth","textAlign","animatedBadge","animation","StyledBadge","badge","paper","opacity","SmallAvatar","LoggedInLayout","_ref","_user$company","_user$company2","_user$company3","_user$company4","children","themeToggle","hideMenu","classes","userModalOpen","setUserModalOpen","anchorEl","setAnchorEl","menuOpen","setMenuOpen","handleLogout","loading","user","socket","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","showOptions","setShowOptions","showAnnouncementsModal","setShowAnnouncementsModal","announcements","setAnnouncements","selectedAnnouncement","setSelectedAnnouncement","ackChecked","setAckChecked","showBirthdayModal","setShowBirthdayModal","colorMode","greaterThenSm","volume","setVolume","localStorage","getItem","dateToClient","profileUrl","setProfileUrl","updateInProgress","setUpdateInProgress","mainListItems","collapsed","settings","fetchAnnouncements","data","get","params","status","pageNumber","activeAnnouncementsRaw","records","filter","announcement","isActive","isNotExpired","expiresAt","Date","activeAnnouncements","length","err","id","companyId","handleToggleAcknowledge","announcementId","checked","post","prev","a","delete","document","body","offsetWidth","defaultMenu","defaultTheme","toggleColorMode","buildProfileUrl","savedProfileImage","currentProfileImage","profileImage","handleAuthEvent","setTimeout","clear","window","location","reload","handleUserUpdate","action","newProfileUrl","setItem","handleUserBirthday","userId","handleContactBirthday","checkBirthdaysOnLogin","birthdayData","userBirthday","users","find","u","contacts","error","timer","clearTimeout","emit","interval","setInterval","clearInterval","handleUpdateStart","handleUpdateComplete","handleMenu","event","currentTarget","handleCloseMenu","handleOpenUserModal","handleClickLogout","drawerClose","handleRefreshPage","handleMenuItemClick","innerWidth","handleLanguageChange","lng","changeLanguage","LANGUAGE_OPTIONS","code","label","enabledLanguages","setEnabledLanguages","getAll","fetchSettings","_settings$find","enabledLanguagesSetting","s","key","value","langs","JSON","parse","_unused","console","log","filteredLanguageOptions","lang","includes","className","variant","open","style","alt","onClick","edge","component","noWrap","profile","company","dueDate","t","name","onUpdateStart","onUpdateComplete","paddingTop","map","overlap","anchorOrigin","vertical","horizontal","src","onClose","onImageUpdate","getContentAnchorEl","transformOrigin","PaperProps","fullWidth","dividers","gutterBottom","text","marginTop","control","onChange","e","target","mediaPath","button","secondary","priority","createdAt","toLocaleDateString"],"sources":["/home/deploy/codigologlow/frontend/src/layout/index.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useMemo, useCallback } from \"react\";\nimport clsx from \"clsx\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  Button,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n  Avatar,\n  Badge,\n  withStyles,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\nimport api from \"../services/api\";\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\nimport BirthdayModal from \"../components/BirthdayModal\";\nimport logo from \"../assets/logo.png\";\nimport logoDark from \"../assets/logo-black.png\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\nimport { useDate } from \"../hooks/useDate\";\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\nimport { getBackendUrl } from \"../config\";\nimport useSettings from \"../hooks/useSettings\";\nimport VersionControl from \"../components/VersionControl\";\nimport useSocketListener from \"../hooks/useSocketListener\";\nimport { FaGlobe } from \"react-icons/fa\";\nimport { logInfo, logError } from \"../utils/logger\";\n\nconst backendUrl = getBackendUrl();\nconst drawerWidth = 240;\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    \"& .MuiButton-outlinedPrimary\": {\n      color: theme.palette.primary.main, // Usa cor do tema\n      border: `1px solid ${theme.palette.primary.main}40`,\n      borderRadius: \"8px\",\n      fontWeight: 600,\n      textTransform: \"none\",\n      transition: \"all 0.3s ease\",\n      \"&:hover\": {\n        backgroundColor: `${theme.palette.primary.main}10`,\n        borderColor: theme.palette.primary.main,\n        transform: \"translateY(-1px)\",\n        boxShadow: `0 4px 12px ${theme.palette.primary.main}30`,\n      },\n    },\n    \"& .MuiTab-textColorPrimary.Mui-selected\": {\n      color: theme.palette.primary.main, // Usa cor do tema\n      fontWeight: 700,\n    },\n  },\n\n  chip: {\n    background: \"red\",\n    color: \"white\",\n  },\n\n  avatar: {\n    width: \"100%\",\n  },\n\n  toolbar: {\n    paddingRight: 24,\n    color: theme.palette.dark.main,\n    // Usa a cor primária do tema para o fundo do AppBar\n    background: theme.palette.primary.main, // Mudança principal aqui\n    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\", // Sombra sutil\n    transition: \"all 0.3s ease\",\n  },\n\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\",\n    },\n    // ALTERAÇÃO: Removido o gradiente e definido fundo branco\n    backgroundColor: \"#ffffff\", // Fundo branco fixo\n    borderBottom: `1px solid ${theme.palette.divider}`, // Linha sutil para separação\n    transition: \"all 0.3s ease\",\n  },\n\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n\n  menuButtonHidden: {\n    display: \"none\",\n  },\n\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n    fontWeight: 600,\n    letterSpacing: \"0.025em\",\n  },\n\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    overflowX: \"hidden\",\n    overflowY: \"hidden\",\n    // Melhorias sutis no drawer\n    borderRight: `1px solid ${theme.mode === \"light\" ? \"#e0e0e0\" : \"#424242\"}`,\n    boxShadow:\n      theme.mode === \"light\"\n        ? \"2px 0 8px rgba(0, 0, 0, 0.1)\"\n        : \"2px 0 8px rgba(0, 0, 0, 0.3)\",\n  },\n\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    overflowY: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n    padding: 0,\n    margin: 0,\n  },\n\n  container: {\n    padding: 0,\n    margin: 0,\n    maxWidth: \"none\",\n    width: \"100%\",\n  },\n\n  containerWithScroll: {\n    flex: 1,\n    overflowY: \"scroll\",\n    overflowX: \"hidden\",\n    ...theme.scrollbarStyles,\n    borderRadius: \"8px\",\n    border: \"2px solid transparent\",\n    \"&::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n    \"-ms-overflow-style\": \"none\",\n    \"scrollbar-width\": \"none\",\n  },\n\n  NotificationsPopOver: {\n    // Mantém original\n  },\n\n  logo: {\n    width: \"100%\",\n    //height: \"45px\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"100%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo,\n    content:\n      \"url(\" +\n      (theme.mode === \"light\"\n        ? theme.calculatedLogoLight()\n        : theme.calculatedLogoDark()) +\n      \")\",\n    transition: \"all 0.3s ease\", // Transição suave\n    \"&:hover\": {\n      transform: \"scale(1.02)\", // Pequeno zoom no hover\n    },\n  },\n\n  hideLogo: {\n    display: \"none\",\n  },\n\n  avatar2: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n    cursor: \"pointer\",\n    borderRadius: \"50%\",\n    border: \"2px solid #ccc\",\n    transition: \"all 0.3s ease\",\n    \"&:hover\": {\n      transform: \"scale(1.05)\",\n      borderColor: theme.palette.primary.main, // Usa cor do tema\n    },\n  },\n\n  updateDiv: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  // Botões da toolbar melhorados\n  toolbarButton: {\n    color: \"rgba(255, 255, 255, 0.9)\",\n    borderRadius: \"8px\",\n    padding: \"8px\",\n    margin: \"0 2px\",\n    transition: \"all 0.3s ease\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(255, 255, 255, 0.1)\",\n      transform: \"translateY(-1px)\",\n    },\n    \"&:active\": {\n      transform: \"translateY(0)\",\n    },\n  },\n\n  // Menu hambúrguer com animação sutil\n  menuButton: {\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(255, 255, 255, 0.1)\",\n    },\n    \"& .MuiSvgIcon-root\": {\n      transition: \"transform 0.3s ease\",\n    },\n    \"&:hover .MuiSvgIcon-root\": {\n      transform: \"rotate(90deg)\",\n    },\n  },\n\n  // Seletor de idioma melhorado\n  languageSelector: {\n    position: \"relative\",\n    display: \"inline-block\",\n    \"& > button\": {\n      background: \"rgba(255, 255, 255, 0.1)\",\n      border: \"none\",\n      borderRadius: \"8px\",\n      color: \"rgba(255, 255, 255, 0.9)\",\n      fontSize: \"18px\",\n      padding: \"8px 12px\",\n      cursor: \"pointer\",\n      transition: \"all 0.3s ease\",\n      \"&:hover\": {\n        background: \"rgba(255, 255, 255, 0.2)\",\n        transform: \"translateY(-1px)\",\n      },\n    },\n    \"& > div\": {\n      position: \"absolute\",\n      top: \"45px\",\n      left: \"0\",\n      background: \"#fff\",\n      boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n      borderRadius: \"8px\",\n      padding: \"8px\",\n      zIndex: 1000,\n      minWidth: \"120px\",\n      \"& button\": {\n        background: \"none\",\n        border: \"none\",\n        color: \"#374151\",\n        display: \"block\",\n        width: \"100%\",\n        padding: \"8px 12px\",\n        textAlign: \"left\",\n        borderRadius: \"6px\",\n        fontSize: \"14px\",\n        fontWeight: 500,\n        transition: \"all 0.2s ease\",\n        \"&:hover\": {\n          background: `${theme.palette.primary.main}10`, // Usa cor do tema\n          color: theme.palette.primary.main, // Usa cor do tema\n          transform: \"none\",\n        },\n      },\n    },\n  },\n\n  // Badge animado\n  animatedBadge: {\n    \"& .MuiBadge-badge\": {\n      animation: \"$heartbeat 2s infinite\",\n    },\n  },\n\n  \"@keyframes heartbeat\": {\n    \"0%\": { transform: \"scale(1)\" },\n    \"14%\": { transform: \"scale(1.1)\" },\n    \"28%\": { transform: \"scale(1)\" },\n    \"42%\": { transform: \"scale(1.1)\" },\n    \"70%\": { transform: \"scale(1)\" },\n  },\n}));\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    backgroundColor: \"#44b700\",\n    color: \"#44b700\",\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    \"&::after\": {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      borderRadius: \"50%\",\n      animation: \"$ripple 1.2s infinite ease-in-out\",\n      border: \"1px solid currentColor\",\n      content: '\"\"',\n    },\n  },\n  \"@keyframes ripple\": {\n    \"0%\": {\n      transform: \"scale(.8)\",\n      opacity: 1,\n    },\n    \"100%\": {\n      transform: \"scale(2.4)\",\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst SmallAvatar = withStyles((theme) => ({\n  root: {\n    width: 22,\n    height: 22,\n    border: `2px solid ${theme.palette.background.paper}`,\n  },\n}))(Avatar);\n\nconst LoggedInLayout = ({ children, themeToggle, hideMenu = false }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading, user, socket } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n\n  const [showOptions, setShowOptions] = useState(false);\n  const [showAnnouncementsModal, setShowAnnouncementsModal] = useState(false);\n  const [announcements, setAnnouncements] = useState([]);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [ackChecked, setAckChecked] = useState(false);\n  const [showBirthdayModal, setShowBirthdayModal] = useState(false);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n  const [profileUrl, setProfileUrl] = useState(null);\n  const [updateInProgress, setUpdateInProgress] = useState(false);\n\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const mainListItems = useMemo(\n    () => <MainListItems drawerOpen={drawerOpen} collapsed={!drawerOpen} />,\n    [user, drawerOpen]\n  );\n\n  const settings = useSettings();\n\n  const fetchAnnouncements = useCallback(async () => {\n      try {\n        const { data } = await api.get(\"/announcements/for-company\", {\n          params: {\n            status: true,\n            pageNumber: \"1\"\n          }\n        });\n\n        // Filtra apenas os informativos ativos e não expirados\n        const activeAnnouncementsRaw = data.records.filter(announcement => {\n          const isActive = announcement.status === true || announcement.status === \"true\";\n          const isNotExpired = !announcement.expiresAt || new Date(announcement.expiresAt) > new Date();\n          return isActive && isNotExpired;\n        });\n\n        // Backend já filtra por empresa excluindo os reconhecidos\n        const activeAnnouncements = activeAnnouncementsRaw;\n        setAnnouncements(activeAnnouncements);\n        setShowAnnouncementsModal(activeAnnouncements.length > 0);\n      } catch (err) {\n        toastError(err);\n      }\n  }, [user?.id]);\n\n  useEffect(() => {\n    if (user?.id) {\n      fetchAnnouncements();\n    }\n  }, [user?.id, fetchAnnouncements]);\n\n  // Atualiza checkbox ao trocar de aviso\n  useEffect(() => {\n    if (!selectedAnnouncement) {\n      setAckChecked(false);\n      return;\n    }\n    // Não precisamos mais ler localStorage; tratamos via backend\n    setAckChecked(false);\n  }, [selectedAnnouncement, user?.companyId]);\n\n  const handleToggleAcknowledge = async (announcementId, checked) => {\n    try {\n      if (checked) {\n        await api.post(`/announcements/${announcementId}/ack`);\n        // Remove este aviso da lista\n        setAnnouncements(prev => prev.filter(a => a.id !== announcementId));\n        setSelectedAnnouncement(null);\n      } else {\n        await api.delete(`/announcements/${announcementId}/ack`);\n        // Opcional: recarregar lista para reexibir (se desejar permitir desfazer)\n        await fetchAnnouncements();\n      }\n      // Fecha modal se não restarem avisos\n      setShowAnnouncementsModal((prev) => {\n        return announcements.length - 1 > 0;\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  useEffect(() => {\n    \n\n    if (document.body.offsetWidth > 600) {\n      if (user.defaultMenu === \"closed\") {\n        setDrawerOpen(false);\n      } else {\n        setDrawerOpen(true);\n      }\n    }\n    if (user.defaultTheme === \"dark\" && theme.mode === \"light\") {\n      colorMode.toggleColorMode();\n    }\n  }, [user.defaultMenu, document.body.offsetWidth]);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = user?.companyId;\n\n    if (companyId) {\n      const buildProfileUrl = () => {\n        const savedProfileImage = localStorage.getItem(\"profileImage\");\n        const currentProfileImage = savedProfileImage || user.profileImage;\n\n        if (currentProfileImage) {\n          return `${backendUrl}/public/company${companyId}/user/${currentProfileImage}`;\n        }\n        return `${backendUrl}/public/app/noimage.png`;\n      };\n\n      setProfileUrl(buildProfileUrl());\n    }\n  }, [user?.companyId, user?.profileImage, backendUrl]);\n\n  // Callbacks dos eventos\n  const handleAuthEvent = useCallback((data) => {\n    if (data.user.id === +user?.id) {\n      toastError(\"Sua conta foi acessada em outro computador.\");\n      setTimeout(() => {\n        localStorage.clear();\n        window.location.reload();\n      }, 1000);\n    }\n  }, [user?.id]);\n\n  const handleUserUpdate = useCallback((data) => {\n    if (data.action === \"update\" && data.user.id === +user?.id) {\n      if (data.user.profileImage) {\n        const newProfileUrl = `${backendUrl}/public/company${user?.companyId}/user/${data.user.profileImage}`;\n        setProfileUrl(newProfileUrl);\n        localStorage.setItem(\"profileImage\", data.user.profileImage);\n      }\n    }\n  }, [user?.companyId, user?.id, backendUrl]);\n\n  // Callbacks para eventos de aniversário\n  const handleUserBirthday = useCallback((data) => {\n    logInfo(\"Evento de aniversário de usuário recebido\", { data });\n    if (data.userId === +user?.id) {\n      setShowBirthdayModal(true);\n    }\n  }, [user?.id]);\n\n  const handleContactBirthday = useCallback((data) => {\n    logInfo(\"Evento de aniversário de contato recebido\", { data });\n  }, []);\n\n  // Verificar aniversários no login\n  const checkBirthdaysOnLogin = useCallback(async () => {\n    if (user?.id && user?.companyId) {\n      try {\n        const { data } = await api.get(\"/birthdays/today\");\n        const birthdayData = data.data;\n\n        // Verificar se o usuário atual faz aniversário hoje\n        const userBirthday = birthdayData.users.find(u => u.id === +user.id);\n        if (userBirthday) {\n          logInfo(\"Usuário faz aniversário hoje; exibindo modal\");\n          setShowBirthdayModal(true);\n        }\n\n        // Se há aniversariantes, mostrar notificação\n        if (birthdayData.users.length > 0 || birthdayData.contacts.length > 0) {\n          logInfo(\"Há aniversariantes hoje\", { birthdayData });\n        }\n      } catch (error) {\n        logError(\"Erro ao verificar aniversários\", error);\n      }\n    }\n  }, [user?.id, user?.companyId]);\n\n  // Registrar listeners\n  useSocketListener(socket, user, 'auth', handleAuthEvent);\n  useSocketListener(socket, user, 'user', handleUserUpdate);\n  useSocketListener(socket, user, 'user-birthday', handleUserBirthday);\n  useSocketListener(socket, user, 'contact-birthday', handleContactBirthday);\n\n  // Verificar aniversários quando o usuário faz login\n  useEffect(() => {\n    if (user?.id && user?.companyId) {\n      // Pequeno delay para garantir que o socket esteja conectado\n      const timer = setTimeout(() => {\n        checkBirthdaysOnLogin();\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [user?.id, user?.companyId, checkBirthdaysOnLogin]);\n\n  // Status do usuário\n  useEffect(() => {\n    if (socket?.emit && user?.companyId) {\n      socket.emit(\"userStatus\");\n\n      const interval = setInterval(() => {\n        socket?.emit && socket.emit(\"userStatus\");\n      }, 1000 * 60 * 5);\n\n      return () => clearInterval(interval);\n    }\n  }, [socket, user?.companyId]);\n\n  const handleUpdateStart = () => {\n    setUpdateInProgress(true);\n  };\n\n  const handleUpdateComplete = () => {\n    setUpdateInProgress(false);\n  };\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600 || user.defaultMenu === \"closed\") {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  };\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleLanguageChange = (lng) => {\n    i18n.changeLanguage(lng);\n    localStorage.setItem(\"language\", lng);\n    window.location.reload();\n  };\n\n  const LANGUAGE_OPTIONS = [\n    { code: \"pt-BR\", label: \"Português\" },\n    { code: \"en\", label: \"English\" },\n    { code: \"es\", label: \"Spanish\" },\n    { code: \"ar\", label: \"عربي\" },\n  ];\n\n  const [enabledLanguages, setEnabledLanguages] = useState([\"pt-BR\", \"en\"]);\n  const { getAll } = useSettings();\n  useEffect(() => {\n    async function fetchSettings() {\n      try {\n        const settings = await getAll();\n        const enabledLanguagesSetting = settings.find(\n          (s) => s.key === \"enabledLanguages\"\n        )?.value;\n        let langs = [\"pt-BR\", \"en\"];\n        try {\n          if (enabledLanguagesSetting) {\n            langs = JSON.parse(enabledLanguagesSetting);\n          }\n        } catch { }\n        console.log(\n          \"Layout - enabledLanguages carregadas:\",\n          langs,\n          \"para companyId:\",\n          user?.companyId\n        );\n        setEnabledLanguages(langs);\n      } catch (error) {\n        console.log(\"Layout - erro ao carregar enabledLanguages:\", error);\n      }\n    }\n    fetchSettings();\n  }, [user?.companyId]);\n\n  const filteredLanguageOptions = LANGUAGE_OPTIONS.filter((lang) =>\n    enabledLanguages.includes(lang.code)\n  );\n\n  if (loading || updateInProgress) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={clsx(classes.root, \"logged-in-layout\")}>\n      {!hideMenu && (\n        <Drawer\n          variant={drawerVariant}\n          className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n          classes={{\n            paper: clsx(\n              classes.drawerPaper,\n              !drawerOpen && classes.drawerPaperClose\n            ),\n          }}\n          open={drawerOpen}\n        >\n          <div className={classes.toolbarIcon}>\n            <img\n              className={drawerOpen ? classes.logo : classes.hideLogo}\n              style={{\n                display: \"block\",\n                margin: \"0 auto\",\n                //height: \"50px\",\n                width: \"100%\",\n              }}\n              alt=\"logo\"\n            />\n            <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <List className={classes.containerWithScroll}>\n            {/* {mainListItems} */}\n            <MainListItems collapsed={!drawerOpen} />\n          </List>\n          <Divider />\n        </Drawer>\n      )}\n\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, !hideMenu && drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          {!hideMenu && (\n            <IconButton\n              edge=\"start\"\n              variant=\"contained\"\n              aria-label=\"open drawer\"\n              style={{ color: \"white\" }}\n              onClick={() => setDrawerOpen(!drawerOpen)}\n              className={clsx(drawerOpen && classes.menuButtonHidden)}\n            >\n              <MenuIcon />\n            </IconButton>\n          )}\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm &&\n              user?.profile === \"admin\" &&\n              user?.company?.dueDate ? (\n              <>\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\n                <b>{user?.company?.name}</b>! (\n                {i18n.t(\"mainDrawer.appBar.user.active\")}{\" \"}\n                {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\n                <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          {!hideMenu && (\n            <>\n              <VersionControl\n                onUpdateStart={handleUpdateStart}\n                onUpdateComplete={handleUpdateComplete}\n              />\n\n              <div\n                style={{ position: \"relative\", display: \"inline-block\" }}\n                className=\"language-dropdown\"\n              >\n                <button\n                  onClick={() => setShowOptions(!showOptions)}\n                  style={{\n                    background: \"none\",\n                    border: \"none\",\n                    color: \"white\",\n                    cursor: \"pointer\",\n                    fontSize: \"22px\",\n                    paddingRight: \"20px\",\n                    paddingTop: \"8px\",\n                  }}\n                >\n                  <FaGlobe />\n                </button>\n\n                {showOptions && (\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"35px\",\n                      left: \"0\",\n                      background: \"#fff\",\n                      boxShadow: \"0 2px 6px rgba(0,0,0,0.2)\",\n                      borderRadius: \"8px\",\n                      padding: \"8px\",\n                      zIndex: 1000,\n                      minWidth: \"120px\",\n                      maxWidth: \"200px\",\n                    }}\n                  >\n                    {filteredLanguageOptions.map((lang) => (\n                      <button\n                        key={lang.code}\n                        onClick={() => handleLanguageChange(lang.code)}\n                        style={{\n                          background: \"none\",\n                          border: \"none\",\n                          cursor: \"pointer\",\n                          display: \"block\",\n                          width: \"100%\",\n                          padding: \"4px\",\n                        }}\n                      >\n                        {lang.label}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              <IconButton edge=\"start\" onClick={colorMode.toggleColorMode}>\n                {theme.mode === \"dark\" ? (\n                  <Brightness7Icon style={{ color: \"white\" }} />\n                ) : (\n                  <Brightness4Icon style={{ color: \"white\" }} />\n                )}\n              </IconButton>\n\n              <NotificationsVolume setVolume={setVolume} volume={volume} />\n\n              <IconButton\n                onClick={handleRefreshPage}\n                aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n                color=\"inherit\"\n              >\n                <CachedIcon style={{ color: \"white\" }} />\n              </IconButton>\n\n              {/* <DarkMode themeToggle={themeToggle} /> */}\n\n              {user.id && <NotificationsPopOver volume={volume} />}\n\n              <AnnouncementsPopover />\n\n              <ChatPopover />\n\n\n\n              <div className=\"user-menu-wrapper\">\n                <StyledBadge\n                  overlap=\"circular\"\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  variant=\"dot\"\n                  onClick={handleMenu}\n                >\n                  <Avatar\n                    alt=\"wChat\"\n                    className={classes.avatar2}\n                    src={profileUrl}\n                  />\n                </StyledBadge>\n\n                <UserModal\n                  open={userModalOpen}\n                  onClose={() => setUserModalOpen(false)}\n                  onImageUpdate={(newProfileUrl) => setProfileUrl(newProfileUrl)}\n                  userId={user?.id}\n                />\n\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorEl}\n                  getContentAnchorEl={null}\n                  anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                  }}\n                  transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                  }}\n                  open={menuOpen}\n                  onClose={handleCloseMenu}\n                  PaperProps={{\n                    style: {\n                      minWidth: \"150px\",\n                      maxWidth: \"200px\",\n                      width: \"auto\",\n                    },\n                  }}\n                >\n                  <MenuItem onClick={handleOpenUserModal}>\n                    {i18n.t(\"mainDrawer.appBar.user.profile\")}\n                  </MenuItem>\n                  <MenuItem onClick={handleClickLogout}>\n                    {i18n.t(\"mainDrawer.appBar.user.logout\")}\n                  </MenuItem>\n                </Menu>\n              </div>\n            </>\n          )}\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        {children ? children : null}\n      </main>\n\n      {/* Modal de Informativos */}\n      <Dialog\n        open={showAnnouncementsModal}\n        onClose={() => setShowAnnouncementsModal(false)}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>Informativos</DialogTitle>\n        <DialogContent dividers>\n          {selectedAnnouncement ? (\n            <div>\n              <Typography variant=\"h6\" gutterBottom>\n                {selectedAnnouncement.title}\n              </Typography>\n              <Typography variant=\"body1\" style={{ whiteSpace: 'pre-line' }}>\n                {selectedAnnouncement.text}\n              </Typography>\n              <FormControlLabel\n                style={{ marginTop: 12 }}\n                control={\n                  <Checkbox\n                    color=\"primary\"\n                    checked={ackChecked}\n                    onChange={(e) => {\n                      const checked = e.target.checked;\n                      setAckChecked(checked);\n                      handleToggleAcknowledge(selectedAnnouncement.id, checked);\n                    }}\n                  />\n                }\n                label=\"Estou ciente e não mostrar novamente\"\n              />\n              {selectedAnnouncement.mediaPath && (\n                <div style={{ marginTop: 16 }}>\n                  <img\n                    src={`${backendUrl}/public/company${user.companyId}${selectedAnnouncement.mediaPath}`}\n                    alt=\"Anexo\"\n                    style={{ maxWidth: '100%' }}\n                  />\n                </div>\n              )}\n              <Button\n                onClick={() => setSelectedAnnouncement(null)}\n                style={{ marginTop: 16 }}\n                variant=\"outlined\"\n              >\n                Voltar para lista\n              </Button>\n            </div>\n          ) : (\n            <List>\n              {announcements.map((announcement) => (\n                <ListItem\n                  button\n                  key={announcement.id}\n                  onClick={() => setSelectedAnnouncement(announcement)}\n                >\n                  <ListItemAvatar>\n                    <Avatar>\n                      <NotificationsIcon />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={announcement.title}\n                    secondary={\n                      <>\n                        <Typography\n                          component=\"span\"\n                          variant=\"body2\"\n                          color=\"textPrimary\"\n                        >\n                          Prioridade: {announcement.priority === 1 ? 'Alta' : announcement.priority === 2 ? 'Média' : 'Baixa'}\n                        </Typography>\n                        {` — ${new Date(announcement.createdAt).toLocaleDateString()}`}\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            </List>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={() => setShowAnnouncementsModal(false)}\n            color=\"primary\"\n          >\n            Fechar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Modal de Aniversário */}\n      <BirthdayModal\n        open={showBirthdayModal}\n        onClose={() => setShowBirthdayModal(false)}\n        user={user}\n      />\n\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}