{"ast":null,"code":"import React,{useState}from'react';import Modal from'react-modal';import Camera,{FACING_MODES}from'react-html5-camera-photo';import'react-html5-camera-photo/build/css/index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement('#root');const customStyles={overlay:{backgroundColor:'rgba(0, 0, 0, 0.5)'// Fundo transparente\n},content:{width:'80%',height:'70%',maxWidth:'780px',maxHeight:'85vh',top:'50%',left:'50%',transform:'translate(-50%, -50%)',borderRadius:'8px',boxShadow:'0 0 10px rgba(0, 0, 0, 0.3)',border:'none',padding:'0',background:'none',display:'flex',flexDirection:'column',alignItems:'center'}};const ModalCamera=_ref=>{let{isOpen,onRequestClose,onCapture}=_ref;const[capturedImage,setCapturedImage]=useState(null);const handleTakePhoto=dataUri=>{setCapturedImage(dataUri);};const handleConfirm=()=>{// Converta a imagem capturada em um arquivo (Blob)\nfetch(capturedImage).then(res=>res.blob()).then(blob=>{// Chame a função de retorno com o arquivo da imagem capturada\nonCapture(blob);});// Feche o modal\nsetCapturedImage(null);onRequestClose();};return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onRequestClose:onRequestClose,style:customStyles,children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Camera,{onTakePhoto:handleTakePhoto,idealFacingMode:FACING_MODES.ENVIRONMENT,isImageMirror:false,style:customStyles})}),capturedImage&&handleConfirm()]});};export default ModalCamera;","map":{"version":3,"names":["React","useState","Modal","Camera","FACING_MODES","jsx","_jsx","jsxs","_jsxs","setAppElement","customStyles","overlay","backgroundColor","content","width","height","maxWidth","maxHeight","top","left","transform","borderRadius","boxShadow","border","padding","background","display","flexDirection","alignItems","ModalCamera","_ref","isOpen","onRequestClose","onCapture","capturedImage","setCapturedImage","handleTakePhoto","dataUri","handleConfirm","fetch","then","res","blob","style","children","flex","onTakePhoto","idealFacingMode","ENVIRONMENT","isImageMirror"],"sources":["/home/deploy/codigologlow/frontend/src/components/CameraModal/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\n\nModal.setAppElement('#root');\n\n\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\n  },\n  content: {\n    width: '80%',\n    height: '70%',\n    maxWidth: '780px',\n    maxHeight: '85vh',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '8px',\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n    border: 'none',\n    padding: '0',\n    background: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n};\n\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\n  const [capturedImage, setCapturedImage] = useState(null);\n\n  const handleTakePhoto = (dataUri) => {\n    setCapturedImage(dataUri);\n  };\n\n  const handleConfirm = () => {\n\n    // Converta a imagem capturada em um arquivo (Blob)\n    fetch(capturedImage)\n      .then((res) => res.blob())\n      .then((blob) => {\n        // Chame a função de retorno com o arquivo da imagem capturada\n        onCapture(blob);\n      });\n\n    // Feche o modal\n    setCapturedImage(null);\n    onRequestClose();\n  };\n\n  return (\n   <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}  \n      style={customStyles}    \n    >\n       <div style={{ flex: 1 }}>\n          <Camera\n            onTakePhoto={handleTakePhoto}\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\n            isImageMirror={false}\n            style={customStyles}\n          />\n        </div>\n        {capturedImage && \n          handleConfirm()\n        }\n    </Modal>\n  );\n};\n\nexport default ModalCamera;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,MAAO,CAAAC,MAAM,EAAIC,YAAY,KAAQ,0BAA0B,CAC/D,MAAO,8CAA8C,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtDN,KAAK,CAACO,aAAa,CAAC,OAAO,CAAC,CAG5B,KAAM,CAAAC,YAAY,CAAG,CACnBC,OAAO,CAAE,CACPC,eAAe,CAAE,oBAAsB;AACzC,CAAC,CACDC,OAAO,CAAE,CACPC,KAAK,CAAE,KAAK,CACZC,MAAM,CAAE,KAAK,CACbC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,MAAM,CACjBC,GAAG,CAAE,KAAK,CACVC,IAAI,CAAE,KAAK,CACXC,SAAS,CAAE,uBAAuB,CAClCC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,6BAA6B,CACxCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,GAAG,CACZC,UAAU,CAAE,MAAM,CAClBC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QACd,CACF,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,MAAM,CAAEC,cAAc,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACxD,KAAM,CAACI,aAAa,CAAEC,gBAAgB,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAExD,KAAM,CAAAmC,eAAe,CAAIC,OAAO,EAAK,CACnCF,gBAAgB,CAACE,OAAO,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAE1B;AACAC,KAAK,CAACL,aAAa,CAAC,CACjBM,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEE,IAAI,EAAK,CACd;AACAT,SAAS,CAACS,IAAI,CAAC,CACjB,CAAC,CAAC,CAEJ;AACAP,gBAAgB,CAAC,IAAI,CAAC,CACtBH,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,mBACCxB,KAAA,CAACN,KAAK,EACH6B,MAAM,CAAEA,MAAO,CACfC,cAAc,CAAEA,cAAe,CAC/BW,KAAK,CAAEjC,YAAa,CAAAkC,QAAA,eAEnBtC,IAAA,QAAKqC,KAAK,CAAE,CAAEE,IAAI,CAAE,CAAE,CAAE,CAAAD,QAAA,cACrBtC,IAAA,CAACH,MAAM,EACL2C,WAAW,CAAEV,eAAgB,CAC7BW,eAAe,CAAE3C,YAAY,CAAC4C,WAAY,CAC1CC,aAAa,CAAE,KAAM,CACrBN,KAAK,CAAEjC,YAAa,CACrB,CAAC,CACC,CAAC,CACLwB,aAAa,EACZI,aAAa,CAAC,CAAC,EAEd,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}