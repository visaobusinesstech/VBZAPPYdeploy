{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{Droppable,Draggable}from'react-beautiful-dnd';import KanbanCard from'./KanbanCard';import{Typography,IconButton}from'@material-ui/core';import DragIndicatorIcon from'@material-ui/icons/DragIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({column:props=>({backgroundColor:props.color||'#ebecf0',borderRadius:8,minWidth:272,maxWidth:272,padding:theme.spacing(1),marginRight:theme.spacing(1),display:'flex',flexDirection:'column',flexShrink:0}),columnTitle:{marginBottom:theme.spacing(1),fontWeight:'bold',fontSize:'1rem',color:\"#D6D6D6\"},cardList:_objectSpread(_objectSpread({flexGrow:1,overflowY:'auto'},theme.scrollbarStyles),{},{maxHeight:'calc(100vh - 200px)'}),totalValue:{fontSize:'1rem',color:\"#D6D6D6\",fontWeight:'bold'},columnHeader:{marginBottom:theme.spacing(1),display:'flex',alignItems:'center',justifyContent:'space-between'},dragHandle:{cursor:'grab',color:'rgba(255, 255, 255, 0.7)',padding:theme.spacing(0.5),'&:hover':{color:'rgba(255, 255, 255, 1)'}},columnContent:{display:'flex',flexDirection:'column',height:'100%'}}));const KanbanColumn=_ref=>{let{id,title,tickets,color,index,updateTicket,isAdmin}=_ref;const classes=useStyles({color});const totalValue=tickets.reduce((acc,ticket)=>{const customFields=ticket.contact.extraInfo||[];const valueField=customFields.find(field=>field.name==='valor');const opportunityValue=valueField?parseFloat(valueField.value):0;return acc+opportunityValue;},0);return/*#__PURE__*/_jsx(Draggable,{draggableId:id,index:index,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.column,ref:provided.innerRef},provided.draggableProps),{},{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.columnHeader,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',flex:1},children:[isAdmin&&/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:classes.dragHandle,children:/*#__PURE__*/_jsx(DragIndicatorIcon,{fontSize:\"small\"})})),/*#__PURE__*/_jsx(Typography,{className:classes.columnTitle,children:title})]}),/*#__PURE__*/_jsxs(Typography,{className:classes.totalValue,children:[\"Total: R$ \",totalValue.toFixed(2)]})]}),/*#__PURE__*/_jsx(Droppable,{droppableId:id,type:\"CARD\",children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.cardList,ref:provided.innerRef},provided.droppableProps),{},{children:[tickets.map((ticket,index)=>/*#__PURE__*/_jsx(KanbanCard,{ticket:ticket,index:index,updateTicket:updateTicket},ticket.id)),provided.placeholder]}))})]}))});};export default KanbanColumn;","map":{"version":3,"names":["React","makeStyles","Droppable","Draggable","KanbanCard","Typography","IconButton","DragIndicatorIcon","jsx","_jsx","jsxs","_jsxs","useStyles","theme","column","props","backgroundColor","color","borderRadius","minWidth","maxWidth","padding","spacing","marginRight","display","flexDirection","flexShrink","columnTitle","marginBottom","fontWeight","fontSize","cardList","_objectSpread","flexGrow","overflowY","scrollbarStyles","maxHeight","totalValue","columnHeader","alignItems","justifyContent","dragHandle","cursor","columnContent","height","KanbanColumn","_ref","id","title","tickets","index","updateTicket","isAdmin","classes","reduce","acc","ticket","customFields","contact","extraInfo","valueField","find","field","name","opportunityValue","parseFloat","value","draggableId","children","provided","snapshot","className","ref","innerRef","draggableProps","style","flex","dragHandleProps","toFixed","droppableId","type","droppableProps","map","placeholder"],"sources":["/home/deploy/codigologlow/frontend/src/pages/Kanban/KanbanColumn.js"],"sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport KanbanCard from './KanbanCard';\nimport { Typography, IconButton } from '@material-ui/core';\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\n\nconst useStyles = makeStyles(theme => ({\n  column: props => ({\n    backgroundColor: props.color || '#ebecf0',\n    borderRadius: 8,\n    minWidth: 272,\n    maxWidth: 272,\n    padding: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    flexShrink: 0,\n  }),\n  columnTitle: {\n    marginBottom: theme.spacing(1),\n    fontWeight: 'bold',\n    fontSize: '1rem',\n    color: \"#D6D6D6\",\n  },\n  cardList: {\n    flexGrow: 1,\n    overflowY: 'auto',\n    ...theme.scrollbarStyles,\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  totalValue: {\n    fontSize: '1rem',\n    color: \"#D6D6D6\",\n    fontWeight: 'bold',\n  },\n  columnHeader: {\n    marginBottom: theme.spacing(1),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  dragHandle: {\n    cursor: 'grab',\n    color: 'rgba(255, 255, 255, 0.7)',\n    padding: theme.spacing(0.5),\n    '&:hover': {\n      color: 'rgba(255, 255, 255, 1)',\n    },\n  },\n  columnContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n}));\n\nconst KanbanColumn = ({ id, title, tickets, color, index, updateTicket, isAdmin }) => {\n  const classes = useStyles({ color });\n\n  const totalValue = tickets.reduce((acc, ticket) => {\n    const customFields = ticket.contact.extraInfo || [];\n    const valueField = customFields.find(field => field.name === 'valor');\n    const opportunityValue = valueField ? parseFloat(valueField.value) : 0;\n    return acc + opportunityValue;\n  }, 0);\n\n  return (\n    <Draggable draggableId={id} index={index}>\n      {(provided, snapshot) => (\n        <div\n          className={classes.column}\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n        >\n          <div className={classes.columnHeader}>\n            <div style={{ display: 'flex', alignItems: 'center', flex: 1 }}>\n              {isAdmin && (\n                <div\n                  {...provided.dragHandleProps}\n                  className={classes.dragHandle}\n                >\n                  <DragIndicatorIcon fontSize=\"small\" />\n                </div>\n              )}\n              <Typography className={classes.columnTitle}>{title}</Typography>\n            </div>\n            <Typography className={classes.totalValue}>\n              Total: R$ {totalValue.toFixed(2)}\n            </Typography>\n          </div>\n          <Droppable droppableId={id} type=\"CARD\">\n            {(provided, snapshot) => (\n              <div\n                className={classes.cardList}\n                ref={provided.innerRef}\n                {...provided.droppableProps}\n              >\n                {tickets.map((ticket, index) => (\n                  <KanbanCard\n                    key={ticket.id}\n                    ticket={ticket}\n                    index={index}\n                    updateTicket={updateTicket}\n                  />\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </div>\n      )}\n    </Draggable>\n  );\n};\n\nexport default KanbanColumn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}