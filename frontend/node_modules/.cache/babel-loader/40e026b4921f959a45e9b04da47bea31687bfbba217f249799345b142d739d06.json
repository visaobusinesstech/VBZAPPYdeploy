{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext}from\"react\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import{Paper,Typography,Switch,FormControlLabel,TextField,Button,Grid,Divider,Box,Card,CardContent,CardHeader,IconButton,Collapse,Select,MenuItem,FormControl,InputLabel}from\"@material-ui/core\";import{Cake as CakeIcon,Person as PersonIcon,Phone as PhoneIcon,Schedule as ScheduleIcon,Announcement as AnnouncementIcon,ExpandMore as ExpandMoreIcon,Save as SaveIcon,Settings as TestIcon,Info as InfoIcon}from\"@material-ui/icons\";import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import{WhatsAppsContext}from\"../../context/WhatsApp/WhatsAppsContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{padding:theme.spacing(3)},paper:{padding:theme.spacing(3),marginBottom:theme.spacing(2)},sectionTitle:{display:\"flex\",alignItems:\"center\",gap:theme.spacing(1),marginBottom:theme.spacing(2),color:theme.palette.primary.main,fontWeight:600},settingItem:{marginBottom:theme.spacing(2)},messageField:{marginTop:theme.spacing(1)},timeField:{maxWidth:200},saveButton:{background:\"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)\",color:\"white\",fontWeight:600,textTransform:\"none\",borderRadius:8,padding:theme.spacing(1,3),\"&:hover\":{transform:\"translateY(-1px)\",boxShadow:\"0 4px 12px rgba(25, 118, 210, 0.3)\"}},testButton:{background:\"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",color:\"white\",fontWeight:600,textTransform:\"none\",borderRadius:8,marginLeft:theme.spacing(1),\"&:hover\":{transform:\"translateY(-1px)\",boxShadow:\"0 4px 12px rgba(255, 152, 0, 0.3)\"}},expandButton:{transform:\"rotate(0deg)\",transition:theme.transitions.create(\"transform\",{duration:theme.transitions.duration.shortest})},expandButtonOpen:{transform:\"rotate(180deg)\"},helpText:{fontSize:\"0.875rem\",color:theme.palette.text.secondary,marginTop:theme.spacing(0.5)},messagePreview:{backgroundColor:theme.palette.grey[100],padding:theme.spacing(2),borderRadius:8,marginTop:theme.spacing(1),border:\"1px solid \".concat(theme.palette.grey[300])},variableChip:{backgroundColor:theme.palette.primary.main,color:\"white\",padding:\"2px 8px\",borderRadius:4,fontSize:\"0.75rem\",fontFamily:\"monospace\",margin:\"0 2px\"},infoBox:{backgroundColor:\"#e3f2fd\",border:\"1px solid #90caf9\",borderRadius:8,padding:theme.spacing(2),marginTop:theme.spacing(2),display:\"flex\",alignItems:\"flex-start\",gap:theme.spacing(1)},infoIcon:{color:\"#1976d2\",fontSize:\"1.25rem\",marginTop:2},infoContent:{flex:1}}));const BirthdaySettings=()=>{const classes=useStyles();const{whatsApps}=useContext(WhatsAppsContext);const[settings,setSettings]=useState(null);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[expandedSections,setExpandedSections]=useState({user:true,contact:true,general:true});useEffect(()=>{fetchSettings();},[]);const fetchSettings=async()=>{try{const{data}=await api.get(\"/birthdays/settings\");setSettings(data.data);}catch(error){toast.error(\"Erro ao carregar configura√ß√µes de anivers√°rio\");}finally{setLoading(false);}};const handleSettingChange=(field,value)=>{setSettings(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleSave=async()=>{setSaving(true);try{await api.put(\"/birthdays/settings\",settings);toast.success(\"Configura√ß√µes de anivers√°rio salvas com sucesso! üéâ\");}catch(error){toast.error(\"Erro ao salvar configura√ß√µes\");}finally{setSaving(false);}};const handleTestMessage=async messageType=>{// Para teste, vamos pedir um contato v√°lido\nconst contactId=prompt(\"Digite o ID de um contato para teste:\");if(!contactId)return;try{await api.post(\"/birthdays/test-message\",{contactId:parseInt(contactId),messageType});toast.success(\"Mensagem de teste enviada! üì±\");}catch(error){toast.error(\"Erro ao enviar mensagem de teste\");}};const toggleSection=section=>{setExpandedSections(prev=>_objectSpread(_objectSpread({},prev),{},{[section]:!prev[section]}));};const renderMessagePreview=(message,type)=>{if(!message)return null;let previewMessage=message;previewMessage=previewMessage.replace(/{nome}/g,\"<span class=\\\"\".concat(classes.variableChip,\"\\\">Jo\\xE3o Silva</span>\"));previewMessage=previewMessage.replace(/{idade}/g,\"<span class=\\\"\".concat(classes.variableChip,\"\\\">30</span>\"));return/*#__PURE__*/_jsxs(Box,{className:classes.messagePreview,children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"Pr\\xE9-visualiza\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",dangerouslySetInnerHTML:{__html:previewMessage}})]});};if(loading){return/*#__PURE__*/_jsx(Box,{className:classes.root,children:/*#__PURE__*/_jsx(Typography,{children:\"Carregando configura\\xE7\\xF5es...\"})});}return/*#__PURE__*/_jsxs(Box,{className:classes.root,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"\\uD83C\\uDF82 Configura\\xE7\\xF5es de Anivers\\xE1rio\"}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(PersonIcon,{}),\"Anivers\\xE1rios de Usu\\xE1rios\"]}),/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.expandButton,\" \").concat(expandedSections.user?classes.expandButtonOpen:\"\"),onClick:()=>toggleSection(\"user\"),children:/*#__PURE__*/_jsx(ExpandMoreIcon,{})})]}),/*#__PURE__*/_jsx(Collapse,{in:expandedSections.user,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:(settings===null||settings===void 0?void 0:settings.userBirthdayEnabled)||false,onChange:e=>handleSettingChange(\"userBirthdayEnabled\",e.target.checked),color:\"primary\"}),label:\"Habilitar notifica\\xE7\\xF5es de anivers\\xE1rio de usu\\xE1rios\"}),/*#__PURE__*/_jsx(Typography,{className:classes.helpText,children:\"Quando habilitado, ser\\xE1 exibido modal de parab\\xE9ns e criado informativo autom\\xE1tico\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:(settings===null||settings===void 0?void 0:settings.createAnnouncementForUsers)||false,onChange:e=>handleSettingChange(\"createAnnouncementForUsers\",e.target.checked),color:\"primary\",disabled:!(settings!==null&&settings!==void 0&&settings.userBirthdayEnabled)}),label:\"Criar informativo autom\\xE1tico para anivers\\xE1rios de usu\\xE1rios\"}),/*#__PURE__*/_jsx(Typography,{className:classes.helpText,children:\"Cria um informativo autom\\xE1tico que \\xE9 exibido para todos os usu\\xE1rios da empresa\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:3,label:\"Mensagem de anivers\\xE1rio para usu\\xE1rios\",value:(settings===null||settings===void 0?void 0:settings.userBirthdayMessage)||\"\",onChange:e=>handleSettingChange(\"userBirthdayMessage\",e.target.value),disabled:!(settings!==null&&settings!==void 0&&settings.userBirthdayEnabled),className:classes.messageField,helperText:\"Use {nome} para incluir o nome do usu\\xE1rio\"}),renderMessagePreview(settings===null||settings===void 0?void 0:settings.userBirthdayMessage,\"user\")]})]})})]}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(PhoneIcon,{}),\"Anivers\\xE1rios de Contatos\"]}),/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.expandButton,\" \").concat(expandedSections.contact?classes.expandButtonOpen:\"\"),onClick:()=>toggleSection(\"contact\"),children:/*#__PURE__*/_jsx(ExpandMoreIcon,{})})]}),/*#__PURE__*/_jsx(Collapse,{in:expandedSections.contact,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:(settings===null||settings===void 0?void 0:settings.contactBirthdayEnabled)||false,onChange:e=>handleSettingChange(\"contactBirthdayEnabled\",e.target.checked),color:\"primary\"}),label:\"Habilitar envio autom\\xE1tico de mensagens de anivers\\xE1rio para contatos\"}),/*#__PURE__*/_jsx(Typography,{className:classes.helpText,children:\"Envia automaticamente mensagem de parab\\xE9ns via WhatsApp para contatos aniversariantes\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:4,label:\"Mensagem de anivers\\xE1rio para contatos\",value:(settings===null||settings===void 0?void 0:settings.contactBirthdayMessage)||\"\",onChange:e=>handleSettingChange(\"contactBirthdayMessage\",e.target.value),disabled:!(settings!==null&&settings!==void 0&&settings.contactBirthdayEnabled),className:classes.messageField,helperText:\"Use {nome} para incluir o nome do contato e {idade} para a idade\"}),renderMessagePreview(settings===null||settings===void 0?void 0:settings.contactBirthdayMessage,\"contact\"),(settings===null||settings===void 0?void 0:settings.contactBirthdayEnabled)&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.testButton,startIcon:/*#__PURE__*/_jsx(TestIcon,{}),onClick:()=>handleTestMessage(\"contact\"),size:\"small\",style:{marginTop:8},children:\"Testar Mensagem\"})]})]})})]}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",className:classes.sectionTitle,children:[/*#__PURE__*/_jsx(ScheduleIcon,{}),\"Configura\\xE7\\xF5es Gerais\"]}),/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.expandButton,\" \").concat(expandedSections.general?classes.expandButtonOpen:\"\"),onClick:()=>toggleSection(\"general\"),children:/*#__PURE__*/_jsx(ExpandMoreIcon,{})})]}),/*#__PURE__*/_jsxs(Collapse,{in:expandedSections.general,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{type:\"time\",label:\"Hor\\xE1rio de envio das mensagens\",value:(settings===null||settings===void 0?void 0:settings.sendBirthdayTime)||\"09:00:00\",onChange:e=>{// Converter HH:MM para HH:MM:SS para compatibilidade com backend\nconst timeValue=e.target.value;const formattedTime=timeValue?\"\".concat(timeValue,\":00\"):\"09:00:00\";handleSettingChange(\"sendBirthdayTime\",formattedTime);},className:classes.timeField,InputLabelProps:{shrink:true},helperText:\"Hor\\xE1rio em que as mensagens autom\\xE1ticas ser\\xE3o enviadas\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Conex\\xE3o WhatsApp para Envio\"}),/*#__PURE__*/_jsxs(Select,{value:(settings===null||settings===void 0?void 0:settings.whatsappId)||\"\",onChange:e=>handleSettingChange(\"whatsappId\",e.target.value||null),label:\"Conex\\xE3o WhatsApp para Envio\",disabled:!(settings!==null&&settings!==void 0&&settings.contactBirthdayEnabled),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Selecione uma conex\\xE3o\"})}),(whatsApps===null||whatsApps===void 0?void 0:whatsApps.length)>0&&whatsApps.map(whatsapp=>/*#__PURE__*/_jsx(MenuItem,{value:whatsapp.id,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Box,{width:8,height:8,borderRadius:\"50%\",bgcolor:whatsapp.status===\"CONNECTED\"?\"success.main\":\"error.main\",mr:1}),whatsapp.name,\" (\",whatsapp.status,\")\"]})},whatsapp.id))]}),/*#__PURE__*/_jsx(Typography,{className:classes.helpText,children:\"Conex\\xE3o WhatsApp que ser\\xE1 usada para enviar mensagens de anivers\\xE1rio\"})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:(settings===null||settings===void 0?void 0:settings.createAnnouncementForUsers)||false,onChange:e=>handleSettingChange(\"createAnnouncementForUsers\",e.target.checked),color:\"primary\"}),label:\"Criar informativo interno para anivers\\xE1rios de usu\\xE1rios\"}),/*#__PURE__*/_jsx(Typography,{className:classes.helpText,children:\"Cria um informativo interno quando um usu\\xE1rio faz anivers\\xE1rio\"})]})]}),/*#__PURE__*/_jsxs(Box,{className:classes.infoBox,children:[/*#__PURE__*/_jsx(InfoIcon,{className:classes.infoIcon}),/*#__PURE__*/_jsxs(Box,{className:classes.infoContent,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{fontWeight:600,marginBottom:8},children:\"Vari\\xE1veis dispon\\xEDveis nas mensagens:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",component:\"div\",children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"code\",{children:\"{nome}\"}),\" - Nome da pessoa\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"code\",{children:\"{idade}\"}),\" - Idade da pessoa (apenas para contatos)\"]})]})]})]})]}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",mt:3,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.saveButton,startIcon:/*#__PURE__*/_jsx(SaveIcon,{}),onClick:handleSave,disabled:saving,size:\"large\",children:saving?\"Salvando...\":\"Salvar Configura√ß√µes\"})})]});};export default BirthdaySettings;","map":{"version":3,"names":["React","useState","useEffect","useContext","toast","makeStyles","Paper","Typography","Switch","FormControlLabel","TextField","Button","Grid","Divider","Box","Card","CardContent","CardHeader","IconButton","Collapse","Select","MenuItem","FormControl","InputLabel","Cake","CakeIcon","Person","PersonIcon","Phone","PhoneIcon","Schedule","ScheduleIcon","Announcement","AnnouncementIcon","ExpandMore","ExpandMoreIcon","Save","SaveIcon","Settings","TestIcon","Info","InfoIcon","i18n","api","WhatsAppsContext","jsx","_jsx","jsxs","_jsxs","useStyles","theme","root","padding","spacing","paper","marginBottom","sectionTitle","display","alignItems","gap","color","palette","primary","main","fontWeight","settingItem","messageField","marginTop","timeField","maxWidth","saveButton","background","textTransform","borderRadius","transform","boxShadow","testButton","marginLeft","expandButton","transition","transitions","create","duration","shortest","expandButtonOpen","helpText","fontSize","text","secondary","messagePreview","backgroundColor","grey","border","concat","variableChip","fontFamily","margin","infoBox","infoIcon","infoContent","flex","BirthdaySettings","classes","whatsApps","settings","setSettings","loading","setLoading","saving","setSaving","expandedSections","setExpandedSections","user","contact","general","fetchSettings","data","get","error","handleSettingChange","field","value","prev","_objectSpread","handleSave","put","success","handleTestMessage","messageType","contactId","prompt","post","parseInt","toggleSection","section","renderMessagePreview","message","type","previewMessage","replace","className","children","variant","dangerouslySetInnerHTML","__html","gutterBottom","justifyContent","onClick","in","container","item","xs","control","checked","userBirthdayEnabled","onChange","e","target","label","createAnnouncementForUsers","disabled","fullWidth","multiline","rows","userBirthdayMessage","helperText","contactBirthdayEnabled","contactBirthdayMessage","startIcon","size","style","md","sendBirthdayTime","timeValue","formattedTime","InputLabelProps","shrink","whatsappId","length","map","whatsapp","id","width","height","bgcolor","status","mr","name","component","textAlign","mt"],"sources":["/home/deploy/atendechatop/frontend/src/components/BirthdaySettings/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Paper,\n  Typography,\n  Switch,\n  FormControlLabel,\n  TextField,\n  Button,\n  Grid,\n  Divider,\n  Box,\n  Card,\n  CardContent,\n  CardHeader,\n  IconButton,\n  Collapse,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel\n} from \"@material-ui/core\";\nimport {\n  Cake as CakeIcon,\n  Person as PersonIcon,\n  Phone as PhoneIcon,\n  Schedule as ScheduleIcon,\n  Announcement as AnnouncementIcon,\n  ExpandMore as ExpandMoreIcon,\n  Save as SaveIcon,\n  Settings as TestIcon,\n  Info as InfoIcon\n} from \"@material-ui/icons\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  paper: {\n    padding: theme.spacing(3),\n    marginBottom: theme.spacing(2)\n  },\n  sectionTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1),\n    marginBottom: theme.spacing(2),\n    color: theme.palette.primary.main,\n    fontWeight: 600\n  },\n  settingItem: {\n    marginBottom: theme.spacing(2)\n  },\n  messageField: {\n    marginTop: theme.spacing(1)\n  },\n  timeField: {\n    maxWidth: 200\n  },\n  saveButton: {\n    background: \"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)\",\n    color: \"white\",\n    fontWeight: 600,\n    textTransform: \"none\",\n    borderRadius: 8,\n    padding: theme.spacing(1, 3),\n    \"&:hover\": {\n      transform: \"translateY(-1px)\",\n      boxShadow: \"0 4px 12px rgba(25, 118, 210, 0.3)\"\n    }\n  },\n  testButton: {\n    background: \"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)\",\n    color: \"white\",\n    fontWeight: 600,\n    textTransform: \"none\",\n    borderRadius: 8,\n    marginLeft: theme.spacing(1),\n    \"&:hover\": {\n      transform: \"translateY(-1px)\",\n      boxShadow: \"0 4px 12px rgba(255, 152, 0, 0.3)\"\n    }\n  },\n  expandButton: {\n    transform: \"rotate(0deg)\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandButtonOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  helpText: {\n    fontSize: \"0.875rem\",\n    color: theme.palette.text.secondary,\n    marginTop: theme.spacing(0.5)\n  },\n  messagePreview: {\n    backgroundColor: theme.palette.grey[100],\n    padding: theme.spacing(2),\n    borderRadius: 8,\n    marginTop: theme.spacing(1),\n    border: `1px solid ${theme.palette.grey[300]}`\n  },\n  variableChip: {\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    padding: \"2px 8px\",\n    borderRadius: 4,\n    fontSize: \"0.75rem\",\n    fontFamily: \"monospace\",\n    margin: \"0 2px\"\n  },\n  infoBox: {\n    backgroundColor: \"#e3f2fd\",\n    border: \"1px solid #90caf9\",\n    borderRadius: 8,\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    gap: theme.spacing(1)\n  },\n  infoIcon: {\n    color: \"#1976d2\",\n    fontSize: \"1.25rem\",\n    marginTop: 2\n  },\n  infoContent: {\n    flex: 1\n  }\n}));\n\nconst BirthdaySettings = () => {\n  const classes = useStyles();\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const [settings, setSettings] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [expandedSections, setExpandedSections] = useState({\n    user: true,\n    contact: true,\n    general: true\n  });\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const { data } = await api.get(\"/birthdays/settings\");\n      setSettings(data.data);\n    } catch (error) {\n      toast.error(\"Erro ao carregar configura√ß√µes de anivers√°rio\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSettingChange = (field, value) => {\n    setSettings(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      await api.put(\"/birthdays/settings\", settings);\n      toast.success(\"Configura√ß√µes de anivers√°rio salvas com sucesso! üéâ\");\n    } catch (error) {\n      toast.error(\"Erro ao salvar configura√ß√µes\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleTestMessage = async (messageType) => {\n    // Para teste, vamos pedir um contato v√°lido\n    const contactId = prompt(\"Digite o ID de um contato para teste:\");\n    if (!contactId) return;\n\n    try {\n      await api.post(\"/birthdays/test-message\", {\n        contactId: parseInt(contactId),\n        messageType\n      });\n      toast.success(\"Mensagem de teste enviada! üì±\");\n    } catch (error) {\n      toast.error(\"Erro ao enviar mensagem de teste\");\n    }\n  };\n\n  const toggleSection = (section) => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [section]: !prev[section]\n    }));\n  };\n\n  const renderMessagePreview = (message, type) => {\n    if (!message) return null;\n\n    let previewMessage = message;\n    previewMessage = previewMessage.replace(\n      /{nome}/g, \n      `<span class=\"${classes.variableChip}\">Jo√£o Silva</span>`\n    );\n    previewMessage = previewMessage.replace(\n      /{idade}/g, \n      `<span class=\"${classes.variableChip}\">30</span>`\n    );\n\n    return (\n      <Box className={classes.messagePreview}>\n        <Typography variant=\"caption\" color=\"textSecondary\">\n          Pr√©-visualiza√ß√£o:\n        </Typography>\n        <Typography \n          variant=\"body2\" \n          dangerouslySetInnerHTML={{ __html: previewMessage }}\n        />\n      </Box>\n    );\n  };\n\n  if (loading) {\n    return (\n      <Box className={classes.root}>\n        <Typography>Carregando configura√ß√µes...</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box className={classes.root}>\n      <Typography variant=\"h4\" gutterBottom>\n        üéÇ Configura√ß√µes de Anivers√°rio\n      </Typography>\n\n      {/* Configura√ß√µes de Usu√°rios */}\n      <Paper className={classes.paper}>\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Typography variant=\"h6\" className={classes.sectionTitle}>\n            <PersonIcon />\n            Anivers√°rios de Usu√°rios\n          </Typography>\n          <IconButton\n            className={`${classes.expandButton} ${\n              expandedSections.user ? classes.expandButtonOpen : \"\"\n            }`}\n            onClick={() => toggleSection(\"user\")}\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </Box>\n\n        <Collapse in={expandedSections.user}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={settings?.userBirthdayEnabled || false}\n                    onChange={(e) => handleSettingChange(\"userBirthdayEnabled\", e.target.checked)}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Habilitar notifica√ß√µes de anivers√°rio de usu√°rios\"\n              />\n              <Typography className={classes.helpText}>\n                Quando habilitado, ser√° exibido modal de parab√©ns e criado informativo autom√°tico\n              </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={settings?.createAnnouncementForUsers || false}\n                    onChange={(e) => handleSettingChange(\"createAnnouncementForUsers\", e.target.checked)}\n                    color=\"primary\"\n                    disabled={!settings?.userBirthdayEnabled}\n                  />\n                }\n                label=\"Criar informativo autom√°tico para anivers√°rios de usu√°rios\"\n              />\n              <Typography className={classes.helpText}>\n                Cria um informativo autom√°tico que √© exibido para todos os usu√°rios da empresa\n              </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                multiline\n                rows={3}\n                label=\"Mensagem de anivers√°rio para usu√°rios\"\n                value={settings?.userBirthdayMessage || \"\"}\n                onChange={(e) => handleSettingChange(\"userBirthdayMessage\", e.target.value)}\n                disabled={!settings?.userBirthdayEnabled}\n                className={classes.messageField}\n                helperText=\"Use {nome} para incluir o nome do usu√°rio\"\n              />\n              {renderMessagePreview(settings?.userBirthdayMessage, \"user\")}\n            </Grid>\n          </Grid>\n        </Collapse>\n      </Paper>\n\n      {/* Configura√ß√µes de Contatos */}\n      <Paper className={classes.paper}>\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Typography variant=\"h6\" className={classes.sectionTitle}>\n            <PhoneIcon />\n            Anivers√°rios de Contatos\n          </Typography>\n          <IconButton\n            className={`${classes.expandButton} ${\n              expandedSections.contact ? classes.expandButtonOpen : \"\"\n            }`}\n            onClick={() => toggleSection(\"contact\")}\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </Box>\n\n        <Collapse in={expandedSections.contact}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={settings?.contactBirthdayEnabled || false}\n                    onChange={(e) => handleSettingChange(\"contactBirthdayEnabled\", e.target.checked)}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Habilitar envio autom√°tico de mensagens de anivers√°rio para contatos\"\n              />\n              <Typography className={classes.helpText}>\n                Envia automaticamente mensagem de parab√©ns via WhatsApp para contatos aniversariantes\n              </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                multiline\n                rows={4}\n                label=\"Mensagem de anivers√°rio para contatos\"\n                value={settings?.contactBirthdayMessage || \"\"}\n                onChange={(e) => handleSettingChange(\"contactBirthdayMessage\", e.target.value)}\n                disabled={!settings?.contactBirthdayEnabled}\n                className={classes.messageField}\n                helperText=\"Use {nome} para incluir o nome do contato e {idade} para a idade\"\n              />\n              {renderMessagePreview(settings?.contactBirthdayMessage, \"contact\")}\n              \n              {settings?.contactBirthdayEnabled && (\n                <Button\n                  variant=\"contained\"\n                  className={classes.testButton}\n                  startIcon={<TestIcon />}\n                  onClick={() => handleTestMessage(\"contact\")}\n                  size=\"small\"\n                  style={{ marginTop: 8 }}\n                >\n                  Testar Mensagem\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </Collapse>\n      </Paper>\n\n      {/* Configura√ß√µes Gerais */}\n      <Paper className={classes.paper}>\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Typography variant=\"h6\" className={classes.sectionTitle}>\n            <ScheduleIcon />\n            Configura√ß√µes Gerais\n          </Typography>\n          <IconButton\n            className={`${classes.expandButton} ${\n              expandedSections.general ? classes.expandButtonOpen : \"\"\n            }`}\n            onClick={() => toggleSection(\"general\")}\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </Box>\n\n        <Collapse in={expandedSections.general}>\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                type=\"time\"\n                label=\"Hor√°rio de envio das mensagens\"\n                value={settings?.sendBirthdayTime || \"09:00:00\"}\n                onChange={(e) => {\n                  // Converter HH:MM para HH:MM:SS para compatibilidade com backend\n                  const timeValue = e.target.value;\n                  const formattedTime = timeValue ? `${timeValue}:00` : \"09:00:00\";\n                  handleSettingChange(\"sendBirthdayTime\", formattedTime);\n                }}\n                className={classes.timeField}\n                InputLabelProps={{ shrink: true }}\n                helperText=\"Hor√°rio em que as mensagens autom√°ticas ser√£o enviadas\"\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <FormControl fullWidth>\n                <InputLabel>Conex√£o WhatsApp para Envio</InputLabel>\n             <Select\n               value={settings?.whatsappId || \"\"}\n               onChange={(e) => handleSettingChange(\"whatsappId\", e.target.value || null)}\n               label=\"Conex√£o WhatsApp para Envio\"\n               disabled={!settings?.contactBirthdayEnabled}\n             >\n                  <MenuItem value=\"\">\n                    <em>Selecione uma conex√£o</em>\n                  </MenuItem>\n                  {whatsApps?.length > 0 &&\n                    whatsApps.map((whatsapp) => (\n                      <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                        <Box display=\"flex\" alignItems=\"center\">\n                          <Box\n                            width={8}\n                            height={8}\n                            borderRadius=\"50%\"\n                            bgcolor={whatsapp.status === \"CONNECTED\" ? \"success.main\" : \"error.main\"}\n                            mr={1}\n                          />\n                          {whatsapp.name} ({whatsapp.status})\n                        </Box>\n                      </MenuItem>\n                    ))}\n                </Select>\n                <Typography className={classes.helpText}>\n                  Conex√£o WhatsApp que ser√° usada para enviar mensagens de anivers√°rio\n                </Typography>\n              </FormControl>\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={settings?.createAnnouncementForUsers || false}\n                    onChange={(e) => handleSettingChange(\"createAnnouncementForUsers\", e.target.checked)}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Criar informativo interno para anivers√°rios de usu√°rios\"\n              />\n              <Typography className={classes.helpText}>\n                Cria um informativo interno quando um usu√°rio faz anivers√°rio\n              </Typography>\n            </Grid>\n          </Grid>\n\n          <Box className={classes.infoBox}>\n            <InfoIcon className={classes.infoIcon} />\n            <Box className={classes.infoContent}>\n              <Typography variant=\"body2\" style={{ fontWeight: 600, marginBottom: 8 }}>\n                Vari√°veis dispon√≠veis nas mensagens:\n              </Typography>\n              <Typography variant=\"body2\" component=\"div\">\n                ‚Ä¢ <code>{\"{nome}\"}</code> - Nome da pessoa<br/>\n                ‚Ä¢ <code>{\"{idade}\"}</code> - Idade da pessoa (apenas para contatos)\n              </Typography>\n            </Box>\n          </Box>\n        </Collapse>\n      </Paper>\n\n      {/* Bot√£o Salvar */}\n      <Box textAlign=\"center\" mt={3}>\n        <Button\n          variant=\"contained\"\n          className={classes.saveButton}\n          startIcon={<SaveIcon />}\n          onClick={handleSave}\n          disabled={saving}\n          size=\"large\"\n        >\n          {saving ? \"Salvando...\" : \"Salvar Configura√ß√µes\"}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default BirthdaySettings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}