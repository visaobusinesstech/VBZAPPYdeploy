{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useReducer,useContext}from\"react\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import{useTheme}from\"@material-ui/core/styles\";import useMediaQuery from\"@material-ui/core/useMediaQuery\";import Paper from\"@material-ui/core/Paper\";import TextField from\"@material-ui/core/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment\";import Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";import SearchIcon from\"@material-ui/icons/Search\";import{AddCircle,Build,ContentCopy,DevicesFold,MoreVert,Edit,Delete,PlayArrow,Pause}from\"@mui/icons-material\";import{Button,CircularProgress,Stack,Box,Typography,Chip,IconButton,Menu,MenuItem,Container,Fab,useScrollTrigger,Slide,AppBar,Toolbar,Divider,Avatar}from\"@mui/material\";import api from\"../../services/api\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import ContactModal from\"../../components/ContactModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import FlowBuilderModal from\"../../components/FlowBuilderModal\";import{i18n}from\"../../translate/i18n\";import MainHeader from\"../../components/MainHeader\";import Title from\"../../components/Title\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import MainContainer from\"../../components/MainContainer\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{Can}from\"../../components/Can\";import NewTicketModal from\"../../components/NewTicketModal\";import{SocketContext}from\"../../context/Socket/SocketContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const reducer=(state,action)=>{if(action.type===\"LOAD_CONTACTS\"){const contacts=action.payload;const newContacts=[];contacts.forEach(contact=>{const contactIndex=state.findIndex(c=>c.id===contact.id);if(contactIndex!==-1){state[contactIndex]=contact;}else{newContacts.push(contact);}});return[...state,...newContacts];}if(action.type===\"UPDATE_CONTACTS\"){const contact=action.payload;const contactIndex=state.findIndex(c=>c.id===contact.id);if(contactIndex!==-1){state[contactIndex]=contact;return[...state];}else{return[contact,...state];}}if(action.type===\"DELETE_CONTACT\"){const contactId=action.payload;const contactIndex=state.findIndex(c=>c.id===contactId);if(contactIndex!==-1){state.splice(contactIndex,1);}return[...state];}if(action.type===\"RESET\"){return[];}};const useStyles=makeStyles(theme=>({root:{backgroundColor:theme.palette.background.default,minHeight:'100vh'},mainContainer:{maxWidth:1200,margin:'0 auto',padding:theme.spacing(3),[theme.breakpoints.down('sm')]:{padding:theme.spacing(1)}},mainPaper:_objectSpread(_objectSpread({flex:1,padding:theme.spacing(2),overflowY:\"scroll\"},theme.scrollbarStyles),{},{backgroundColor:theme.palette.background.paper,borderRadius:16,marginTop:theme.spacing(2),border:\"1px solid \".concat(theme.palette.divider)}),header:{backgroundColor:theme.palette.background.paper,boxShadow:theme.shadows[1],borderRadius:16,padding:theme.spacing(3),marginBottom:theme.spacing(3),border:\"1px solid \".concat(theme.palette.divider),[theme.breakpoints.down('sm')]:{padding:theme.spacing(2),marginBottom:theme.spacing(2),borderRadius:12}},title:{fontSize:'1.75rem',fontWeight:700,color:theme.palette.text.primary,margin:0,[theme.breakpoints.down('sm')]:{fontSize:'1.5rem'}},searchContainer:{backgroundColor:theme.palette.background.paper,borderRadius:16,padding:theme.spacing(2),marginBottom:theme.spacing(3),boxShadow:theme.shadows[1],border:\"1px solid \".concat(theme.palette.divider),[theme.breakpoints.down('sm')]:{padding:theme.spacing(1.5),marginBottom:theme.spacing(2),borderRadius:12}},searchField:{'& .MuiOutlinedInput-root':{backgroundColor:theme.palette.type==='dark'?theme.palette.grey[800]:theme.palette.grey[50],borderRadius:12,'& fieldset':{border:'none'},'&:hover':{backgroundColor:theme.palette.type==='dark'?theme.palette.grey[700]:theme.palette.grey[100]},'&.Mui-focused':{backgroundColor:theme.palette.background.paper,boxShadow:theme.palette.type==='dark'?'0 0 0 3px rgba(144, 202, 249, 0.16)':'0 0 0 3px rgba(25, 118, 210, 0.12)'}},'& .MuiInputBase-input':{color:theme.palette.text.primary,fontSize:'0.95rem'}},flowCard:{backgroundColor:theme.palette.background.paper,borderRadius:16,marginBottom:theme.spacing(2),border:\"1px solid \".concat(theme.palette.divider),transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',cursor:'pointer','&:hover':{transform:'translateY(-2px)',boxShadow:theme.shadows[4],borderColor:theme.palette.primary.light},[theme.breakpoints.down('sm')]:{marginBottom:theme.spacing(1.5),borderRadius:12}},flowCardContent:{padding:theme.spacing(3),'&:last-child':{paddingBottom:theme.spacing(3)},[theme.breakpoints.down('sm')]:{padding:theme.spacing(2),'&:last-child':{paddingBottom:theme.spacing(2)}}},flowIcon:{width:48,height:48,backgroundColor:theme.palette.primary.main,borderRadius:12,display:'flex',alignItems:'center',justifyContent:'center',marginRight:theme.spacing(2),[theme.breakpoints.down('sm')]:{width:40,height:40,marginRight:theme.spacing(1.5)}},flowName:{fontSize:'1.125rem',fontWeight:600,color:theme.palette.text.primary,lineHeight:1.4,[theme.breakpoints.down('sm')]:{fontSize:'1rem'}},flowActions:{display:'flex',alignItems:'center',gap:theme.spacing(1),marginTop:theme.spacing(2),[theme.breakpoints.down('sm')]:{marginTop:theme.spacing(1.5)}},statusChip:{fontWeight:500,borderRadius:8,'&.active':{backgroundColor:theme.palette.type==='dark'?'#1b5e20':'#e8f5e8',color:theme.palette.type==='dark'?'#4caf50':'#2e7d32',border:\"1px solid \".concat(theme.palette.type==='dark'?'#2e7d32':'#c8e6c9')},'&.inactive':{backgroundColor:theme.palette.type==='dark'?'#b71c1c':'#ffebee',color:theme.palette.type==='dark'?'#f44336':'#c62828',border:\"1px solid \".concat(theme.palette.type==='dark'?'#c62828':'#ffcdd2')}},actionButton:{minWidth:40,width:40,height:40,borderRadius:10,color:theme.palette.text.secondary,'&:hover':{backgroundColor:theme.palette.action.hover,color:theme.palette.primary.main},[theme.breakpoints.down('sm')]:{minWidth:36,width:36,height:36}},menuButton:{minWidth:40,width:40,height:40,borderRadius:10,color:theme.palette.text.secondary,border:\"1px solid \".concat(theme.palette.divider),'&:hover':{backgroundColor:theme.palette.action.hover,borderColor:theme.palette.text.secondary}},emptyState:{textAlign:'center',padding:theme.spacing(6),backgroundColor:theme.palette.background.paper,borderRadius:16,border:\"1px solid \".concat(theme.palette.divider),[theme.breakpoints.down('sm')]:{padding:theme.spacing(4)}},emptyIcon:{fontSize:64,color:theme.palette.text.disabled,marginBottom:theme.spacing(2)},emptyTitle:{fontSize:'1.25rem',fontWeight:600,color:theme.palette.text.primary,marginBottom:theme.spacing(1)},emptyDescription:{color:theme.palette.text.secondary,fontSize:'0.95rem'},addButton:{backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,borderRadius:12,padding:theme.spacing(1.5,3),textTransform:'none',fontWeight:600,fontSize:'0.95rem',boxShadow:theme.shadows[3],'&:hover':{backgroundColor:theme.palette.primary.dark,boxShadow:theme.shadows[6]},[theme.breakpoints.down('sm')]:{padding:theme.spacing(1.2,2.5)}},fab:{position:'fixed',bottom:theme.spacing(3),right:theme.spacing(3),backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,width:64,height:64,boxShadow:theme.shadows[6],'&:hover':{backgroundColor:theme.palette.primary.dark,boxShadow:theme.shadows[12]},[theme.breakpoints.down('sm')]:{bottom:theme.spacing(2),right:theme.spacing(2),width:56,height:56}},loadingContainer:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:200,backgroundColor:theme.palette.background.paper,borderRadius:16,border:\"1px solid \".concat(theme.palette.divider)},menu:{'& .MuiPaper-root':{borderRadius:12,border:\"1px solid \".concat(theme.palette.divider),boxShadow:theme.shadows[8],minWidth:180,backgroundColor:theme.palette.background.paper},'& .MuiMenuItem-root':{padding:theme.spacing(1.5,2),fontSize:'0.9rem',color:theme.palette.text.primary,'&:hover':{backgroundColor:theme.palette.action.hover}}}}));function HideOnScroll(_ref){let{children}=_ref;const trigger=useScrollTrigger();return/*#__PURE__*/_jsx(Slide,{appear:false,direction:\"up\",in:!trigger,children:children});}function FlowCard(_ref2){let{flow,onEdit,onDuplicate,onDelete,onNavigate,classes}=_ref2;const[anchorEl,setAnchorEl]=useState(null);const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const handleMenuOpen=event=>{event.stopPropagation();setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const handleAction=action=>{handleMenuClose();// Usar setTimeout para garantir que o menu feche antes de executar a ação\nsetTimeout(()=>{action();},100);};const handleCardClick=event=>{// Verifica se o clique foi em um botão de ação\nif(event.target.closest('button')||event.target.closest('[role=\"button\"]')){return;}onNavigate(flow.id);};const handleEditClick=event=>{event.stopPropagation();onEdit();};const handleDuplicateClick=event=>{event.stopPropagation();onDuplicate();};return/*#__PURE__*/_jsx(Card,{className:classes.flowCard,onClick:handleCardClick,children:/*#__PURE__*/_jsxs(CardContent,{className:classes.flowCardContent,children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"flex-start\",spacing:2,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.flowIcon,children:/*#__PURE__*/_jsx(DevicesFold,{style:{color:theme.palette.primary.contrastText,fontSize:isMobile?20:24}})}),/*#__PURE__*/_jsxs(Box,{flex:1,children:[/*#__PURE__*/_jsx(Typography,{className:classes.flowName,children:flow.name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.flowActions,children:[/*#__PURE__*/_jsx(Chip,{size:\"small\",label:flow.active?\"Ativo\":\"Inativo\",className:\"\".concat(classes.statusChip,\" \").concat(flow.active?'active':'inactive'),icon:flow.active?/*#__PURE__*/_jsx(PlayArrow,{}):/*#__PURE__*/_jsx(Pause,{})}),/*#__PURE__*/_jsx(Box,{flex:1}),/*#__PURE__*/_jsx(IconButton,{className:classes.actionButton,onClick:handleEditClick,size:\"small\",children:/*#__PURE__*/_jsx(Edit,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{className:classes.actionButton,onClick:handleDuplicateClick,size:\"small\",children:/*#__PURE__*/_jsx(ContentCopy,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{className:classes.menuButton,onClick:handleMenuOpen,size:\"small\",children:/*#__PURE__*/_jsx(MoreVert,{fontSize:\"small\"})})]})]})]}),/*#__PURE__*/_jsxs(Menu,{className:classes.menu,anchorEl:anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:event=>{event.stopPropagation();handleAction(()=>onNavigate(flow.id));},children:[/*#__PURE__*/_jsx(Build,{fontSize:\"small\",style:{marginRight:12,color:theme.palette.text.secondary}}),\"Abrir fluxo\"]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:event=>{event.stopPropagation();handleAction(()=>onEdit());},children:[/*#__PURE__*/_jsx(Edit,{fontSize:\"small\",style:{marginRight:12,color:theme.palette.text.secondary}}),\"Editar fluxo\"]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:event=>{event.stopPropagation();handleAction(()=>onDelete());},children:[/*#__PURE__*/_jsx(Delete,{fontSize:\"small\",style:{marginRight:12,color:theme.palette.error.main}}),\"Excluir fluxo\"]})]})]})});}const FlowBuilder=()=>{const classes=useStyles();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const history=useHistory();const[loading,setLoading]=useState(false);const[pageNumber,setPageNumber]=useState(1);const[searchParam,setSearchParam]=useState(\"\");const[contacts,dispatch]=useReducer(reducer,[]);const[webhooks,setWebhooks]=useState([]);const[selectedContactId,setSelectedContactId]=useState(null);const[selectedWebhookName,setSelectedWebhookName]=useState(null);const[contactModalOpen,setContactModalOpen]=useState(false);const[newTicketModalOpen,setNewTicketModalOpen]=useState(false);const[contactTicket,setContactTicket]=useState({});const[deletingContact,setDeletingContact]=useState(null);const[confirmOpen,setConfirmOpen]=useState(false);const[confirmDuplicateOpen,setConfirmDuplicateOpen]=useState(false);const[hasMore,setHasMore]=useState(false);const[reloadData,setReloadData]=useState(false);const{user,socket}=useContext(AuthContext);useEffect(()=>{dispatch({type:\"RESET\"});setPageNumber(1);},[searchParam]);useEffect(()=>{setLoading(true);const delayDebounceFn=setTimeout(()=>{const fetchContacts=async()=>{try{const{data}=await api.get(\"/flowbuilder\");setWebhooks(data.flows);dispatch({type:\"LOAD_CONTACTS\",payload:data.flows});setHasMore(data.hasMore);setLoading(false);}catch(err){toastError(err);setLoading(false);}};fetchContacts();},500);return()=>clearTimeout(delayDebounceFn);},[searchParam,pageNumber,reloadData]);useEffect(()=>{const companyId=user.companyId;const onContact=data=>{if(data.action===\"update\"||data.action===\"create\"){dispatch({type:\"UPDATE_CONTACTS\",payload:data.contact});}if(data.action===\"delete\"){dispatch({type:\"DELETE_CONTACT\",payload:+data.contactId});}};socket.on(\"company-\".concat(companyId,\"-contact\"),onContact);return()=>{socket.disconnect();};},[]);const handleSearch=event=>{setSearchParam(event.target.value.toLowerCase());};const handleOpenContactModal=()=>{setSelectedContactId(null);setContactModalOpen(true);};const handleCloseContactModal=()=>{setSelectedContactId(null);setContactModalOpen(false);};const handleCloseOrOpenTicket=ticket=>{setNewTicketModalOpen(false);if(ticket!==undefined&&ticket.uuid!==undefined){history.push(\"/tickets/\".concat(ticket.uuid));}};const handleEditContact=contact=>{setSelectedContactId(contact.id);setSelectedWebhookName(contact.name);setContactModalOpen(true);};const handleDeleteWebhook=async webhookId=>{try{await api.delete(\"/flowbuilder/\".concat(webhookId));setDeletingContact(null);setConfirmOpen(false);setReloadData(old=>!old);toast.success(\"Fluxo excluído com sucesso\");}catch(err){toastError(err);}};const handleDuplicateFlow=async flowId=>{try{await api.post(\"/flowbuilder/duplicate\",{flowId:flowId});setDeletingContact(null);setConfirmDuplicateOpen(false);setReloadData(old=>!old);toast.success(\"Fluxo duplicado com sucesso\");}catch(err){toastError(err);}};const loadMore=()=>{setPageNumber(prevState=>prevState+1);};const handleScroll=e=>{if(!hasMore||loading)return;const{scrollTop,scrollHeight,clientHeight}=e.currentTarget;if(scrollHeight-(scrollTop+100)<clientHeight){loadMore();}};const filteredWebhooks=webhooks.filter(webhook=>webhook.name.toLowerCase().includes(searchParam.toLowerCase()));return/*#__PURE__*/_jsxs(MainContainer,{className:classes.mainContainer,children:[/*#__PURE__*/_jsx(NewTicketModal,{modalOpen:newTicketModalOpen,initialContact:contactTicket,onClose:ticket=>{handleCloseOrOpenTicket(ticket);}}),/*#__PURE__*/_jsx(FlowBuilderModal,{open:contactModalOpen,onClose:handleCloseContactModal,\"aria-labelledby\":\"form-dialog-title\",flowId:selectedContactId,nameWebhook:selectedWebhookName,onSave:()=>setReloadData(old=>!old)}),/*#__PURE__*/_jsx(ConfirmationModal,{title:deletingContact?\"Excluir fluxo \\\"\".concat(deletingContact.name,\"\\\"?\"):\"\".concat(i18n.t(\"contacts.confirmationModal.importTitlte\")),open:confirmOpen,onClose:setConfirmOpen,onConfirm:()=>{if(deletingContact){handleDeleteWebhook(deletingContact.id);}},children:deletingContact?\"Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita. Todas as integra\\xE7\\xF5es relacionadas ser\\xE3o perdidas.\":\"\".concat(i18n.t(\"contacts.confirmationModal.importMessage\"))}),/*#__PURE__*/_jsx(ConfirmationModal,{title:deletingContact?\"Duplicar fluxo \\\"\".concat(deletingContact.name,\"\\\"?\"):\"\".concat(i18n.t(\"contacts.confirmationModal.importTitlte\")),open:confirmDuplicateOpen,onClose:setConfirmDuplicateOpen,onConfirm:()=>{if(deletingContact){handleDuplicateFlow(deletingContact.id);}},children:deletingContact?\"Uma c\\xF3pia do fluxo ser\\xE1 criada para voc\\xEA editar.\":\"\".concat(i18n.t(\"contacts.confirmationModal.importMessage\"))}),/*#__PURE__*/_jsxs(MainHeader,{children:[/*#__PURE__*/_jsxs(Title,{children:[\"Fluxos de Conversa (\",webhooks.length,\")\"]}),/*#__PURE__*/_jsxs(MainHeaderButtonsWrapper,{children:[/*#__PURE__*/_jsx(TextField,{className:classes.searchField,placeholder:\"Buscar fluxos...\",type:\"search\",value:searchParam,onChange:handleSearch,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{style:{color:theme.palette.text.secondary}})})}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpenContactModal,children:\"Novo Fluxo\"})]})]}),/*#__PURE__*/_jsx(Paper,{className:classes.mainPaper,variant:\"outlined\",onScroll:handleScroll,children:loading&&!webhooks.length?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{style:{color:theme.palette.primary.main}})}):filteredWebhooks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:classes.emptyState,children:[/*#__PURE__*/_jsx(DevicesFold,{className:classes.emptyIcon}),/*#__PURE__*/_jsx(Typography,{className:classes.emptyTitle,children:searchParam?'Nenhum fluxo encontrado':'Nenhum fluxo criado ainda'}),/*#__PURE__*/_jsx(Typography,{className:classes.emptyDescription,children:searchParam?'Tente usar outros termos de pesquisa':'Crie seu primeiro fluxo de conversa para automatizar atendimentos'}),!searchParam&&/*#__PURE__*/_jsx(Button,{className:classes.addButton,onClick:handleOpenContactModal,startIcon:/*#__PURE__*/_jsx(AddCircle,{}),style:{marginTop:24},children:\"Criar Primeiro Fluxo\"})]}):/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[filteredWebhooks.map(flow=>/*#__PURE__*/_jsx(FlowCard,{flow:flow,classes:classes,onEdit:()=>handleEditContact(flow),onDuplicate:()=>{setDeletingContact(flow);setConfirmDuplicateOpen(true);},onDelete:()=>{setDeletingContact(flow);setConfirmOpen(true);},onNavigate:id=>history.push(\"/flowbuilder/\".concat(id))},flow.id)),loading&&webhooks.length>0&&/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",p:3,children:/*#__PURE__*/_jsx(CircularProgress,{size:24,style:{color:theme.palette.primary.main}})})]})}),isMobile&&/*#__PURE__*/_jsx(HideOnScroll,{children:/*#__PURE__*/_jsx(Fab,{className:classes.fab,onClick:handleOpenContactModal,\"aria-label\":\"Criar fluxo\",children:/*#__PURE__*/_jsx(AddCircle,{})})})]});};export default FlowBuilder;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","useTheme","useMediaQuery","Paper","TextField","InputAdornment","Card","CardContent","SearchIcon","AddCircle","Build","ContentCopy","DevicesFold","MoreVert","Edit","Delete","PlayArrow","Pause","Button","CircularProgress","Stack","Box","Typography","Chip","IconButton","Menu","MenuItem","Container","Fab","useScrollTrigger","Slide","AppBar","Toolbar","Divider","Avatar","api","TableRowSkeleton","ContactModal","ConfirmationModal","FlowBuilderModal","i18n","MainHeader","Title","MainHeaderButtonsWrapper","MainContainer","toastError","AuthContext","Can","NewTicketModal","SocketContext","jsx","_jsx","jsxs","_jsxs","reducer","state","action","type","contacts","payload","newContacts","forEach","contact","contactIndex","findIndex","c","id","push","contactId","splice","useStyles","theme","root","backgroundColor","palette","background","default","minHeight","mainContainer","maxWidth","margin","padding","spacing","breakpoints","down","mainPaper","_objectSpread","flex","overflowY","scrollbarStyles","paper","borderRadius","marginTop","border","concat","divider","header","boxShadow","shadows","marginBottom","title","fontSize","fontWeight","color","text","primary","searchContainer","searchField","grey","flowCard","transition","cursor","transform","borderColor","light","flowCardContent","paddingBottom","flowIcon","width","height","main","display","alignItems","justifyContent","marginRight","flowName","lineHeight","flowActions","gap","statusChip","actionButton","minWidth","secondary","hover","menuButton","emptyState","textAlign","emptyIcon","disabled","emptyTitle","emptyDescription","addButton","contrastText","textTransform","dark","fab","position","bottom","right","loadingContainer","menu","HideOnScroll","_ref","children","trigger","appear","direction","in","FlowCard","_ref2","flow","onEdit","onDuplicate","onDelete","onNavigate","classes","anchorEl","setAnchorEl","isMobile","handleMenuOpen","event","stopPropagation","currentTarget","handleMenuClose","handleAction","setTimeout","handleCardClick","target","closest","handleEditClick","handleDuplicateClick","className","onClick","style","name","size","label","active","icon","open","Boolean","onClose","error","FlowBuilder","history","loading","setLoading","pageNumber","setPageNumber","searchParam","setSearchParam","dispatch","webhooks","setWebhooks","selectedContactId","setSelectedContactId","selectedWebhookName","setSelectedWebhookName","contactModalOpen","setContactModalOpen","newTicketModalOpen","setNewTicketModalOpen","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","confirmDuplicateOpen","setConfirmDuplicateOpen","hasMore","setHasMore","reloadData","setReloadData","user","socket","delayDebounceFn","fetchContacts","data","get","flows","err","clearTimeout","companyId","onContact","on","disconnect","handleSearch","value","toLowerCase","handleOpenContactModal","handleCloseContactModal","handleCloseOrOpenTicket","ticket","undefined","uuid","handleEditContact","handleDeleteWebhook","webhookId","delete","old","success","handleDuplicateFlow","flowId","post","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","filteredWebhooks","filter","webhook","includes","modalOpen","initialContact","nameWebhook","onSave","t","onConfirm","length","placeholder","onChange","InputProps","startAdornment","variant","onScroll","startIcon","map","p"],"sources":["/home/deploy/atendechatop/frontend/src/pages/FlowBuilder/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport {\n  AddCircle,\n  Build,\n  ContentCopy,\n  DevicesFold,\n  MoreVert,\n  Edit,\n  Delete,\n  PlayArrow,\n  Pause,\n} from \"@mui/icons-material\";\n\nimport {\n  Button,\n  CircularProgress,\n  Stack,\n  Box,\n  Typography,\n  Chip,\n  IconButton,\n  Menu,\n  MenuItem,\n  Container,\n  Fab,\n  useScrollTrigger,\n  Slide,\n  AppBar,\n  Toolbar,\n  Divider,\n  Avatar,\n} from \"@mui/material\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    minHeight: '100vh',\n  },\n  mainContainer: {\n    maxWidth: 1200,\n    margin: '0 auto',\n    padding: theme.spacing(3),\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(1),\n    },\n  },\n  \n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 16,\n    marginTop: theme.spacing(2),\n    border: `1px solid ${theme.palette.divider}`,\n  },\n  \n  header: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[1],\n    borderRadius: 16,\n    padding: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    border: `1px solid ${theme.palette.divider}`,\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      borderRadius: 12,\n    },\n  },\n  title: {\n    fontSize: '1.75rem',\n    fontWeight: 700,\n    color: theme.palette.text.primary,\n    margin: 0,\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '1.5rem',\n    },\n  },\n  searchContainer: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 16,\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n    boxShadow: theme.shadows[1],\n    border: `1px solid ${theme.palette.divider}`,\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(1.5),\n      marginBottom: theme.spacing(2),\n      borderRadius: 12,\n    },\n  },\n  searchField: {\n    '& .MuiOutlinedInput-root': {\n      backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[800] : theme.palette.grey[50],\n      borderRadius: 12,\n      '& fieldset': {\n        border: 'none',\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[700] : theme.palette.grey[100],\n      },\n      '&.Mui-focused': {\n        backgroundColor: theme.palette.background.paper,\n        boxShadow: theme.palette.type === 'dark' \n          ? '0 0 0 3px rgba(144, 202, 249, 0.16)' \n          : '0 0 0 3px rgba(25, 118, 210, 0.12)',\n      },\n    },\n    '& .MuiInputBase-input': {\n      color: theme.palette.text.primary,\n      fontSize: '0.95rem',\n    },\n  },\n  flowCard: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 16,\n    marginBottom: theme.spacing(2),\n    border: `1px solid ${theme.palette.divider}`,\n    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'translateY(-2px)',\n      boxShadow: theme.shadows[4],\n      borderColor: theme.palette.primary.light,\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginBottom: theme.spacing(1.5),\n      borderRadius: 12,\n    },\n  },\n  flowCardContent: {\n    padding: theme.spacing(3),\n    '&:last-child': {\n      paddingBottom: theme.spacing(3),\n    },\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(2),\n      '&:last-child': {\n        paddingBottom: theme.spacing(2),\n      },\n    },\n  },\n  flowIcon: {\n    width: 48,\n    height: 48,\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: 12,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      width: 40,\n      height: 40,\n      marginRight: theme.spacing(1.5),\n    },\n  },\n  flowName: {\n    fontSize: '1.125rem',\n    fontWeight: 600,\n    color: theme.palette.text.primary,\n    lineHeight: 1.4,\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '1rem',\n    },\n  },\n  flowActions: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n    marginTop: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      marginTop: theme.spacing(1.5),\n    },\n  },\n  statusChip: {\n    fontWeight: 500,\n    borderRadius: 8,\n    '&.active': {\n      backgroundColor: theme.palette.type === 'dark' ? '#1b5e20' : '#e8f5e8',\n      color: theme.palette.type === 'dark' ? '#4caf50' : '#2e7d32',\n      border: `1px solid ${theme.palette.type === 'dark' ? '#2e7d32' : '#c8e6c9'}`,\n    },\n    '&.inactive': {\n      backgroundColor: theme.palette.type === 'dark' ? '#b71c1c' : '#ffebee',\n      color: theme.palette.type === 'dark' ? '#f44336' : '#c62828',\n      border: `1px solid ${theme.palette.type === 'dark' ? '#c62828' : '#ffcdd2'}`,\n    },\n  },\n  actionButton: {\n    minWidth: 40,\n    width: 40,\n    height: 40,\n    borderRadius: 10,\n    color: theme.palette.text.secondary,\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      color: theme.palette.primary.main,\n    },\n    [theme.breakpoints.down('sm')]: {\n      minWidth: 36,\n      width: 36,\n      height: 36,\n    },\n  },\n  menuButton: {\n    minWidth: 40,\n    width: 40,\n    height: 40,\n    borderRadius: 10,\n    color: theme.palette.text.secondary,\n    border: `1px solid ${theme.palette.divider}`,\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      borderColor: theme.palette.text.secondary,\n    },\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: theme.spacing(6),\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 16,\n    border: `1px solid ${theme.palette.divider}`,\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(4),\n    },\n  },\n  emptyIcon: {\n    fontSize: 64,\n    color: theme.palette.text.disabled,\n    marginBottom: theme.spacing(2),\n  },\n  emptyTitle: {\n    fontSize: '1.25rem',\n    fontWeight: 600,\n    color: theme.palette.text.primary,\n    marginBottom: theme.spacing(1),\n  },\n  emptyDescription: {\n    color: theme.palette.text.secondary,\n    fontSize: '0.95rem',\n  },\n  addButton: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    borderRadius: 12,\n    padding: theme.spacing(1.5, 3),\n    textTransform: 'none',\n    fontWeight: 600,\n    fontSize: '0.95rem',\n    boxShadow: theme.shadows[3],\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark,\n      boxShadow: theme.shadows[6],\n    },\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(1.2, 2.5),\n    },\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    width: 64,\n    height: 64,\n    boxShadow: theme.shadows[6],\n    '&:hover': {\n      backgroundColor: theme.palette.primary.dark,\n      boxShadow: theme.shadows[12],\n    },\n    [theme.breakpoints.down('sm')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      width: 56,\n      height: 56,\n    },\n  },\n  loadingContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 16,\n    border: `1px solid ${theme.palette.divider}`,\n  },\n  menu: {\n    '& .MuiPaper-root': {\n      borderRadius: 12,\n      border: `1px solid ${theme.palette.divider}`,\n      boxShadow: theme.shadows[8],\n      minWidth: 180,\n      backgroundColor: theme.palette.background.paper,\n    },\n    '& .MuiMenuItem-root': {\n      padding: theme.spacing(1.5, 2),\n      fontSize: '0.9rem',\n      color: theme.palette.text.primary,\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  },\n}));\n\nfunction HideOnScroll({ children }) {\n  const trigger = useScrollTrigger();\n  \n  return (\n    <Slide appear={false} direction=\"up\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nfunction FlowCard({ flow, onEdit, onDuplicate, onDelete, onNavigate, classes }) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const handleMenuOpen = (event) => {\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleAction = (action) => {\n    handleMenuClose();\n    // Usar setTimeout para garantir que o menu feche antes de executar a ação\n    setTimeout(() => {\n      action();\n    }, 100);\n  };\n\n  const handleCardClick = (event) => {\n    // Verifica se o clique foi em um botão de ação\n    if (event.target.closest('button') || event.target.closest('[role=\"button\"]')) {\n      return;\n    }\n    onNavigate(flow.id);\n  };\n\n  const handleEditClick = (event) => {\n    event.stopPropagation();\n    onEdit();\n  };\n\n  const handleDuplicateClick = (event) => {\n    event.stopPropagation();\n    onDuplicate();\n  };\n\n  return (\n    <Card className={classes.flowCard} onClick={handleCardClick}>\n      <CardContent className={classes.flowCardContent}>\n        <Stack direction=\"row\" alignItems=\"flex-start\" spacing={2}>\n          <div className={classes.flowIcon}>\n            <DevicesFold style={{ color: theme.palette.primary.contrastText, fontSize: isMobile ? 20 : 24 }} />\n          </div>\n          \n          <Box flex={1}>\n            <Typography className={classes.flowName}>\n              {flow.name}\n            </Typography>\n            \n            <div className={classes.flowActions}>\n              <Chip\n                size=\"small\"\n                label={flow.active ? \"Ativo\" : \"Inativo\"}\n                className={`${classes.statusChip} ${flow.active ? 'active' : 'inactive'}`}\n                icon={flow.active ? <PlayArrow /> : <Pause />}\n              />\n              \n              <Box flex={1} />\n              \n              <IconButton\n                className={classes.actionButton}\n                onClick={handleEditClick}\n                size=\"small\"\n              >\n                <Edit fontSize=\"small\" />\n              </IconButton>\n              \n              <IconButton\n                className={classes.actionButton}\n                onClick={handleDuplicateClick}\n                size=\"small\"\n              >\n                <ContentCopy fontSize=\"small\" />\n              </IconButton>\n              \n              <IconButton\n                className={classes.menuButton}\n                onClick={handleMenuOpen}\n                size=\"small\"\n              >\n                <MoreVert fontSize=\"small\" />\n              </IconButton>\n            </div>\n          </Box>\n        </Stack>\n        \n        <Menu\n          className={classes.menu}\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={handleMenuClose}\n        >\n          <MenuItem onClick={(event) => {\n            event.stopPropagation();\n            handleAction(() => onNavigate(flow.id));\n          }}>\n            <Build fontSize=\"small\" style={{ marginRight: 12, color: theme.palette.text.secondary }} />\n            Abrir fluxo\n          </MenuItem>\n          <Divider />\n          <MenuItem onClick={(event) => {\n            event.stopPropagation();\n            handleAction(() => onEdit());\n          }}>\n            <Edit fontSize=\"small\" style={{ marginRight: 12, color: theme.palette.text.secondary }} />\n            Editar fluxo\n          </MenuItem>\n          <Divider />\n          <MenuItem onClick={(event) => {\n            event.stopPropagation();\n            handleAction(() => onDelete());\n          }}>\n            <Delete fontSize=\"small\" style={{ marginRight: 12, color: theme.palette.error.main }} />\n            Excluir fluxo\n          </MenuItem>\n        </Menu>\n      </CardContent>\n    </Card>\n  );\n}\n\nconst FlowBuilder = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [webhooks, setWebhooks] = useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\n\n  const [hasMore, setHasMore] = useState(false);\n  const [reloadData, setReloadData] = useState(false);\n  const { user, socket } = useContext(AuthContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/flowbuilder\");\n          setWebhooks(data.flows);\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.flows });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n          setLoading(false);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, reloadData]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n\n    const onContact = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    };\n\n    socket.on(`company-${companyId}-contact`, onContact);\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleEditContact = (contact) => {\n    setSelectedContactId(contact.id);\n    setSelectedWebhookName(contact.name);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteWebhook = async (webhookId) => {\n    try {\n      await api.delete(`/flowbuilder/${webhookId}`);\n      setDeletingContact(null);\n      setConfirmOpen(false);\n      setReloadData((old) => !old);\n      toast.success(\"Fluxo excluído com sucesso\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleDuplicateFlow = async (flowId) => {\n    try {\n      await api.post(`/flowbuilder/duplicate`, { flowId: flowId });\n      setDeletingContact(null);\n      setConfirmDuplicateOpen(false);\n      setReloadData((old) => !old);\n      toast.success(\"Fluxo duplicado com sucesso\");\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const filteredWebhooks = webhooks.filter(webhook =>\n    webhook.name.toLowerCase().includes(searchParam.toLowerCase())\n  );\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      {/* Modais - mantendo todos originais */}\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      \n      <FlowBuilderModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        flowId={selectedContactId}\n        nameWebhook={selectedWebhookName}\n        onSave={() => setReloadData((old) => !old)}\n      />\n      \n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `Excluir fluxo \"${deletingContact.name}\"?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() => {\n          if (deletingContact) {\n            handleDeleteWebhook(deletingContact.id);\n          }\n        }}\n      >\n        {deletingContact\n          ? `Esta ação não pode ser desfeita. Todas as integrações relacionadas serão perdidas.`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      \n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `Duplicar fluxo \"${deletingContact.name}\"?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmDuplicateOpen}\n        onClose={setConfirmDuplicateOpen}\n        onConfirm={() => {\n          if (deletingContact) {\n            handleDuplicateFlow(deletingContact.id);\n          }\n        }}\n      >\n        {deletingContact\n          ? `Uma cópia do fluxo será criada para você editar.`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n\n      {/* Header seguindo padrão da página Tags */}\n      <MainHeader>\n        <Title>Fluxos de Conversa ({webhooks.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            className={classes.searchField}\n            placeholder=\"Buscar fluxos...\"\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: theme.palette.text.secondary }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            Novo Fluxo\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        {loading && !webhooks.length ? (\n          <div className={classes.loadingContainer}>\n            <CircularProgress style={{ color: theme.palette.primary.main }} />\n          </div>\n        ) : filteredWebhooks.length === 0 ? (\n          <div className={classes.emptyState}>\n            <DevicesFold className={classes.emptyIcon} />\n            <Typography className={classes.emptyTitle}>\n              {searchParam ? 'Nenhum fluxo encontrado' : 'Nenhum fluxo criado ainda'}\n            </Typography>\n            <Typography className={classes.emptyDescription}>\n              {searchParam \n                ? 'Tente usar outros termos de pesquisa'\n                : 'Crie seu primeiro fluxo de conversa para automatizar atendimentos'\n              }\n            </Typography>\n            \n            {!searchParam && (\n              <Button\n                className={classes.addButton}\n                onClick={handleOpenContactModal}\n                startIcon={<AddCircle />}\n                style={{ marginTop: 24 }}\n              >\n                Criar Primeiro Fluxo\n              </Button>\n            )}\n          </div>\n        ) : (\n          <Stack spacing={2}>\n            {filteredWebhooks.map((flow) => (\n              <FlowCard\n                key={flow.id}\n                flow={flow}\n                classes={classes}\n                onEdit={() => handleEditContact(flow)}\n                onDuplicate={() => {\n                  setDeletingContact(flow);\n                  setConfirmDuplicateOpen(true);\n                }}\n                onDelete={() => {\n                  setDeletingContact(flow);\n                  setConfirmOpen(true);\n                }}\n                onNavigate={(id) => history.push(`/flowbuilder/${id}`)}\n              />\n            ))}\n\n            {loading && webhooks.length > 0 && (\n              <Box display=\"flex\" justifyContent=\"center\" p={3}>\n                <CircularProgress size={24} style={{ color: theme.palette.primary.main }} />\n              </Box>\n            )}\n          </Stack>\n        )}\n      </Paper>\n\n      {isMobile && (\n        <HideOnScroll>\n          <Fab\n            className={classes.fab}\n            onClick={handleOpenContactModal}\n            aria-label=\"Criar fluxo\"\n          >\n            <AddCircle />\n          </Fab>\n        </HideOnScroll>\n      )}\n    </MainContainer>\n  );\n};\n\nexport default FlowBuilder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}