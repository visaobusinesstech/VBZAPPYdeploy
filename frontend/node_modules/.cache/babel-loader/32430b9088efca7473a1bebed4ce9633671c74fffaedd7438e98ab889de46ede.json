{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext}from\"react\";import*as Yup from\"yup\";import{Formik,Form,Field}from\"formik\";import{toast}from\"react-toastify\";import{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{Colorize}from\"@material-ui/icons\";import{ColorBox}from'material-ui-color';import{i18n}from\"../../translate/i18n\";import api from\"../../services/api\";import toastError from\"../../errors/toastError\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{FormControl,IconButton,InputAdornment,InputLabel,MenuItem,Select,Box,Typography,Chip}from\"@material-ui/core\";import{Grid}from\"@material-ui/core\";import{AttachFile,Delete,CloudUpload}from\"@material-ui/icons\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{display:\"flex\",flexWrap:\"wrap\"},multFieldLine:{display:\"flex\",\"& > *:not(:last-child)\":{marginRight:theme.spacing(1)}},btnWrapper:{position:\"relative\"},buttonProgress:{color:green[500],position:\"absolute\",top:\"50%\",left:\"50%\",marginTop:-12,marginLeft:-12},formControl:{margin:theme.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},mediaUpload:{border:\"2px dashed \".concat(theme.palette.grey[300]),borderRadius:theme.shape.borderRadius,padding:theme.spacing(2),textAlign:'center',cursor:'pointer',transition:'border-color 0.3s','&:hover':{borderColor:theme.palette.primary.main}},mediaPreview:{marginTop:theme.spacing(1),display:'flex',flexWrap:'wrap',gap:theme.spacing(1)},mediaItem:{position:'relative',display:'inline-block'},mediaThumbnail:{width:60,height:60,objectFit:'cover',borderRadius:theme.shape.borderRadius},removeButton:{position:'absolute',top:-8,right:-8,backgroundColor:theme.palette.error.main,color:'white',width:20,height:20,minWidth:'auto','&:hover':{backgroundColor:theme.palette.error.dark}}}));const TagSchema=Yup.object().shape({name:Yup.string().min(3,\"Mensagem muito curta\").required(\"Obrigat√≥rio\")});const TagModal=_ref=>{let{open,onClose,tagId,kanban}=_ref;const classes=useStyles();const{user}=useContext(AuthContext);const[colorPickerModalOpen,setColorPickerModalOpen]=useState(false);const[lanes,setLanes]=useState([]);const[loading,setLoading]=useState(false);const[selectedLane,setSelectedLane]=useState(null);const[selectedRollbackLane,setSelectedRollbackLane]=useState(null);const initialState={name:\"\",color:getRandomHexColor(),kanban:kanban||0,timeLane:0,nextLaneId:0,greetingMessageLane:\"\",rollbackLaneId:0,mediaFiles:[]};const[formData,setFormData]=useState(initialState);useEffect(()=>{const fetchLanes=async()=>{try{const{data}=await api.get(\"/tags/\",{params:{kanban:1,tagId}});setLanes(data.tags);setLoading(false);}catch(err){toastError(err);setLoading(false);}};if(open){setLoading(true);fetchLanes();}},[open,tagId]);useEffect(()=>{const fetchTag=async()=>{try{const{data}=await api.get(\"/tags/\".concat(tagId));if(data){// Parsear mediaFiles se for uma string JSON\nlet parsedMediaFiles=[];if(data.mediaFiles){try{parsedMediaFiles=typeof data.mediaFiles==='string'?JSON.parse(data.mediaFiles):data.mediaFiles;// Garantir que os arquivos do backend tenham as propriedades corretas\nparsedMediaFiles=parsedMediaFiles.map(file=>_objectSpread(_objectSpread({},file),{},{// Se for arquivo do backend, mapear mimetype para type\ntype:file.mimetype||file.type,// Garantir que name existe\nname:file.originalname||file.name||'Arquivo sem nome'}));}catch(e){console.log('Erro ao parsear mediaFiles:',e);parsedMediaFiles=[];}}setFormData(prev=>_objectSpread(_objectSpread(_objectSpread({},initialState),data),{},{mediaFiles:parsedMediaFiles}));setSelectedLane(data.nextLaneId||null);setSelectedRollbackLane(data.rollbackLaneId||null);}}catch(err){toastError(err);}};if(open&&tagId){fetchTag();}else if(open){setFormData(initialState);setSelectedLane(null);setSelectedRollbackLane(null);}},[tagId,open]);const handleClose=()=>{setFormData(initialState);setColorPickerModalOpen(false);setSelectedLane(null);setSelectedRollbackLane(null);onClose();};const handleFileUpload=event=>{const files=Array.from(event.target.files);const validFiles=files.filter(file=>{const maxSize=10*1024*1024;// 10MB\nconst allowedTypes=['image/jpeg','image/png','image/gif','image/webp','application/pdf','audio/mpeg','audio/wav','audio/ogg','video/mp4','video/avi','video/mov','video/webm','application/x-ret'];if(file.size>maxSize){toast.error(\"Arquivo \".concat(file.name,\" \\xE9 muito grande. Tamanho m\\xE1ximo: 10MB\"));return false;}if(!allowedTypes.includes(file.type)){toast.error(\"Tipo de arquivo \".concat(file.type,\" n\\xE3o \\xE9 suportado\"));return false;}return true;});if(validFiles.length>0){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{mediaFiles:[...(Array.isArray(prev.mediaFiles)?prev.mediaFiles:[]),...validFiles]}));}};const handleRemoveFile=index=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{mediaFiles:(Array.isArray(prev.mediaFiles)?prev.mediaFiles:[]).filter((_,i)=>i!==index)}));};const getFileIcon=file=>{// Verificar se √© um arquivo do backend (tem mimetype) ou do frontend (tem type)\nconst fileType=file.mimetype||file.type;if(!fileType)return'üìé';if(fileType.startsWith('image/'))return'üñºÔ∏è';if(fileType==='application/pdf')return'üìÑ';if(fileType==='application/x-ret')return'üìÑ';if(fileType.startsWith('audio/'))return'üéµ';if(fileType.startsWith('video/'))return'üé•';return'üìé';};const formatFileSize=bytes=>{if(!bytes||bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};const handleSaveTag=async values=>{const formData=new FormData();// Adicionar campos b√°sicos\nformData.append('name',values.name);formData.append('color',values.color);formData.append('kanban',kanban);formData.append('timeLane',values.timeLane||0);formData.append('nextLaneId',selectedLane||0);formData.append('greetingMessageLane',values.greetingMessageLane||'');formData.append('rollbackLaneId',selectedRollbackLane||0);// Adicionar arquivos de m√≠dia\nif(values.mediaFiles&&Array.isArray(values.mediaFiles)&&values.mediaFiles.length>0){values.mediaFiles.forEach((file,index)=>{formData.append(\"mediaFiles\",file);});}try{if(tagId){await api.put(\"/tags/\".concat(tagId),formData,{headers:{'Content-Type':'multipart/form-data'}});}else{await api.post(\"/tags\",formData,{headers:{'Content-Type':'multipart/form-data'}});}toast.success(kanban===0?i18n.t(\"tagModal.success\"):i18n.t(\"tagModal.successKanban\"));handleClose();}catch(err){toastError(err);}};function getRandomHexColor(){// Gerar valores aleat√≥rios para os componentes de cor\nconst red=Math.floor(Math.random()*256);// Valor entre 0 e 255\nconst green=Math.floor(Math.random()*256);// Valor entre 0 e 255\nconst blue=Math.floor(Math.random()*256);// Valor entre 0 e 255\n// Converter os componentes de cor em uma cor hexadecimal\nconst hexColor=\"#\".concat(red.toString(16).padStart(2,'0')).concat(green.toString(16).padStart(2,'0')).concat(blue.toString(16).padStart(2,'0'));return hexColor;}return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,maxWidth:\"md\",fullWidth:true,scroll:\"paper\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:tagId?kanban===0?i18n.t(\"tagModal.title.edit\"):i18n.t(\"tagModal.title.editKanban\"):kanban===0?i18n.t(\"tagModal.title.add\"):i18n.t(\"tagModal.title.addKanban\")}),/*#__PURE__*/_jsx(Formik,{initialValues:formData,enableReinitialize:true,validationSchema:TagSchema,onSubmit:handleSaveTag,children:_ref2=>{let{touched,errors,isSubmitting,values,handleChange}=_ref2;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"tagModal.form.name\"),name:\"name\",fullWidth:true,error:touched.name&&Boolean(errors.name),helperText:touched.name&&errors.name,variant:\"outlined\",margin:\"dense\",autoFocus:true})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"tagModal.form.color\"),name:\"color\",fullWidth:true,variant:\"outlined\",margin:\"dense\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:values.color},className:classes.colorAdorment})}),endAdornment:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setColorPickerModalOpen(!colorPickerModalOpen),children:/*#__PURE__*/_jsx(Colorize,{})})}}),colorPickerModalOpen&&/*#__PURE__*/_jsx(ColorBox,{disableAlpha:true,hslGradient:false,style:{margin:'20px auto 0'},value:values.color,onChange:val=>{handleChange({target:{name:'color',value:\"#\".concat(val.hex)}});}})]}),kanban===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"tagModal.form.timeLane\"),name:\"timeLane\",fullWidth:true,variant:\"outlined\",margin:\"dense\",type:\"number\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"tagModal.form.nextLaneId\")}),/*#__PURE__*/_jsxs(Select,{value:selectedLane||'',onChange:e=>setSelectedLane(e.target.value),label:i18n.t(\"tagModal.form.nextLaneId\"),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\xA0\"}),lanes&&lanes.length>0&&lanes.map(lane=>/*#__PURE__*/_jsx(MenuItem,{value:lane.id,children:lane.name},lane.id))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Field,{as:TextField,label:i18n.t(\"tagModal.form.greetingMessageLane\"),name:\"greetingMessageLane\",fullWidth:true,multiline:true,rows:4,variant:\"outlined\",margin:\"dense\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:i18n.t(\"tagModal.form.mediaFiles\")}),/*#__PURE__*/_jsxs(Box,{className:classes.mediaUpload,onClick:()=>document.getElementById('media-upload').click(),children:[/*#__PURE__*/_jsx(CloudUpload,{style:{fontSize:40,color:'#666'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Clique para anexar m\\xEDdia (Imagem, PDF, \\xC1udio, V\\xEDdeo)\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:\"Tamanho m\\xE1ximo: 10MB por arquivo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"media-upload\",type:\"file\",multiple:true,accept:\"image/*,application/pdf,audio/*,video/*\",onChange:e=>{const files=Array.from(e.target.files||[]);const maxSize=10*1024*1024;// 10MB\nconst allowedTypes=['image/jpeg','image/png','image/gif','image/webp','application/pdf','audio/mpeg','audio/wav','audio/ogg','video/mp4','video/avi','video/mov','video/webm'];const validFiles=files.filter(file=>{if(file.size>maxSize){toast.error(\"Arquivo \".concat(file.name,\" \\xE9 muito grande. Tamanho m\\xE1ximo: 10MB\"));return false;}if(!allowedTypes.includes(file.type)){toast.error(\"Tipo de arquivo \".concat(file.type,\" n\\xE3o \\xE9 suportado\"));return false;}return true;});if(validFiles.length>0){const current=Array.isArray(values.mediaFiles)?values.mediaFiles:[];const next=[...current,...validFiles];// Update Formik state to avoid reinitializing the whole form\n// and losing typed fields\n// Also reset input to allow selecting the same file again\ne.target.value=null;return handleChange({target:{name:'mediaFiles',value:next}});}e.target.value=null;},style:{display:'none'}})]}),values.mediaFiles&&Array.isArray(values.mediaFiles)&&values.mediaFiles.length>0&&/*#__PURE__*/_jsx(Box,{className:classes.mediaPreview,children:values.mediaFiles.map((file,index)=>/*#__PURE__*/_jsx(Box,{className:classes.mediaItem,children:/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(AttachFile,{}),label:\"\".concat(getFileIcon(file),\" \").concat(file.originalname||file.name,\" (\").concat(formatFileSize(file.size),\")\"),onDelete:()=>{const current=Array.isArray(values.mediaFiles)?values.mediaFiles:[];const next=current.filter((_,i)=>i!==index);handleChange({target:{name:'mediaFiles',value:next}});},variant:\"outlined\",size:\"small\"})},index))})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",margin:\"dense\",fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:i18n.t(\"tagModal.form.rollbackLaneId\")}),/*#__PURE__*/_jsxs(Select,{value:selectedRollbackLane||'',onChange:e=>setSelectedRollbackLane(e.target.value),label:i18n.t(\"tagModal.form.rollbackLaneId\"),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\xA0\"}),lanes&&lanes.length>0&&lanes.map(lane=>/*#__PURE__*/_jsx(MenuItem,{value:lane.id,children:lane.name},lane.id))]})]})})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"secondary\",disabled:isSubmitting,variant:\"outlined\",children:i18n.t(\"tagModal.buttons.cancel\")}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",color:\"primary\",disabled:isSubmitting,variant:\"contained\",className:classes.btnWrapper,children:[tagId?i18n.t(\"tagModal.buttons.okEdit\"):i18n.t(\"tagModal.buttons.okAdd\"),isSubmitting&&/*#__PURE__*/_jsx(CircularProgress,{size:24,className:classes.buttonProgress})]})]})]});}})]})});};export default TagModal;","map":{"version":3,"names":["React","useState","useEffect","useContext","Yup","Formik","Form","Field","toast","makeStyles","green","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","CircularProgress","Colorize","ColorBox","i18n","api","toastError","AuthContext","FormControl","IconButton","InputAdornment","InputLabel","MenuItem","Select","Box","Typography","Chip","Grid","AttachFile","Delete","CloudUpload","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","theme","root","display","flexWrap","multFieldLine","marginRight","spacing","btnWrapper","position","buttonProgress","color","top","left","marginTop","marginLeft","formControl","margin","minWidth","colorAdorment","width","height","mediaUpload","border","concat","palette","grey","borderRadius","shape","padding","textAlign","cursor","transition","borderColor","primary","main","mediaPreview","gap","mediaItem","mediaThumbnail","objectFit","removeButton","right","backgroundColor","error","dark","TagSchema","object","name","string","min","required","TagModal","_ref","open","onClose","tagId","kanban","classes","user","colorPickerModalOpen","setColorPickerModalOpen","lanes","setLanes","loading","setLoading","selectedLane","setSelectedLane","selectedRollbackLane","setSelectedRollbackLane","initialState","getRandomHexColor","timeLane","nextLaneId","greetingMessageLane","rollbackLaneId","mediaFiles","formData","setFormData","fetchLanes","data","get","params","tags","err","fetchTag","parsedMediaFiles","JSON","parse","map","file","_objectSpread","type","mimetype","originalname","e","console","log","prev","handleClose","handleFileUpload","event","files","Array","from","target","validFiles","filter","maxSize","allowedTypes","size","includes","length","isArray","handleRemoveFile","index","_","i","getFileIcon","fileType","startsWith","formatFileSize","bytes","k","sizes","Math","floor","parseFloat","pow","toFixed","handleSaveTag","values","FormData","append","forEach","put","headers","post","success","t","red","random","blue","hexColor","toString","padStart","className","children","maxWidth","fullWidth","scroll","initialValues","enableReinitialize","validationSchema","onSubmit","_ref2","touched","errors","isSubmitting","handleChange","dividers","container","item","xs","as","label","Boolean","helperText","variant","autoFocus","InputProps","startAdornment","style","endAdornment","onClick","disableAlpha","hslGradient","value","onChange","val","hex","md","lane","id","multiline","rows","gutterBottom","document","getElementById","click","fontSize","multiple","accept","current","next","icon","onDelete","disabled"],"sources":["/home/deploy/codigologlow/frontend/src/components/TagModal/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { FormControl, IconButton, InputAdornment, InputLabel, MenuItem, Select, Box, Typography, Chip } from \"@material-ui/core\";\nimport { Grid } from \"@material-ui/core\";\nimport { AttachFile, Delete, CloudUpload } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n\tmediaUpload: {\n\t\tborder: `2px dashed ${theme.palette.grey[300]}`,\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tpadding: theme.spacing(2),\n\t\ttextAlign: 'center',\n\t\tcursor: 'pointer',\n\t\ttransition: 'border-color 0.3s',\n\t\t'&:hover': {\n\t\t\tborderColor: theme.palette.primary.main,\n\t\t},\n\t},\n\tmediaPreview: {\n\t\tmarginTop: theme.spacing(1),\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t\tgap: theme.spacing(1),\n\t},\n\tmediaItem: {\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tmediaThumbnail: {\n\t\twidth: 60,\n\t\theight: 60,\n\t\tobjectFit: 'cover',\n\t\tborderRadius: theme.shape.borderRadius,\n\t},\n\tremoveButton: {\n\t\tposition: 'absolute',\n\t\ttop: -8,\n\t\tright: -8,\n\t\tbackgroundColor: theme.palette.error.main,\n\t\tcolor: 'white',\n\t\twidth: 20,\n\t\theight: 20,\n\t\tminWidth: 'auto',\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.error.dark,\n\t\t},\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigat√≥rio\")\n});\n\nconst TagModal = ({ open, onClose, tagId, kanban }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [lanes, setLanes] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [selectedLane, setSelectedLane] = useState(null);\n\tconst [selectedRollbackLane, setSelectedRollbackLane] = useState(null);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: getRandomHexColor(),\n\t\tkanban: kanban || 0,\n\t\ttimeLane: 0,\n\t\tnextLaneId: 0,\n\t\tgreetingMessageLane: \"\",\n\t\trollbackLaneId: 0,\n\t\tmediaFiles: [],\n\t};\n\n\tconst [formData, setFormData] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst fetchLanes = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/tags/\", {\n\t\t\t\t\tparams: { kanban: 1, tagId },\n\t\t\t\t});\n\t\t\t\tsetLanes(data.tags);\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tif (open) {\n\t\t\tsetLoading(true);\n\t\t\tfetchLanes();\n\t\t}\n\t}, [open, tagId]);\n\n\tuseEffect(() => {\n\t\tconst fetchTag = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tif (data) {\n\t\t\t\t\t// Parsear mediaFiles se for uma string JSON\n\t\t\t\t\tlet parsedMediaFiles = [];\n\t\t\t\t\tif (data.mediaFiles) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tparsedMediaFiles = typeof data.mediaFiles === 'string' \n\t\t\t\t\t\t\t\t? JSON.parse(data.mediaFiles) \n\t\t\t\t\t\t\t\t: data.mediaFiles;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Garantir que os arquivos do backend tenham as propriedades corretas\n\t\t\t\t\t\t\tparsedMediaFiles = parsedMediaFiles.map(file => ({\n\t\t\t\t\t\t\t\t...file,\n\t\t\t\t\t\t\t\t// Se for arquivo do backend, mapear mimetype para type\n\t\t\t\t\t\t\t\ttype: file.mimetype || file.type,\n\t\t\t\t\t\t\t\t// Garantir que name existe\n\t\t\t\t\t\t\t\tname: file.originalname || file.name || 'Arquivo sem nome'\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log('Erro ao parsear mediaFiles:', e);\n\t\t\t\t\t\t\tparsedMediaFiles = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsetFormData(prev => ({ \n\t\t\t\t\t\t...initialState, \n\t\t\t\t\t\t...data, \n\t\t\t\t\t\tmediaFiles: parsedMediaFiles \n\t\t\t\t\t}));\n\t\t\t\t\tsetSelectedLane(data.nextLaneId || null);\n\t\t\t\t\tsetSelectedRollbackLane(data.rollbackLaneId || null);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tif (open && tagId) {\n\t\t\tfetchTag();\n\t\t} else if (open) {\n\t\t\tsetFormData(initialState);\n\t\t\tsetSelectedLane(null);\n\t\t\tsetSelectedRollbackLane(null);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetFormData(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tsetSelectedLane(null);\n\t\tsetSelectedRollbackLane(null);\n\t\tonClose();\n\t};\n\n\tconst handleFileUpload = (event) => {\n\t\tconst files = Array.from(event.target.files);\n\t\tconst validFiles = files.filter(file => {\n\t\t\tconst maxSize = 10 * 1024 * 1024; // 10MB\n\t\t\tconst allowedTypes = [\n\t\t\t\t'image/jpeg', 'image/png', 'image/gif', 'image/webp',\n\t\t\t\t'application/pdf',\n\t\t\t\t'audio/mpeg', 'audio/wav', 'audio/ogg',\n\t\t\t\t'video/mp4', 'video/avi', 'video/mov', 'video/webm',\n\t\t\t\t'application/x-ret'\n\t\t\t];\n\t\t\t\n\t\t\tif (file.size > maxSize) {\n\t\t\t\ttoast.error(`Arquivo ${file.name} √© muito grande. Tamanho m√°ximo: 10MB`);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (!allowedTypes.includes(file.type)) {\n\t\t\t\ttoast.error(`Tipo de arquivo ${file.type} n√£o √© suportado`);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\n\t\tif (validFiles.length > 0) {\n\t\t\tsetFormData(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaFiles: [...(Array.isArray(prev.mediaFiles) ? prev.mediaFiles : []), ...validFiles]\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst handleRemoveFile = (index) => {\n\t\tsetFormData(prev => ({\n\t\t\t...prev,\n\t\t\tmediaFiles: (Array.isArray(prev.mediaFiles) ? prev.mediaFiles : []).filter((_, i) => i !== index)\n\t\t}));\n\t};\n\n\tconst getFileIcon = (file) => {\n\t\t// Verificar se √© um arquivo do backend (tem mimetype) ou do frontend (tem type)\n\t\tconst fileType = file.mimetype || file.type;\n\t\tif (!fileType) return 'üìé';\n\t\t\n\t\tif (fileType.startsWith('image/')) return 'üñºÔ∏è';\n\t\tif (fileType === 'application/pdf') return 'üìÑ';\n\t\tif (fileType === 'application/x-ret') return 'üìÑ';\n\t\tif (fileType.startsWith('audio/')) return 'üéµ';\n\t\tif (fileType.startsWith('video/')) return 'üé•';\n\t\treturn 'üìé';\n\t};\n\n\tconst formatFileSize = (bytes) => {\n\t\tif (!bytes || bytes === 0) return '0 Bytes';\n\t\tconst k = 1024;\n\t\tconst sizes = ['Bytes', 'KB', 'MB', 'GB'];\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\t\treturn parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst formData = new FormData();\n\t\t\n\t\t// Adicionar campos b√°sicos\n\t\tformData.append('name', values.name);\n\t\tformData.append('color', values.color);\n\t\tformData.append('kanban', kanban);\n\t\tformData.append('timeLane', values.timeLane || 0);\n\t\tformData.append('nextLaneId', selectedLane || 0);\n\t\tformData.append('greetingMessageLane', values.greetingMessageLane || '');\n\t\tformData.append('rollbackLaneId', selectedRollbackLane || 0);\n\t\t\n\t\t// Adicionar arquivos de m√≠dia\n\t\tif (values.mediaFiles && Array.isArray(values.mediaFiles) && values.mediaFiles.length > 0) {\n\t\t\tvalues.mediaFiles.forEach((file, index) => {\n\t\t\t\tformData.append(`mediaFiles`, file);\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, formData, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", formData, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\ttoast.success(kanban === 0 ? i18n.t(\"tagModal.success\") : i18n.t(\"tagModal.successKanban\"));\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tfunction getRandomHexColor() {\n\t\t// Gerar valores aleat√≥rios para os componentes de cor\n\t\tconst red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\t\tconst green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\t\tconst blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\n\n\t\t// Converter os componentes de cor em uma cor hexadecimal\n\t\tconst hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\n\n\t\treturn hexColor;\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{tagId \n\t\t\t\t\t\t? kanban === 0 \n\t\t\t\t\t\t\t? i18n.t(\"tagModal.title.edit\")\n\t\t\t\t\t\t\t: i18n.t(\"tagModal.title.editKanban\")\n\t\t\t\t\t\t: kanban === 0\n\t\t\t\t\t\t\t? i18n.t(\"tagModal.title.add\")\n\t\t\t\t\t\t\t: i18n.t(\"tagModal.title.addKanban\")\n\t\t\t\t\t}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={formData}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={handleSaveTag}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, handleChange }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={values.color}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'color',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: `#${val.hex}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t{kanban === 1 && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.timeLane\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"timeLane\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.nextLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedLane || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedLane(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.nextLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes && lanes.length > 0 && lanes.map((lane) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.greetingMessageLane\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"greetingMessageLane\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.mediaFiles\")}\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n                                                <Box\n                                                    className={classes.mediaUpload}\n                                                    onClick={() => document.getElementById('media-upload').click()}\n                                                >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CloudUpload style={{ fontSize: 40, color: '#666' }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tClique para anexar m√≠dia (Imagem, PDF, √Åudio, V√≠deo)\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamanho m√°ximo: 10MB por arquivo\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"media-upload\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"image/*,application/pdf,audio/*,video/*\"\n                                                        onChange={e => {\n                                                            const files = Array.from(e.target.files || []);\n                                                            const maxSize = 10 * 1024 * 1024; // 10MB\n                                                            const allowedTypes = [\n                                                                'image/jpeg', 'image/png', 'image/gif', 'image/webp',\n                                                                'application/pdf',\n                                                                'audio/mpeg', 'audio/wav', 'audio/ogg',\n                                                                'video/mp4', 'video/avi', 'video/mov', 'video/webm'\n                                                            ];\n                                                            const validFiles = files.filter(file => {\n                                                                if (file.size > maxSize) {\n                                                                    toast.error(`Arquivo ${file.name} √© muito grande. Tamanho m√°ximo: 10MB`);\n                                                                    return false;\n                                                                }\n                                                                if (!allowedTypes.includes(file.type)) {\n                                                                    toast.error(`Tipo de arquivo ${file.type} n√£o √© suportado`);\n                                                                    return false;\n                                                                }\n                                                                return true;\n                                                            });\n                                                            if (validFiles.length > 0) {\n                                                                const current = Array.isArray(values.mediaFiles) ? values.mediaFiles : [];\n                                                                const next = [...current, ...validFiles];\n                                                                // Update Formik state to avoid reinitializing the whole form\n                                                                // and losing typed fields\n                                                                // Also reset input to allow selecting the same file again\n                                                                e.target.value = null;\n                                                                return handleChange({ target: { name: 'mediaFiles', value: next } });\n                                                            }\n                                                            e.target.value = null;\n                                                        }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n                                                {values.mediaFiles && Array.isArray(values.mediaFiles) && values.mediaFiles.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.mediaPreview}>\n                                                        {values.mediaFiles.map((file, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box key={index} className={classes.mediaItem}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<AttachFile />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={`${getFileIcon(file)} ${file.originalname || file.name} (${formatFileSize(file.size)})`}\n                                                                    onDelete={() => {\n                                                                        const current = Array.isArray(values.mediaFiles) ? values.mediaFiles : [];\n                                                                        const next = current.filter((_, i) => i !== index);\n                                                                        handleChange({ target: { name: 'mediaFiles', value: next } });\n                                                                    }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.rollbackLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedRollbackLane || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedRollbackLane(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.rollbackLaneId\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes && lanes.length > 0 && lanes.map((lane) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? i18n.t(\"tagModal.buttons.okEdit\")\n\t\t\t\t\t\t\t\t\t\t: i18n.t(\"tagModal.buttons.okAdd\")}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}