{"ast":null,"code":"import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from\"react\";import{Box,Button,TextField,IconButton,Autocomplete,Grid,Typography,Dialog,DialogTitle,DialogContent,DialogActions,Alert,Chip,FormControl,InputLabel,Select,MenuItem}from\"@mui/material\";import HttpIcon from\"@mui/icons-material/Http\";import PlayArrowIcon from\"@mui/icons-material/PlayArrow\";import SaveAltIcon from\"@mui/icons-material/SaveAlt\";import AddCircleOutlineIcon from\"@mui/icons-material/AddCircleOutline\";import DeleteOutlineIcon from\"@mui/icons-material/DeleteOutline\";import ContentCopyIcon from\"@mui/icons-material/ContentCopy\";import SettingsIcon from\"@mui/icons-material/Settings\";import TipsAndUpdatesIcon from\"@mui/icons-material/TipsAndUpdates\";import LinearScaleIcon from\"@mui/icons-material/LinearScale\";import OpenInFullIcon from\"@mui/icons-material/OpenInFull\";import CloseIcon from\"@mui/icons-material/Close\";import WebhookIcon from\"@mui/icons-material/Webhook\";import AceEditor from\"react-ace\";import\"ace-builds/src-noconflict/mode-json\";import\"ace-builds/src-noconflict/theme-github\";import ReactJson from\"react-json-view\";import axios from\"axios\";import{Handle}from\"react-flow-renderer\";import{useNodeStorage}from\"../../../stores/useNodeStorage\";import{toast}from\"react-toastify\";import api from\"../../../services/api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function getPaths(obj){let prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let paths=[];for(let key in obj){const currentPath=prefix?\"\".concat(prefix,\".\").concat(key):key;paths.push(currentPath);if(obj[key]!==null&&typeof obj[key]===\"object\"){paths=paths.concat(getPaths(obj[key],currentPath));}}return paths;}const HttpRequestNode=/*#__PURE__*/React.memo(_ref=>{let{data,id,selected}=_ref;// Estados existentes\nconst[url,setUrl]=useState((data===null||data===void 0?void 0:data.url)||\"\");const[method,setMethod]=useState((data===null||data===void 0?void 0:data.method)||\"GET\");const[requestBody,setRequestBody]=useState((data===null||data===void 0?void 0:data.requestBody)||\"{}\");const[headersString,setHeadersString]=useState((data===null||data===void 0?void 0:data.headersString)||\"\");const[queryParams,setQueryParams]=useState((data===null||data===void 0?void 0:data.queryParams)||[]);const[saveVariables,setSaveVariables]=useState((data===null||data===void 0?void 0:data.saveVariables)||[]);const[timeout,setTimeout]=useState((data===null||data===void 0?void 0:data.timeout)||10000);const[savedStatus,setSavedStatus]=useState('');const[response,setResponse]=useState(null);const[jsonPaths,setJsonPaths]=useState([]);const[showAdvanced,setShowAdvanced]=useState(false);const[showMapping,setShowMapping]=useState(saveVariables&&saveVariables.length>0);const[showSavePopup,setShowSavePopup]=useState(false);const[showFullEditor,setShowFullEditor]=useState(false);const[showFullResponse,setShowFullResponse]=useState(false);// Novos estados para presets\nconst[presets,setPresets]=useState([]);const[selectedPreset,setSelectedPreset]=useState(null);const[presetMode,setPresetMode]=useState(false);const[loadingPresets,setLoadingPresets]=useState(false);const storageItems=useNodeStorage();// Carregar presets disponíveis para a empresa\nuseEffect(()=>{loadPresets();},[]);const loadPresets=async()=>{try{setLoadingPresets(true);// A API já filtra por companyId baseado no token JWT\nconst response=await api.get('/preset-webhooks?isActive=true&includeSystem=true');setPresets(response.data.presets||[]);}catch(error){console.error('Erro ao carregar presets:',error);}finally{setLoadingPresets(false);}};const handlePresetChange=async(event,preset)=>{if(!preset){setSelectedPreset(null);setPresetMode(false);return;}try{setSelectedPreset(preset);setPresetMode(true);// Aplicar configuração do preset\nconst config=preset.configuration;setUrl(config.url||\"\");setMethod(config.method||\"GET\");setHeadersString(config.headers?JSON.stringify(config.headers,null,2):\"\");setQueryParams(config.queryParams||[]);setRequestBody(config.requestBody||\"{}\");setTimeout(config.timeout||30000);// Configurar variáveis de resposta do preset\nif(config.responseVariables&&config.responseVariables.length>0){const mappedVariables=config.responseVariables.map(rv=>({path:rv.path,variable:rv.variableName}));setSaveVariables(mappedVariables);setShowMapping(true);}// Atualizar dados do node\ndata.url=config.url||\"\";data.method=config.method||\"GET\";data.headersString=config.headers?JSON.stringify(config.headers,null,2):\"\";data.queryParams=config.queryParams||[];data.requestBody=config.requestBody||\"{}\";data.responseVariables=config.responseVariables||[];data.timeout=config.timeout||30000;data.presetId=preset.id;data.presetName=preset.name;data.presetProvider=preset.provider;}catch(error){console.error('Erro ao aplicar preset:',error);toast.error('Erro ao aplicar configuração do preset');}};const clearPreset=()=>{setSelectedPreset(null);setPresetMode(false);data.presetId=null;data.presetName=null;data.presetProvider=null;};const updateNodeData=useCallback(()=>{data.url=url;data.method=method;data.requestBody=requestBody;data.headersString=headersString;data.queryParams=queryParams;data.timeout=timeout;if(saveVariables&&saveVariables.length>0){data.saveVariables=saveVariables.map(item=>({path:item.path,variable:item.variable}));data.responseVariables=saveVariables.map(item=>({path:item.path,variableName:item.variable}));}else{data.saveVariables=[];data.responseVariables=[];}if(!data.responseVariables||!Array.isArray(data.responseVariables)){var _data$saveVariables;data.responseVariables=((_data$saveVariables=data.saveVariables)===null||_data$saveVariables===void 0?void 0:_data$saveVariables.map(item=>({path:item.path,variableName:item.variable})))||[];}if(!data.saveVariables||!Array.isArray(data.saveVariables)){var _data$responseVariabl;data.saveVariables=((_data$responseVariabl=data.responseVariables)===null||_data$responseVariabl===void 0?void 0:_data$responseVariabl.map(item=>({path:item.path,variable:item.variableName})))||[];}},[url,method,requestBody,headersString,queryParams,saveVariables,data,timeout]);useEffect(()=>{if(saveVariables&&saveVariables.length>0&&!showMapping){setShowMapping(true);}},[saveVariables,showMapping]);useEffect(()=>{let timer;if(showSavePopup){timer=setTimeout(()=>{setShowSavePopup(false);},3000);}return()=>clearTimeout(timer);},[showSavePopup]);const hasBody=[\"POST\",\"PUT\",\"DELETE\"].includes(method);let customHeaders={};try{customHeaders=headersString?JSON.parse(headersString):{};}catch(err){}useEffect(()=>{if(response&&typeof response===\"object\"){setJsonPaths(getPaths(response));}else{setJsonPaths([]);}},[response]);const buildUrlWithParams=useCallback(function(){let baseUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:url;if(!queryParams.length)return baseUrl;const processedParams=queryParams.map(param=>{let value=param.value;if(window.flowVariables&&value.includes('${')){const regex=/\\${([^}]+)}/g;value=value.replace(regex,(match,varName)=>{return window.flowVariables[varName]!==undefined?window.flowVariables[varName]:match;});}return{key:param.key,value};});const queryString=processedParams.filter(param=>param.key&&param.value).map(param=>\"\".concat(encodeURIComponent(param.key),\"=\").concat(encodeURIComponent(param.value))).join(\"&\");return queryString?\"\".concat(baseUrl,\"?\").concat(queryString):baseUrl;},[url,queryParams]);const addQueryParam=useCallback(()=>setQueryParams([...queryParams,{key:\"\",value:\"\"}]),[queryParams]);const updateQueryParam=useCallback((index,field,value)=>{const newParams=[...queryParams];newParams[index][field]=value;setQueryParams(newParams);},[queryParams]);const removeQueryParam=useCallback(index=>setQueryParams(queryParams.filter((_,i)=>i!==index)),[queryParams]);const addSaveVariable=useCallback(()=>setSaveVariables([...saveVariables,{path:\"\",variable:\"\"}]),[saveVariables]);const updateSaveVariable=useCallback((index,field,value)=>{const newVars=[...saveVariables];newVars[index][field]=value;setSaveVariables(newVars);},[saveVariables]);const removeSaveVariable=useCallback(index=>setSaveVariables(saveVariables.filter((_,i)=>i!==index)),[saveVariables]);useEffect(()=>{updateNodeData();},[url,method,requestBody,headersString,queryParams,saveVariables,timeout,updateNodeData]);const testRequest=useCallback(async()=>{try{let processedUrl=url;if(window.flowVariables&&url.includes('${')){const regex=/\\${([^}]+)}/g;processedUrl=url.replace(regex,(match,varName)=>{return window.flowVariables[varName]!==undefined?window.flowVariables[varName]:match;});}let processedRequestBody;const finalUrl=buildUrlWithParams(processedUrl);const config={method,url:finalUrl,headers:_objectSpread({\"Content-Type\":\"application/json\"},customHeaders),timeout:timeout};if(hasBody){try{processedRequestBody=requestBody;if(window.flowVariables&&requestBody.includes('${')){const regex=/\\${([^}]+)}/g;processedRequestBody=requestBody.replace(regex,(match,varName)=>{return window.flowVariables[varName]!==undefined?JSON.stringify(window.flowVariables[varName]):match;});}config.data=JSON.parse(processedRequestBody||\"{}\");}catch(err){config.data=processedRequestBody;}}const res=await axios(config);setResponse(res.data);if(window.setFlowVariable){window.setFlowVariable('apiResponse',res.data);}if(saveVariables.length>0){const variablesToProcess=[...saveVariables];const responseVariables=variablesToProcess.map(item=>({path:item.path,variableName:item.variable}));for(let index=0;index<responseVariables.length;index++){const extractor=responseVariables[index];if(extractor&&extractor.path&&extractor.variableName){const parts=extractor.path.split(\".\");let valueToSave=res.data;let currentPath='';let pathValid=true;for(let part of parts){currentPath=currentPath?\"\".concat(currentPath,\".\").concat(part):part;if(valueToSave&&typeof valueToSave==='object'&&part in valueToSave){valueToSave=valueToSave[part];}else{pathValid=false;break;}}if(pathValid&&valueToSave!==undefined&&valueToSave!==null){data[extractor.variableName]=valueToSave;if(window.setFlowVariable){window.setFlowVariable(extractor.variableName,valueToSave);const event=new CustomEvent('flowVariableUpdate',{detail:{name:extractor.variableName,value:valueToSave}});window.dispatchEvent(event);}else{if(!window.flowVariables)window.flowVariables={};window.flowVariables[extractor.variableName]=valueToSave;const event=new CustomEvent('flowVariableUpdate',{detail:{name:extractor.variableName,value:valueToSave}});window.dispatchEvent(event);}}}}data.responseVariables=responseVariables;data.saveVariables=variablesToProcess;updateNodeData();}}catch(error){setResponse(error.response?error.response.data:\"Erro na requisição\");if(window.setFlowVariable){window.setFlowVariable('apiError',error.response?error.response.data:error.message);}}},[url,buildUrlWithParams,method,requestBody,customHeaders,hasBody,saveVariables,timeout,data]);return/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:\"#fff\",borderRadius:2,boxShadow:2,p:3,width:320,display:\"flex\",flexDirection:\"column\",gap:2,position:\"relative\"},children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:\"left\",id:\"httpRequest-in\",style:{left:-8,top:\"50%\",transform:\"translateY(-50%)\",background:\"#555\",width:12,height:12}}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:1},children:[/*#__PURE__*/_jsx(HttpIcon,{fontSize:\"small\",sx:{color:'#1976d2'}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",fontWeight:\"bold\",children:\"Requisi\\xE7\\xE3o HTTP\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",gap:1},children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>{storageItems.setNodesStorage(id);storageItems.setAct(\"duplicate\");},children:/*#__PURE__*/_jsx(ContentCopyIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>{storageItems.setNodesStorage(id);storageItems.setAct(\"delete\");},children:/*#__PURE__*/_jsx(DeleteOutlineIcon,{fontSize:\"small\"})})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:1},children:[/*#__PURE__*/_jsx(WebhookIcon,{fontSize:\"small\",sx:{color:'#9c27b0'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:\"Webhooks Pr\\xE9-configurados\"})]}),/*#__PURE__*/_jsx(Autocomplete,{options:presets,getOptionLabel:option=>\"\".concat(option.name,\" (\").concat(option.provider,\")\"),value:selectedPreset,onChange:handlePresetChange,loading:loadingPresets,renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Selecionar preset\",size:\"small\",placeholder:\"Escolha uma configura\\xE7\\xE3o pronta...\"})),renderOption:(props,option)=>/*#__PURE__*/_jsx(Box,_objectSpread(_objectSpread({component:\"li\"},props),{},{children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:option.name}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",children:option.description}),/*#__PURE__*/_jsxs(Box,{sx:{mt:0.5},children:[/*#__PURE__*/_jsx(Chip,{label:option.provider.toUpperCase(),size:\"small\",color:\"primary\",variant:\"outlined\"}),option.isSystem&&/*#__PURE__*/_jsx(Chip,{label:\"SISTEMA\",size:\"small\",color:\"secondary\",variant:\"outlined\",sx:{ml:0.5}})]})]})})),clearOnEscape:true}),presetMode&&selectedPreset&&/*#__PURE__*/_jsxs(Alert,{severity:\"info\",action:/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:clearPreset,children:\"Remover\"}),children:[\"Usando preset: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedPreset.name})]})]}),/*#__PURE__*/_jsx(TextField,{label:presetMode?\"URL (do preset)\":\"URL\",variant:\"outlined\",size:\"small\",value:url,onChange:e=>{setUrl(e.target.value);data.url=e.target.value;},fullWidth:true,placeholder:\"https://api.exemplo.com/webhook\",helperText:presetMode?\"Você pode editar a URL base do preset se necessário\":\"\",disabled:presetMode&&(selectedPreset===null||selectedPreset===void 0?void 0:selectedPreset.isSystem)// Só permite editar se não for preset do sistema\n}),/*#__PURE__*/_jsx(Autocomplete,{options:[\"GET\",\"POST\",\"PUT\",\"DELETE\"],value:method,onChange:(event,newValue)=>{if(newValue){setMethod(newValue);data.method=newValue;}},renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"M\\xE9todo\",size:\"small\"})),disabled:presetMode&&(selectedPreset===null||selectedPreset===void 0?void 0:selectedPreset.isSystem),clearOnEscape:true}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(PlayArrowIcon,{}),onClick:testRequest,disabled:!url,sx:{bgcolor:\"#2e7d32\",\"&:hover\":{bgcolor:\"#1b5e20\"},textTransform:\"none\"},children:\"Testar Requisi\\xE7\\xE3o\"}),response&&/*#__PURE__*/_jsxs(Box,{sx:{mt:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",mb:1,children:\"Resposta da API:\"}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:150,overflow:\"auto\",border:1,borderColor:\"grey.300\",borderRadius:1,p:1,bgcolor:\"grey.50\"},children:typeof response===\"object\"?/*#__PURE__*/_jsx(ReactJson,{src:response,theme:\"rjv-default\",displayDataTypes:false,displayObjectSize:false,enableClipboard:false,collapsed:1,name:false}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontFamily:\"monospace\",children:String(response)})}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>setShowFullResponse(true),sx:{mt:1,textTransform:\"none\"},children:\"Ver resposta completa\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"text\",size:\"small\",onClick:()=>setShowAdvanced(!showAdvanced),sx:{textTransform:\"none\",alignSelf:\"flex-start\"},children:/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:0.5},children:[/*#__PURE__*/_jsx(SettingsIcon,{fontSize:\"small\"}),showAdvanced?\"Ocultar avançado\":\"Mostrar avançado\"]})}),showAdvanced&&/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1},children:[presetMode&&/*#__PURE__*/_jsx(Alert,{severity:\"warning\",sx:{mb:1},children:\"Configura\\xE7\\xF5es avan\\xE7adas podem sobrescrever as configura\\xE7\\xF5es do preset\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:\"Timeout (ms)\"}),/*#__PURE__*/_jsx(TextField,{type:\"number\",size:\"small\",value:timeout,onChange:e=>setTimeout(parseInt(e.target.value)||10000),inputProps:{min:1000,max:60000},fullWidth:true}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:\"Par\\xE2metros de Query\"}),queryParams.map((param,index)=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Chave\",value:param.key,onChange:e=>updateQueryParam(index,\"key\",e.target.value),fullWidth:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Valor\",value:param.value,onChange:e=>updateQueryParam(index,\"value\",e.target.value),fullWidth:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sx:{display:\"flex\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>removeQueryParam(index),children:/*#__PURE__*/_jsx(DeleteOutlineIcon,{fontSize:\"small\"})})})]},index)),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",startIcon:/*#__PURE__*/_jsx(AddCircleOutlineIcon,{}),onClick:addQueryParam,sx:{textTransform:\"none\",width:\"100%\"},children:\"Adicionar Par\\xE2metro\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",mt:1,children:\"Cabe\\xE7alhos (JSON)\"}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",size:\"small\",multiline:true,minRows:2,value:headersString,onChange:e=>setHeadersString(e.target.value),placeholder:\"{\\\"Authorization\\\": \\\"Bearer token\\\", \\\"Custom-Header\\\": \\\"XYZ\\\"}\",fullWidth:true}),hasBody&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",mt:1,children:\"Corpo da requisi\\xE7\\xE3o (JSON)\"}),/*#__PURE__*/_jsxs(Box,{sx:{position:'relative'},children:[/*#__PURE__*/_jsx(AceEditor,{mode:\"json\",theme:\"github\",name:\"requestBodyEditor\",fontSize:12,showPrintMargin:false,showGutter:true,highlightActiveLine:true,width:\"100%\",height:\"100px\",value:requestBody,onChange:value=>setRequestBody(value),setOptions:{useWorker:false,tabSize:2},style:{borderRadius:4,border:\"1px solid #ddd\"}}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setShowFullEditor(true),sx:{position:'absolute',right:5,top:5,bgcolor:'rgba(255,255,255,0.8)','&:hover':{bgcolor:'rgba(255,255,255,0.9)'}},children:/*#__PURE__*/_jsx(OpenInFullIcon,{fontSize:\"small\"})})]}),/*#__PURE__*/_jsxs(Dialog,{open:showFullEditor,onClose:()=>setShowFullEditor(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Editar corpo da requisi\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowFullEditor(false),children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(AceEditor,{mode:\"json\",theme:\"github\",name:\"requestBodyEditorFull\",fontSize:14,showPrintMargin:false,showGutter:true,highlightActiveLine:true,width:\"100%\",height:\"400px\",value:requestBody,onChange:value=>setRequestBody(value),setOptions:{useWorker:false,tabSize:2},style:{borderRadius:4,border:\"1px solid #ddd\"}})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowFullEditor(false),children:\"Fechar\"})})]})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",size:\"small\",startIcon:/*#__PURE__*/_jsx(LinearScaleIcon,{}),onClick:()=>setShowMapping(!showMapping),sx:{textTransform:\"none\",borderColor:\"#673ab7\",color:\"#673ab7\",\"&:hover\":{borderColor:\"#5e35b1\",bgcolor:\"rgba(103, 58, 183, 0.04)\"}},children:[showMapping?\"Ocultar\":\"Mapear\",\" Vari\\xE1veis da Resposta\"]}),showMapping&&/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",color:\"#673ab7\",children:\"Mapear dados da resposta para vari\\xE1veis\"}),saveVariables.map((variable,index)=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(Autocomplete,{options:jsonPaths,freeSolo:true,size:\"small\",value:variable.path,onChange:(_,newValue)=>updateSaveVariable(index,\"path\",newValue||\"\"),renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Caminho\",placeholder:\"ex: data.user.id\",size:\"small\"}))})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:5,children:/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Nome da vari\\xE1vel\",value:variable.variable,onChange:e=>updateSaveVariable(index,\"variable\",e.target.value),placeholder:\"ex: userId\",fullWidth:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sx:{display:\"flex\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>removeSaveVariable(index),sx:{color:\"#f44336\"},children:/*#__PURE__*/_jsx(DeleteOutlineIcon,{fontSize:\"small\"})})})]},index)),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",startIcon:/*#__PURE__*/_jsx(AddCircleOutlineIcon,{}),onClick:addSaveVariable,sx:{bgcolor:\"#673ab7\",\"&:hover\":{bgcolor:\"#5e35b1\",boxShadow:'0 4px 8px rgba(103, 58, 183, 0.3)'},boxShadow:'0 2px 4px rgba(103, 58, 183, 0.2)',borderRadius:2,py:1,mb:2,fontSize:'0.9rem',fontWeight:500,letterSpacing:'0.2px'},children:\"Adicionar vari\\xE1vel\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"flex-start\",gap:1.5,mt:2,p:2,borderRadius:2,bgcolor:'rgba(255, 193, 7, 0.08)',border:'1px solid rgba(255, 193, 7, 0.2)',transition:'all 0.2s ease','&:hover':{boxShadow:'0 2px 8px rgba(0,0,0,0.05)',bgcolor:'rgba(255, 193, 7, 0.1)'}},children:[/*#__PURE__*/_jsx(TipsAndUpdatesIcon,{fontSize:\"small\",sx:{color:'#f57c00',mt:0.3}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:'text.primary',fontWeight:500,fontSize:'0.8rem',display:'block',mb:0.5},children:\"Dicas \\xFAteis:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{display:'block',mb:1,lineHeight:1.4},children:[\"\\u2022 A resposta completa da API \\xE9 salva automaticamente na vari\\xE1vel global \",/*#__PURE__*/_jsx(\"strong\",{children:\"apiResponse\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",display:\"block\",mt:1,children:[\"Voc\\xEA pode usar $\",\"{nomeDaVariavel}\",\" no URL e corpo da requisi\\xE7\\xE3o para incluir valores de vari\\xE1veis.\"]})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:showFullResponse,onClose:()=>setShowFullResponse(false),maxWidth:\"lg\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Resposta completa da API\"}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowFullResponse(false),children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(DialogContent,{children:response&&typeof response===\"object\"?/*#__PURE__*/_jsx(ReactJson,{src:response,theme:\"rjv-default\",displayDataTypes:true,displayObjectSize:true,enableClipboard:true,collapsed:false,name:\"response\",style:{padding:\"15px\",borderRadius:\"8px\",backgroundColor:\"#f8f9fa\"}}):/*#__PURE__*/_jsx(Box,{sx:{fontFamily:\"monospace\",whiteSpace:\"pre-wrap\",bgcolor:\"#f8f9fa\",p:2,borderRadius:1,border:\"1px solid #dee2e6\"},children:String(response)})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowFullResponse(false),children:\"Fechar\"})})]}),showSavePopup&&/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:-40,right:0,bgcolor:'success.main',color:'white',px:2,py:1,borderRadius:1,fontSize:'0.875rem',zIndex:1000,display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(SaveAltIcon,{fontSize:\"small\"}),\"Configura\\xE7\\xE3o salva!\"]}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:\"right\",id:\"httpRequest-out\",style:{right:-8,top:\"50%\",transform:\"translateY(-50%)\",background:\"#555\",width:12,height:12}})]});});export default HttpRequestNode;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","Button","TextField","IconButton","Autocomplete","Grid","Typography","Dialog","DialogTitle","DialogContent","DialogActions","Alert","Chip","FormControl","InputLabel","Select","MenuItem","HttpIcon","PlayArrowIcon","SaveAltIcon","AddCircleOutlineIcon","DeleteOutlineIcon","ContentCopyIcon","SettingsIcon","TipsAndUpdatesIcon","LinearScaleIcon","OpenInFullIcon","CloseIcon","WebhookIcon","AceEditor","ReactJson","axios","Handle","useNodeStorage","toast","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getPaths","obj","prefix","arguments","length","undefined","paths","key","currentPath","concat","push","HttpRequestNode","memo","_ref","data","id","selected","url","setUrl","method","setMethod","requestBody","setRequestBody","headersString","setHeadersString","queryParams","setQueryParams","saveVariables","setSaveVariables","timeout","setTimeout","savedStatus","setSavedStatus","response","setResponse","jsonPaths","setJsonPaths","showAdvanced","setShowAdvanced","showMapping","setShowMapping","showSavePopup","setShowSavePopup","showFullEditor","setShowFullEditor","showFullResponse","setShowFullResponse","presets","setPresets","selectedPreset","setSelectedPreset","presetMode","setPresetMode","loadingPresets","setLoadingPresets","storageItems","loadPresets","get","error","console","handlePresetChange","event","preset","config","configuration","headers","JSON","stringify","responseVariables","mappedVariables","map","rv","path","variable","variableName","presetId","presetName","name","presetProvider","provider","clearPreset","updateNodeData","item","Array","isArray","_data$saveVariables","_data$responseVariabl","timer","clearTimeout","hasBody","includes","customHeaders","parse","err","buildUrlWithParams","baseUrl","processedParams","param","value","window","flowVariables","regex","replace","match","varName","queryString","filter","encodeURIComponent","join","addQueryParam","updateQueryParam","index","field","newParams","removeQueryParam","_","i","addSaveVariable","updateSaveVariable","newVars","removeSaveVariable","testRequest","processedUrl","processedRequestBody","finalUrl","_objectSpread","res","setFlowVariable","variablesToProcess","extractor","parts","split","valueToSave","pathValid","part","CustomEvent","detail","dispatchEvent","message","sx","backgroundColor","borderRadius","boxShadow","p","width","display","flexDirection","gap","position","children","type","style","left","top","transform","background","height","justifyContent","alignItems","fontSize","color","variant","fontWeight","size","onClick","setNodesStorage","setAct","options","getOptionLabel","option","onChange","loading","renderInput","params","label","placeholder","renderOption","props","component","description","mt","toUpperCase","isSystem","ml","clearOnEscape","severity","action","e","target","fullWidth","helperText","disabled","newValue","startIcon","bgcolor","textTransform","mb","maxHeight","overflow","border","borderColor","src","theme","displayDataTypes","displayObjectSize","enableClipboard","collapsed","fontFamily","String","alignSelf","parseInt","inputProps","min","max","container","spacing","xs","multiline","minRows","mode","showPrintMargin","showGutter","highlightActiveLine","setOptions","useWorker","tabSize","right","open","onClose","maxWidth","freeSolo","py","letterSpacing","transition","lineHeight","padding","whiteSpace","px","zIndex"],"sources":["/home/deploy/codigologlow/frontend/src/pages/FlowBuilderConfig/nodes/httpRequestNode.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Box,\n  Button,\n  TextField,\n  IconButton,\n  Autocomplete,\n  Grid,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert,\n  Chip,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem\n} from \"@mui/material\";\nimport HttpIcon from \"@mui/icons-material/Http\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport TipsAndUpdatesIcon from \"@mui/icons-material/TipsAndUpdates\";\nimport LinearScaleIcon from \"@mui/icons-material/LinearScale\";\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport WebhookIcon from \"@mui/icons-material/Webhook\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nimport ReactJson from \"react-json-view\";\nimport axios from \"axios\";\nimport { Handle } from \"react-flow-renderer\";\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../../services/api\";\n\nfunction getPaths(obj, prefix = \"\") {\n  let paths = [];\n  for (let key in obj) {\n    const currentPath = prefix ? `${prefix}.${key}` : key;\n    paths.push(currentPath);\n    if (obj[key] !== null && typeof obj[key] === \"object\") {\n      paths = paths.concat(getPaths(obj[key], currentPath));\n    }\n  }\n  return paths;\n}\n\nconst HttpRequestNode = React.memo(({ data, id, selected }) => {\n  // Estados existentes\n  const [url, setUrl] = useState(data?.url || \"\");\n  const [method, setMethod] = useState(data?.method || \"GET\");\n  const [requestBody, setRequestBody] = useState(data?.requestBody || \"{}\");\n  const [headersString, setHeadersString] = useState(data?.headersString || \"\");\n  const [queryParams, setQueryParams] = useState(data?.queryParams || []);\n  const [saveVariables, setSaveVariables] = useState(data?.saveVariables || []);\n  const [timeout, setTimeout] = useState(data?.timeout || 10000);\n  const [savedStatus, setSavedStatus] = useState('');\n  const [response, setResponse] = useState(null);\n  const [jsonPaths, setJsonPaths] = useState([]);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [showMapping, setShowMapping] = useState(saveVariables && saveVariables.length > 0);\n  const [showSavePopup, setShowSavePopup] = useState(false);\n  const [showFullEditor, setShowFullEditor] = useState(false);\n  const [showFullResponse, setShowFullResponse] = useState(false);\n\n  // Novos estados para presets\n  const [presets, setPresets] = useState([]);\n  const [selectedPreset, setSelectedPreset] = useState(null);\n  const [presetMode, setPresetMode] = useState(false);\n  const [loadingPresets, setLoadingPresets] = useState(false);\n\n  const storageItems = useNodeStorage();\n\n  // Carregar presets disponíveis para a empresa\n  useEffect(() => {\n    loadPresets();\n  }, []);\n\n  const loadPresets = async () => {\n    try {\n      setLoadingPresets(true);\n      // A API já filtra por companyId baseado no token JWT\n      const response = await api.get('/preset-webhooks?isActive=true&includeSystem=true');\n      setPresets(response.data.presets || []);\n    } catch (error) {\n      console.error('Erro ao carregar presets:', error);\n    } finally {\n      setLoadingPresets(false);\n    }\n  };\n\n  const handlePresetChange = async (event, preset) => {\n    if (!preset) {\n      setSelectedPreset(null);\n      setPresetMode(false);\n      return;\n    }\n\n    try {\n      setSelectedPreset(preset);\n      setPresetMode(true);\n      \n      // Aplicar configuração do preset\n      const config = preset.configuration;\n      \n      setUrl(config.url || \"\");\n      setMethod(config.method || \"GET\");\n      setHeadersString(config.headers ? JSON.stringify(config.headers, null, 2) : \"\");\n      setQueryParams(config.queryParams || []);\n      setRequestBody(config.requestBody || \"{}\");\n      setTimeout(config.timeout || 30000);\n      \n      // Configurar variáveis de resposta do preset\n      if (config.responseVariables && config.responseVariables.length > 0) {\n        const mappedVariables = config.responseVariables.map(rv => ({\n          path: rv.path,\n          variable: rv.variableName\n        }));\n        setSaveVariables(mappedVariables);\n        setShowMapping(true);\n      }\n      \n      // Atualizar dados do node\n      data.url = config.url || \"\";\n      data.method = config.method || \"GET\";\n      data.headersString = config.headers ? JSON.stringify(config.headers, null, 2) : \"\";\n      data.queryParams = config.queryParams || [];\n      data.requestBody = config.requestBody || \"{}\";\n      data.responseVariables = config.responseVariables || [];\n      data.timeout = config.timeout || 30000;\n      data.presetId = preset.id;\n      data.presetName = preset.name;\n      data.presetProvider = preset.provider;\n      \n    } catch (error) {\n      console.error('Erro ao aplicar preset:', error);\n      toast.error('Erro ao aplicar configuração do preset');\n    }\n  };\n\n  const clearPreset = () => {\n    setSelectedPreset(null);\n    setPresetMode(false);\n    data.presetId = null;\n    data.presetName = null;\n    data.presetProvider = null;\n  };\n\n  const updateNodeData = useCallback(() => {\n    data.url = url;\n    data.method = method;\n    data.requestBody = requestBody;\n    data.headersString = headersString;\n    data.queryParams = queryParams;\n    data.timeout = timeout;\n\n    if (saveVariables && saveVariables.length > 0) {\n      data.saveVariables = saveVariables.map(item => ({\n        path: item.path,\n        variable: item.variable\n      }));\n\n      data.responseVariables = saveVariables.map(item => ({\n        path: item.path,\n        variableName: item.variable\n      }));\n    } else {\n      data.saveVariables = [];\n      data.responseVariables = [];\n    }\n\n    if (!data.responseVariables || !Array.isArray(data.responseVariables)) {\n      data.responseVariables = data.saveVariables?.map(item => ({\n        path: item.path,\n        variableName: item.variable\n      })) || [];\n    }\n\n    if (!data.saveVariables || !Array.isArray(data.saveVariables)) {\n      data.saveVariables = data.responseVariables?.map(item => ({\n        path: item.path,\n        variable: item.variableName\n      })) || [];\n    }\n  }, [url, method, requestBody, headersString, queryParams, saveVariables, data, timeout]);\n\n  useEffect(() => {\n    if (saveVariables && saveVariables.length > 0 && !showMapping) {\n      setShowMapping(true);\n    }\n  }, [saveVariables, showMapping]);\n\n  useEffect(() => {\n    let timer;\n    if (showSavePopup) {\n      timer = setTimeout(() => {\n        setShowSavePopup(false);\n      }, 3000);\n    }\n    return () => clearTimeout(timer);\n  }, [showSavePopup]);\n\n  const hasBody = [\"POST\", \"PUT\", \"DELETE\"].includes(method);\n\n  let customHeaders = {};\n  try {\n    customHeaders = headersString ? JSON.parse(headersString) : {};\n  } catch (err) { }\n\n  useEffect(() => {\n    if (response && typeof response === \"object\") {\n      setJsonPaths(getPaths(response));\n    } else {\n      setJsonPaths([]);\n    }\n  }, [response]);\n\n  const buildUrlWithParams = useCallback((baseUrl = url) => {\n    if (!queryParams.length) return baseUrl;\n\n    const processedParams = queryParams.map(param => {\n      let value = param.value;\n\n      if (window.flowVariables && value.includes('${')) {\n        const regex = /\\${([^}]+)}/g;\n        value = value.replace(regex, (match, varName) => {\n          return window.flowVariables[varName] !== undefined ?\n            window.flowVariables[varName] : match;\n        });\n      }\n\n      return { key: param.key, value };\n    });\n\n    const queryString = processedParams\n      .filter((param) => param.key && param.value)\n      .map(\n        (param) =>\n          `${encodeURIComponent(param.key)}=${encodeURIComponent(param.value)}`\n      )\n      .join(\"&\");\n    return queryString ? `${baseUrl}?${queryString}` : baseUrl;\n  }, [url, queryParams]);\n\n  const addQueryParam = useCallback(\n    () => setQueryParams([...queryParams, { key: \"\", value: \"\" }]),\n    [queryParams]\n  );\n\n  const updateQueryParam = useCallback(\n    (index, field, value) => {\n      const newParams = [...queryParams];\n      newParams[index][field] = value;\n      setQueryParams(newParams);\n    },\n    [queryParams]\n  );\n\n  const removeQueryParam = useCallback(\n    (index) => setQueryParams(queryParams.filter((_, i) => i !== index)),\n    [queryParams]\n  );\n\n  const addSaveVariable = useCallback(\n    () => setSaveVariables([...saveVariables, { path: \"\", variable: \"\" }]),\n    [saveVariables]\n  );\n\n  const updateSaveVariable = useCallback(\n    (index, field, value) => {\n      const newVars = [...saveVariables];\n      newVars[index][field] = value;\n      setSaveVariables(newVars);\n    },\n    [saveVariables]\n  );\n\n  const removeSaveVariable = useCallback(\n    (index) => setSaveVariables(saveVariables.filter((_, i) => i !== index)),\n    [saveVariables]\n  );\n\n  useEffect(() => {\n    updateNodeData();\n  }, [url, method, requestBody, headersString, queryParams, saveVariables, timeout, updateNodeData]);\n\n  const testRequest = useCallback(async () => {\n    try {\n      let processedUrl = url;\n\n      if (window.flowVariables && url.includes('${')) {\n        const regex = /\\${([^}]+)}/g;\n        processedUrl = url.replace(regex, (match, varName) => {\n          return window.flowVariables[varName] !== undefined ?\n            window.flowVariables[varName] : match;\n        });\n      }\n      let processedRequestBody;\n      const finalUrl = buildUrlWithParams(processedUrl);\n      const config = {\n        method,\n        url: finalUrl,\n        headers: { \"Content-Type\": \"application/json\", ...customHeaders },\n        timeout: timeout,\n      };\n\n      if (hasBody) {\n        try {\n          processedRequestBody = requestBody;\n\n          if (window.flowVariables && requestBody.includes('${')) {\n            const regex = /\\${([^}]+)}/g;\n            processedRequestBody = requestBody.replace(regex, (match, varName) => {\n              return window.flowVariables[varName] !== undefined ?\n                JSON.stringify(window.flowVariables[varName]) : match;\n            });\n          }\n\n          config.data = JSON.parse(processedRequestBody || \"{}\");\n        } catch (err) {\n          config.data = processedRequestBody;\n        }\n      }\n\n      const res = await axios(config);\n      setResponse(res.data);\n\n      if (window.setFlowVariable) {\n        window.setFlowVariable('apiResponse', res.data);\n      }\n\n      if (saveVariables.length > 0) {\n        const variablesToProcess = [...saveVariables];\n\n        const responseVariables = variablesToProcess.map(item => ({\n          path: item.path,\n          variableName: item.variable\n        }));\n\n        for (let index = 0; index < responseVariables.length; index++) {\n          const extractor = responseVariables[index];\n\n          if (extractor && extractor.path && extractor.variableName) {\n            const parts = extractor.path.split(\".\");\n            let valueToSave = res.data;\n\n            let currentPath = '';\n            let pathValid = true;\n\n            for (let part of parts) {\n              currentPath = currentPath ? `${currentPath}.${part}` : part;\n              if (valueToSave && typeof valueToSave === 'object' && part in valueToSave) {\n                valueToSave = valueToSave[part];\n              } else {\n                pathValid = false;\n                break;\n              }\n            }\n\n            if (pathValid && valueToSave !== undefined && valueToSave !== null) {\n              data[extractor.variableName] = valueToSave;\n\n              if (window.setFlowVariable) {\n                window.setFlowVariable(extractor.variableName, valueToSave);\n\n                const event = new CustomEvent('flowVariableUpdate', {\n                  detail: { name: extractor.variableName, value: valueToSave }\n                });\n                window.dispatchEvent(event);\n              } else {\n                if (!window.flowVariables) window.flowVariables = {};\n                window.flowVariables[extractor.variableName] = valueToSave;\n\n                const event = new CustomEvent('flowVariableUpdate', {\n                  detail: { name: extractor.variableName, value: valueToSave }\n                });\n                window.dispatchEvent(event);\n              }\n            }\n          }\n        }\n\n        data.responseVariables = responseVariables;\n        data.saveVariables = variablesToProcess;\n\n        updateNodeData();\n      }\n    } catch (error) {\n      setResponse(error.response ? error.response.data : \"Erro na requisição\");\n\n      if (window.setFlowVariable) {\n        window.setFlowVariable('apiError', error.response ? error.response.data : error.message);\n      }\n    }\n  }, [\n    url,\n    buildUrlWithParams,\n    method,\n    requestBody,\n    customHeaders,\n    hasBody,\n    saveVariables,\n    timeout,\n    data,\n  ]);\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: \"#fff\",\n        borderRadius: 2,\n        boxShadow: 2,\n        p: 3,\n        width: 320,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 2,\n        position: \"relative\",\n      }}\n    >\n      <Handle\n        type=\"target\"\n        position=\"left\"\n        id=\"httpRequest-in\"\n        style={{\n          left: -8,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          background: \"#555\",\n          width: 12,\n          height: 12,\n        }}\n      />\n\n      <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n          <HttpIcon fontSize=\"small\" sx={{ color: '#1976d2' }} />\n          <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n            Requisição HTTP\n          </Typography>\n        </Box>\n\n        <Box sx={{ display: \"flex\", gap: 1 }}>\n          <IconButton\n            size=\"small\"\n            onClick={() => {\n              storageItems.setNodesStorage(id);\n              storageItems.setAct(\"duplicate\");\n            }}\n          >\n            <ContentCopyIcon fontSize=\"small\" />\n          </IconButton>\n\n          <IconButton\n            size=\"small\"\n            onClick={() => {\n              storageItems.setNodesStorage(id);\n              storageItems.setAct(\"delete\");\n            }}\n          >\n            <DeleteOutlineIcon fontSize=\"small\" />\n          </IconButton>\n        </Box>\n      </Box>\n\n      {/* Seção de Presets */}\n      <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\n        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n          <WebhookIcon fontSize=\"small\" sx={{ color: '#9c27b0' }} />\n          <Typography variant=\"body2\" fontWeight=\"bold\">\n            Webhooks Pré-configurados\n          </Typography>\n        </Box>\n        \n        <Autocomplete\n          options={presets}\n          getOptionLabel={(option) => `${option.name} (${option.provider})`}\n          value={selectedPreset}\n          onChange={handlePresetChange}\n          loading={loadingPresets}\n          renderInput={(params) => (\n            <TextField \n              {...params} \n              label=\"Selecionar preset\" \n              size=\"small\"\n              placeholder=\"Escolha uma configuração pronta...\"\n            />\n          )}\n          renderOption={(props, option) => (\n            <Box component=\"li\" {...props}>\n              <Box>\n                <Typography variant=\"body2\" fontWeight=\"bold\">\n                  {option.name}\n                </Typography>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {option.description}\n                </Typography>\n                <Box sx={{ mt: 0.5 }}>\n                  <Chip \n                    label={option.provider.toUpperCase()} \n                    size=\"small\" \n                    color=\"primary\" \n                    variant=\"outlined\"\n                  />\n                  {option.isSystem && (\n                    <Chip \n                      label=\"SISTEMA\" \n                      size=\"small\" \n                      color=\"secondary\" \n                      variant=\"outlined\"\n                      sx={{ ml: 0.5 }}\n                    />\n                  )}\n                </Box>\n              </Box>\n            </Box>\n          )}\n          clearOnEscape\n        />\n\n        {presetMode && selectedPreset && (\n          <Alert \n            severity=\"info\" \n            action={\n              <Button size=\"small\" onClick={clearPreset}>\n                Remover\n              </Button>\n            }\n          >\n            Usando preset: <strong>{selectedPreset.name}</strong>\n          </Alert>\n        )}\n      </Box>\n\n      {/* URL Field - sempre visível mas readonly se usando preset */}\n      <TextField\n        label={presetMode ? \"URL (do preset)\" : \"URL\"}\n        variant=\"outlined\"\n        size=\"small\"\n        value={url}\n        onChange={(e) => {\n          setUrl(e.target.value);\n          data.url = e.target.value;\n        }}\n        fullWidth\n        placeholder=\"https://api.exemplo.com/webhook\"\n        helperText={presetMode ? \"Você pode editar a URL base do preset se necessário\" : \"\"}\n        disabled={presetMode && selectedPreset?.isSystem} // Só permite editar se não for preset do sistema\n      />\n\n      {/* Method Field - sempre visível */}\n      <Autocomplete\n        options={[\"GET\", \"POST\", \"PUT\", \"DELETE\"]}\n        value={method}\n        onChange={(event, newValue) => {\n          if (newValue) {\n            setMethod(newValue);\n            data.method = newValue;\n          }\n        }}\n        renderInput={(params) => (\n          <TextField {...params} label=\"Método\" size=\"small\" />\n        )}\n        disabled={presetMode && selectedPreset?.isSystem}\n        clearOnEscape\n      />\n\n      {/* Test Button */}\n      <Button\n        variant=\"contained\"\n        startIcon={<PlayArrowIcon />}\n        onClick={testRequest}\n        disabled={!url}\n        sx={{\n          bgcolor: \"#2e7d32\",\n          \"&:hover\": { bgcolor: \"#1b5e20\" },\n          textTransform: \"none\"\n        }}\n      >\n        Testar Requisição\n      </Button>\n\n      {/* Response Display */}\n      {response && (\n        <Box sx={{ mt: 1 }}>\n          <Typography variant=\"body2\" fontWeight=\"bold\" mb={1}>\n            Resposta da API:\n          </Typography>\n          <Box\n            sx={{\n              maxHeight: 150,\n              overflow: \"auto\",\n              border: 1,\n              borderColor: \"grey.300\",\n              borderRadius: 1,\n              p: 1,\n              bgcolor: \"grey.50\",\n            }}\n          >\n            {typeof response === \"object\" ? (\n              <ReactJson\n                src={response}\n                theme=\"rjv-default\"\n                displayDataTypes={false}\n                displayObjectSize={false}\n                enableClipboard={false}\n                collapsed={1}\n                name={false}\n              />\n            ) : (\n              <Typography variant=\"body2\" fontFamily=\"monospace\">\n                {String(response)}\n              </Typography>\n            )}\n          </Box>\n          <Button\n            size=\"small\"\n            onClick={() => setShowFullResponse(true)}\n            sx={{ mt: 1, textTransform: \"none\" }}\n          >\n            Ver resposta completa\n          </Button>\n        </Box>\n      )}\n\n      <Button\n        variant=\"text\"\n        size=\"small\"\n        onClick={() => setShowAdvanced(!showAdvanced)}\n        sx={{ textTransform: \"none\", alignSelf: \"flex-start\" }}\n      >\n        <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 0.5 }}>\n          <SettingsIcon fontSize=\"small\" />\n          {showAdvanced ? \"Ocultar avançado\" : \"Mostrar avançado\"}\n        </Box>\n      </Button>\n\n      {showAdvanced && (\n        <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\n          {presetMode && (\n            <Alert severity=\"warning\" sx={{ mb: 1 }}>\n              Configurações avançadas podem sobrescrever as configurações do preset\n            </Alert>\n          )}\n\n          <Typography variant=\"body2\" fontWeight=\"bold\">\n            Timeout (ms)\n          </Typography>\n          <TextField\n            type=\"number\"\n            size=\"small\"\n            value={timeout}\n            onChange={(e) => setTimeout(parseInt(e.target.value) || 10000)}\n            inputProps={{ min: 1000, max: 60000 }}\n            fullWidth\n          />\n\n          <Typography variant=\"body2\" fontWeight=\"bold\">\n            Parâmetros de Query\n          </Typography>\n          {queryParams.map((param, index) => (\n            <Grid container spacing={1} key={index}>\n              <Grid item xs={5}>\n                <TextField\n                  size=\"small\"\n                  label=\"Chave\"\n                  value={param.key}\n                  onChange={(e) =>\n                    updateQueryParam(index, \"key\", e.target.value)\n                  }\n                  fullWidth\n                />\n              </Grid>\n              <Grid item xs={5}>\n                <TextField\n                  size=\"small\"\n                  label=\"Valor\"\n                  value={param.value}\n                  onChange={(e) =>\n                    updateQueryParam(index, \"value\", e.target.value)\n                  }\n                  fullWidth\n                />\n              </Grid>\n              <Grid item xs={2} sx={{ display: \"flex\", alignItems: \"center\" }}>\n                <IconButton size=\"small\" onClick={() => removeQueryParam(index)}>\n                  <DeleteOutlineIcon fontSize=\"small\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          ))}\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            startIcon={<AddCircleOutlineIcon />}\n            onClick={addQueryParam}\n            sx={{ textTransform: \"none\", width: \"100%\" }}\n          >\n            Adicionar Parâmetro\n          </Button>\n\n          <Typography variant=\"body2\" fontWeight=\"bold\" mt={1}>\n            Cabeçalhos (JSON)\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            size=\"small\"\n            multiline\n            minRows={2}\n            value={headersString}\n            onChange={(e) => setHeadersString(e.target.value)}\n            placeholder='{\"Authorization\": \"Bearer token\", \"Custom-Header\": \"XYZ\"}'\n            fullWidth\n          />\n\n          {hasBody && (\n            <>\n              <Typography variant=\"body2\" fontWeight=\"bold\" mt={1}>\n                Corpo da requisição (JSON)\n              </Typography>\n              <Box sx={{ position: 'relative' }}>\n                <AceEditor\n                  mode=\"json\"\n                  theme=\"github\"\n                  name=\"requestBodyEditor\"\n                  fontSize={12}\n                  showPrintMargin={false}\n                  showGutter\n                  highlightActiveLine\n                  width=\"100%\"\n                  height=\"100px\"\n                  value={requestBody}\n                  onChange={(value) => setRequestBody(value)}\n                  setOptions={{ useWorker: false, tabSize: 2 }}\n                  style={{ borderRadius: 4, border: \"1px solid #ddd\" }}\n                />\n                <IconButton\n                  size=\"small\"\n                  onClick={() => setShowFullEditor(true)}\n                  sx={{\n                    position: 'absolute',\n                    right: 5,\n                    top: 5,\n                    bgcolor: 'rgba(255,255,255,0.8)',\n                    '&:hover': { bgcolor: 'rgba(255,255,255,0.9)' }\n                  }}\n                >\n                  <OpenInFullIcon fontSize=\"small\" />\n                </IconButton>\n              </Box>\n\n              <Dialog\n                open={showFullEditor}\n                onClose={() => setShowFullEditor(false)}\n                maxWidth=\"md\"\n                fullWidth\n              >\n                <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <Typography variant=\"h6\">Editar corpo da requisição</Typography>\n                  <IconButton onClick={() => setShowFullEditor(false)}>\n                    <CloseIcon />\n                  </IconButton>\n                </DialogTitle>\n                <DialogContent>\n                  <AceEditor\n                    mode=\"json\"\n                    theme=\"github\"\n                    name=\"requestBodyEditorFull\"\n                    fontSize={14}\n                    showPrintMargin={false}\n                    showGutter\n                    highlightActiveLine\n                    width=\"100%\"\n                    height=\"400px\"\n                    value={requestBody}\n                    onChange={(value) => setRequestBody(value)}\n                    setOptions={{ useWorker: false, tabSize: 2 }}\n                    style={{ borderRadius: 4, border: \"1px solid #ddd\" }}\n                  />\n                </DialogContent>\n                <DialogActions>\n                  <Button onClick={() => setShowFullEditor(false)}>\n                    Fechar\n                  </Button>\n                </DialogActions>\n              </Dialog>\n            </>\n          )}\n        </Box>\n      )}\n\n      {/* Mapping Variables Section */}\n      <Button\n        variant=\"outlined\"\n        size=\"small\"\n        startIcon={<LinearScaleIcon />}\n        onClick={() => setShowMapping(!showMapping)}\n        sx={{\n          textTransform: \"none\",\n          borderColor: \"#673ab7\",\n          color: \"#673ab7\",\n          \"&:hover\": {\n            borderColor: \"#5e35b1\",\n            bgcolor: \"rgba(103, 58, 183, 0.04)\",\n          },\n        }}\n      >\n        {showMapping ? \"Ocultar\" : \"Mapear\"} Variáveis da Resposta\n      </Button>\n\n      {showMapping && (\n        <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1.5 }}>\n          <Typography variant=\"body2\" fontWeight=\"bold\" color=\"#673ab7\">\n            Mapear dados da resposta para variáveis\n          </Typography>\n\n          {saveVariables.map((variable, index) => (\n            <Grid container spacing={1} key={index} alignItems=\"center\">\n              <Grid item xs={5}>\n                <Autocomplete\n                  options={jsonPaths}\n                  freeSolo\n                  size=\"small\"\n                  value={variable.path}\n                  onChange={(_, newValue) =>\n                    updateSaveVariable(index, \"path\", newValue || \"\")\n                  }\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      label=\"Caminho\"\n                      placeholder=\"ex: data.user.id\"\n                      size=\"small\"\n                    />\n                  )}\n                />\n              </Grid>\n              <Grid item xs={5}>\n                <TextField\n                  size=\"small\"\n                  label=\"Nome da variável\"\n                  value={variable.variable}\n                  onChange={(e) =>\n                    updateSaveVariable(index, \"variable\", e.target.value)\n                  }\n                  placeholder=\"ex: userId\"\n                  fullWidth\n                />\n              </Grid>\n              <Grid item xs={2} sx={{ display: \"flex\", alignItems: \"center\" }}>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => removeSaveVariable(index)}\n                  sx={{ color: \"#f44336\" }}\n                >\n                  <DeleteOutlineIcon fontSize=\"small\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          ))}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            startIcon={<AddCircleOutlineIcon />}\n            onClick={addSaveVariable}\n            sx={{\n              bgcolor: \"#673ab7\",\n              \"&:hover\": {\n                bgcolor: \"#5e35b1\",\n                boxShadow: '0 4px 8px rgba(103, 58, 183, 0.3)'\n              },\n              boxShadow: '0 2px 4px rgba(103, 58, 183, 0.2)',\n              borderRadius: 2,\n              py: 1,\n              mb: 2,\n              fontSize: '0.9rem',\n              fontWeight: 500,\n              letterSpacing: '0.2px'\n            }}\n          >\n            Adicionar variável\n          </Button>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              alignItems: \"flex-start\",\n              gap: 1.5,\n              mt: 2,\n              p: 2,\n              borderRadius: 2,\n              bgcolor: 'rgba(255, 193, 7, 0.08)',\n              border: '1px solid rgba(255, 193, 7, 0.2)',\n              transition: 'all 0.2s ease',\n              '&:hover': {\n                boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\n                bgcolor: 'rgba(255, 193, 7, 0.1)'\n              }\n            }}>\n            <TipsAndUpdatesIcon fontSize=\"small\" sx={{ color: '#f57c00', mt: 0.3 }} />\n            <Box>\n              <Typography\n                variant=\"caption\"\n                sx={{\n                  color: 'text.primary',\n                  fontWeight: 500,\n                  fontSize: '0.8rem',\n                  display: 'block',\n                  mb: 0.5\n                }}\n              >\n                Dicas úteis:\n              </Typography>\n\n              <Typography\n                variant=\"caption\"\n                color=\"text.secondary\"\n                sx={{ display: 'block', mb: 1, lineHeight: 1.4 }}\n              >\n                • A resposta completa da API é salva automaticamente na variável global <strong>apiResponse</strong>\n              </Typography>\n\n              <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" mt={1}>\n                Você pode usar ${\"{nomeDaVariavel}\"} no URL e corpo da requisição para incluir valores de variáveis.\n              </Typography>\n            </Box>\n          </Box>\n        </Box>\n      )}\n\n      {/* Dialog para visualizar resposta completa */}\n      <Dialog\n        open={showFullResponse}\n        onClose={() => setShowFullResponse(false)}\n        maxWidth=\"lg\"\n        fullWidth\n      >\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Typography variant=\"h6\">Resposta completa da API</Typography>\n          <IconButton onClick={() => setShowFullResponse(false)}>\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          {response && typeof response === \"object\" ? (\n            <ReactJson\n              src={response}\n              theme=\"rjv-default\"\n              displayDataTypes={true}\n              displayObjectSize={true}\n              enableClipboard={true}\n              collapsed={false}\n              name=\"response\"\n              style={{\n                padding: \"15px\",\n                borderRadius: \"8px\",\n                backgroundColor: \"#f8f9fa\"\n              }}\n            />\n          ) : (\n            <Box\n              sx={{\n                fontFamily: \"monospace\",\n                whiteSpace: \"pre-wrap\",\n                bgcolor: \"#f8f9fa\",\n                p: 2,\n                borderRadius: 1,\n                border: \"1px solid #dee2e6\"\n              }}\n            >\n              {String(response)}\n            </Box>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowFullResponse(false)}>\n            Fechar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Popup de salvamento */}\n      {showSavePopup && (\n        <Box\n          sx={{\n            position: 'absolute',\n            top: -40,\n            right: 0,\n            bgcolor: 'success.main',\n            color: 'white',\n            px: 2,\n            py: 1,\n            borderRadius: 1,\n            fontSize: '0.875rem',\n            zIndex: 1000,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          }}\n        >\n          <SaveAltIcon fontSize=\"small\" />\n          Configuração salva!\n        </Box>\n      )}\n\n      <Handle\n        type=\"source\"\n        position=\"right\"\n        id=\"httpRequest-out\"\n        style={{\n          right: -8,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          background: \"#555\",\n          width: 12,\n          height: 12,\n        }}\n      />\n    </Box>\n  );\n});\n\nexport default HttpRequestNode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}