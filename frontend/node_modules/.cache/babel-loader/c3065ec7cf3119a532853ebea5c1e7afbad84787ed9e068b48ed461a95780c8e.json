{"ast":null,"code":"import _objectSpread from\"/home/deploy/atendechatop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback,useContext,useEffect}from\"react\";import{toast}from\"react-toastify\";import{add,format,parseISO}from\"date-fns\";import Menu from\"@material-ui/core/Menu\";import MenuItem from\"@material-ui/core/MenuItem\";import PopupState,{bindTrigger,bindMenu}from\"material-ui-popup-state\";// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport{makeStyles}from\"@material-ui/core/styles\";import{green}from\"@material-ui/core/colors\";import{Button,TableBody,TableRow,TableCell,IconButton,Table,TableHead,Paper,Tooltip,Typography,CircularProgress,Box,Card,CardContent,Dialog,DialogTitle,DialogContent,DialogActions,Select,MenuItem as MuiMenuItem,FormControl,InputLabel}from\"@material-ui/core\";import{Edit,CheckCircle,SignalCellularConnectedNoInternet2Bar,SignalCellularConnectedNoInternet0Bar,SignalCellular4Bar,CropFree,DeleteOutline,Facebook,Instagram,WhatsApp,Sync}from\"@material-ui/icons\";import WebhookIcon from'@mui/icons-material/Webhook';import FacebookLogin from\"react-facebook-login/dist/facebook-login-render-props\";import MainContainer from\"../../components/MainContainer\";import MainHeader from\"../../components/MainHeader\";import MainHeaderButtonsWrapper from\"../../components/MainHeaderButtonsWrapper\";import Title from\"../../components/Title\";import TableRowSkeleton from\"../../components/TableRowSkeleton\";import api from\"../../services/api\";import WhatsAppModal from\"../../components/WhatsAppModal\";import ConfirmationModal from\"../../components/ConfirmationModal\";import QrcodeModal from\"../../components/QrcodeModal\";import{i18n}from\"../../translate/i18n\";import{WhatsAppsContext}from\"../../context/WhatsApp/WhatsAppsContext\";import toastError from\"../../errors/toastError\";import formatSerializedId from'../../utils/formatSerializedId';import{AuthContext}from\"../../context/Auth/AuthContext\";import usePlans from\"../../hooks/usePlans\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import ForbiddenPage from\"../../components/ForbiddenPage\";import{Can}from\"../../components/Can\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({mainPaper:_objectSpread({flex:1,// padding: theme.spacing(1),\npadding:theme.padding,overflowY:\"scroll\"},theme.scrollbarStyles),customTableCell:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},tooltip:{backgroundColor:\"#f5f5f9\",color:\"rgba(0, 0, 0, 0.87)\",fontSize:theme.typography.pxToRem(14),border:\"1px solid #dadde9\",maxWidth:450},tooltipPopper:{textAlign:\"center\"},buttonProgress:{color:green[500]}}));function CircularProgressWithLabel(props){return/*#__PURE__*/_jsxs(Box,{position:\"relative\",display:\"inline-flex\",children:[/*#__PURE__*/_jsx(CircularProgress,_objectSpread({variant:\"determinate\"},props)),/*#__PURE__*/_jsx(Box,{top:0,left:0,bottom:0,right:0,position:\"absolute\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"div\",color:\"textSecondary\",children:\"\".concat(Math.round(props.value),\"%\")})})]});}const CustomToolTip=_ref=>{let{title,content,children}=_ref;const classes=useStyles();return/*#__PURE__*/_jsx(Tooltip,{arrow:true,classes:{tooltip:classes.tooltip,popper:classes.tooltipPopper},title:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,color:\"inherit\",children:title}),content&&/*#__PURE__*/_jsx(Typography,{children:content})]}),children:children});};const IconChannel=channel=>{switch(channel){case\"facebook\":return/*#__PURE__*/_jsx(Facebook,{style:{color:\"#3b5998\"}});case\"instagram\":return/*#__PURE__*/_jsx(Instagram,{style:{color:\"#e1306c\"}});case\"whatsapp\":return/*#__PURE__*/_jsx(WhatsApp,{style:{color:\"#25d366\"}});case\"whatsapp_oficial\":return/*#__PURE__*/_jsx(WhatsApp,{style:{color:\"#25d366\"}});default:return\"error\";}};const Connections=()=>{const classes=useStyles();const{whatsApps,loading}=useContext(WhatsAppsContext);const[whatsAppModalOpen,setWhatsAppModalOpen]=useState(false);const[statusImport,setStatusImport]=useState([]);const[qrModalOpen,setQrModalOpen]=useState(false);const[selectedWhatsApp,setSelectedWhatsApp]=useState(null);const[channel,setChannel]=useState(\"whatsapp\");const[confirmModalOpen,setConfirmModalOpen]=useState(false);const history=useHistory();const confirmationModalInitialState={action:\"\",title:\"\",message:\"\",whatsAppId:\"\",open:false};const[confirmModalInfo,setConfirmModalInfo]=useState(confirmationModalInitialState);const[planConfig,setPlanConfig]=useState(false);const[transferModalOpen,setTransferModalOpen]=useState(false);const[sourceConnection,setSourceConnection]=useState(\"\");const[targetConnection,setTargetConnection]=useState(\"\");const[preDeleteModalOpen,setPreDeleteModalOpen]=useState(false);const[whatsAppToDelete,setWhatsAppToDelete]=useState(null);const[transferProgressModalOpen,setTransferProgressModalOpen]=useState(false);const[transferProgress,setTransferProgress]=useState({current:0,total:0,percentage:0});//   const socketManager = useContext(SocketContext);\nconst{user,socket}=useContext(AuthContext);const companyId=user.companyId;const{getPlanCompany}=usePlans();useEffect(()=>{async function fetchData(){const planConfigs=await getPlanCompany(undefined,companyId);setPlanConfig(planConfigs);}fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const responseFacebook=response=>{if(response.status!==\"unknown\"){const{accessToken,id}=response;api.post(\"/facebook\",{facebookUserId:id,facebookUserToken:accessToken}).then(response=>{toast.success(i18n.t(\"connections.facebook.success\"));}).catch(error=>{toastError(error);});}};const responseInstagram=response=>{if(response.status!==\"unknown\"){const{accessToken,id}=response;api.post(\"/facebook\",{addInstagram:true,facebookUserId:id,facebookUserToken:accessToken}).then(response=>{toast.success(i18n.t(\"connections.facebook.success\"));}).catch(error=>{toastError(error);});}};useEffect(()=>{// const socket = socketManager.GetSocket();\nsocket.on(\"importMessages-\".concat(user.companyId),data=>{if(data.action===\"refresh\"){setStatusImport([]);history.go(0);}if(data.action===\"update\"){setStatusImport(data.status);}});socket.on(\"transferTickets-\".concat(user.companyId),data=>{if(data.action===\"progress\"){setTransferProgress({current:data.current,total:data.total,percentage:Math.round(data.current/data.total*100)});}if(data.action===\"completed\"){setTransferProgressModalOpen(false);setTransferProgress({current:0,total:0,percentage:0});toast.success(\"Transfer\\xEAncia conclu\\xEDda! \".concat(data.transferred,\" tickets transferidos com sucesso.\"));handleCloseTransferModal();}if(data.action===\"error\"){setTransferProgressModalOpen(false);setTransferProgress({current:0,total:0,percentage:0});toast.error(\"Erro na transferência de tickets.\");}});/* return () => {\n      socket.disconnect();\n    }; */},[whatsApps]);const handleStartWhatsAppSession=async whatsAppId=>{try{await api.post(\"/whatsappsession/\".concat(whatsAppId));}catch(err){toastError(err);}};const handleRequestNewQrCode=async whatsAppId=>{try{await api.put(\"/whatsappsession/\".concat(whatsAppId));}catch(err){toastError(err);}};const handleOpenWhatsAppModal=channel=>{setChannel(channel);setSelectedWhatsApp(null);setWhatsAppModalOpen(true);};const handleCloseWhatsAppModal=useCallback(()=>{setWhatsAppModalOpen(false);setSelectedWhatsApp(null);},[setSelectedWhatsApp,setWhatsAppModalOpen]);const handleOpenQrModal=whatsApp=>{setSelectedWhatsApp(whatsApp);setQrModalOpen(true);};const handleCloseQrModal=useCallback(()=>{setSelectedWhatsApp(null);setQrModalOpen(false);},[setQrModalOpen,setSelectedWhatsApp]);const handleEditWhatsApp=whatsApp=>{setChannel(whatsApp.channel);setSelectedWhatsApp(whatsApp);setWhatsAppModalOpen(true);};const handleSyncTemplates=async whatsAppId=>{await api.get(\"/whatsapp/sync-templates/\".concat(whatsAppId));};const handleCopyWebhook=url=>{navigator.clipboard.writeText(url);// Copia o token para a área de transferência    \n};const openInNewTab=url=>{window.open(url,'_blank','noopener,noreferrer');};const handleOpenConfirmationModal=(action,whatsAppId)=>{if(action===\"disconnect\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.disconnectTitle\"),message:i18n.t(\"connections.confirmationModal.disconnectMessage\"),whatsAppId:whatsAppId});}if(action===\"delete\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.deleteTitle\"),message:i18n.t(\"connections.confirmationModal.deleteMessage\"),whatsAppId:whatsAppId});}if(action===\"closedImported\"){setConfirmModalInfo({action:action,title:i18n.t(\"connections.confirmationModal.closedImportedTitle\"),message:i18n.t(\"connections.confirmationModal.closedImportedMessage\"),whatsAppId:whatsAppId});}setConfirmModalOpen(true);};const handleSubmitConfirmationModal=async()=>{if(confirmModalInfo.action===\"disconnect\"){try{await api.delete(\"/whatsappsession/\".concat(confirmModalInfo.whatsAppId));}catch(err){toastError(err);}}if(confirmModalInfo.action===\"delete\"){try{await api.delete(\"/whatsapp/\".concat(confirmModalInfo.whatsAppId));toast.success(i18n.t(\"connections.toasts.deleted\"));}catch(err){toastError(err);}}if(confirmModalInfo.action===\"closedImported\"){try{await api.post(\"/closedimported/\".concat(confirmModalInfo.whatsAppId));toast.success(i18n.t(\"connections.toasts.closedimported\"));}catch(err){toastError(err);}}setConfirmModalInfo(confirmationModalInitialState);};const renderImportButton=whatsApp=>{if((whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)===\"renderButtonCloseTickets\"){return/*#__PURE__*/_jsx(Button,{style:{marginLeft:12},size:\"small\",variant:\"outlined\",color:\"primary\",onClick:()=>{handleOpenConfirmationModal(\"closedImported\",whatsApp.id);},children:i18n.t(\"connections.buttons.closedImported\")});}if(whatsApp!==null&&whatsApp!==void 0&&whatsApp.importOldMessages){let isTimeStamp=!isNaN(new Date(Math.floor(whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)).getTime());if(isTimeStamp){const ultimoStatus=new Date(Math.floor(whatsApp===null||whatsApp===void 0?void 0:whatsApp.statusImportMessages)).getTime();const dataLimite=+add(ultimoStatus,{seconds:+35}).getTime();if(dataLimite>new Date().getTime()){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{disabled:true,style:{marginLeft:12},size:\"small\",endIcon:/*#__PURE__*/_jsx(CircularProgress,{size:12,className:classes.buttonProgress}),variant:\"outlined\",color:\"primary\",children:i18n.t(\"connections.buttons.preparing\")})});}}}};const renderActionButtons=whatsApp=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[whatsApp.channel===\"whatsapp\"&&whatsApp.status===\"qrcode\"&&/*#__PURE__*/_jsx(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",color:\"primary\",onClick:()=>handleOpenQrModal(whatsApp),children:i18n.t(\"connections.buttons.qrcode\")})}),whatsApp.channel===\"whatsapp\"&&whatsApp.status===\"DISCONNECTED\"&&/*#__PURE__*/_jsx(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"primary\",onClick:()=>handleStartWhatsAppSession(whatsApp.id),children:i18n.t(\"connections.buttons.tryAgain\")}),\" \",/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>handleRequestNewQrCode(whatsApp.id),children:i18n.t(\"connections.buttons.newQr\")})]})}),whatsApp.channel===\"whatsapp\"&&(whatsApp.status===\"CONNECTED\"||whatsApp.status===\"PAIRING\"||whatsApp.status===\"TIMEOUT\")&&/*#__PURE__*/_jsx(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>{handleOpenConfirmationModal(\"disconnect\",whatsApp.id);},children:i18n.t(\"connections.buttons.disconnect\")}),renderImportButton(whatsApp)]})}),whatsApp.channel===\"whatsapp\"&&whatsApp.status===\"OPENING\"&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",disabled:true,color:\"default\",children:i18n.t(\"connections.buttons.connecting\")})]});};const renderStatusToolTips=whatsApp=>{return/*#__PURE__*/_jsxs(\"div\",{className:classes.customTableCell,children:[whatsApp.status===\"DISCONNECTED\"&&/*#__PURE__*/_jsx(CustomToolTip,{title:i18n.t(\"connections.toolTips.disconnected.title\"),content:i18n.t(\"connections.toolTips.disconnected.content\"),children:/*#__PURE__*/_jsx(SignalCellularConnectedNoInternet0Bar,{color:\"secondary\"})}),whatsApp.status===\"OPENING\"&&/*#__PURE__*/_jsx(CircularProgress,{size:24,className:classes.buttonProgress}),whatsApp.status===\"qrcode\"&&/*#__PURE__*/_jsx(CustomToolTip,{title:i18n.t(\"connections.toolTips.qrcode.title\"),content:i18n.t(\"connections.toolTips.qrcode.content\"),children:/*#__PURE__*/_jsx(CropFree,{})}),whatsApp.status===\"CONNECTED\"&&/*#__PURE__*/_jsx(CustomToolTip,{title:i18n.t(\"connections.toolTips.connected.title\"),children:/*#__PURE__*/_jsx(SignalCellular4Bar,{style:{color:green[500]}})}),(whatsApp.status===\"TIMEOUT\"||whatsApp.status===\"PAIRING\")&&/*#__PURE__*/_jsx(CustomToolTip,{title:i18n.t(\"connections.toolTips.timeout.title\"),content:i18n.t(\"connections.toolTips.timeout.content\"),children:/*#__PURE__*/_jsx(SignalCellularConnectedNoInternet2Bar,{color:\"secondary\"})})]});};const restartWhatsapps=async()=>{try{await api.post(\"/whatsapp-restart/\");toast.success(i18n.t(\"connections.waitConnection\"));}catch(err){toastError(err);}};const handleOpenTransferModal=()=>{setTransferModalOpen(true);};const handleCloseTransferModal=()=>{setTransferModalOpen(false);setSourceConnection(\"\");setTargetConnection(\"\");};const handleCloseTransferProgressModal=()=>{setTransferProgressModalOpen(false);setTransferProgress({current:0,total:0,percentage:0});};const handleTransferTickets=async()=>{if(!sourceConnection||!targetConnection){toast.error(\"Selecione as conexões de origem e destino\");return;}if(sourceConnection===targetConnection){toast.error(\"As conexões de origem e destino devem ser diferentes\");return;}try{const response=await api.post(\"/transfer-tickets\",{sourceConnectionId:sourceConnection,targetConnectionId:targetConnection});if(response.data.requiresProgress){setTransferModalOpen(false);setTransferProgressModalOpen(true);setTransferProgress({current:0,total:response.data.totalTickets,percentage:0});}else{toast.success(\"Tickets transferidos com sucesso! \".concat(response.data.transferred||0,\" tickets transferidos.\"));handleCloseTransferModal();}}catch(err){toastError(err);}};const handleOpenPreDeleteModal=whatsAppId=>{setWhatsAppToDelete(whatsAppId);setPreDeleteModalOpen(true);};const handleClosePreDeleteModal=()=>{setPreDeleteModalOpen(false);setWhatsAppToDelete(null);};const handleConfirmTransferDone=()=>{setPreDeleteModalOpen(false);handleOpenConfirmationModal(\"delete\",whatsAppToDelete);setWhatsAppToDelete(null);};return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(ConfirmationModal,{title:confirmModalInfo.title,open:confirmModalOpen,onClose:setConfirmModalOpen,onConfirm:handleSubmitConfirmationModal,children:confirmModalInfo.message}),qrModalOpen&&/*#__PURE__*/_jsx(QrcodeModal,{open:qrModalOpen,onClose:handleCloseQrModal,whatsAppId:!whatsAppModalOpen&&(selectedWhatsApp===null||selectedWhatsApp===void 0?void 0:selectedWhatsApp.id)}),/*#__PURE__*/_jsx(WhatsAppModal,{open:whatsAppModalOpen,onClose:handleCloseWhatsAppModal,whatsAppId:!qrModalOpen&&(selectedWhatsApp===null||selectedWhatsApp===void 0?void 0:selectedWhatsApp.id),channel:channel}),/*#__PURE__*/_jsxs(Dialog,{open:transferModalOpen,onClose:handleCloseTransferModal,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Transfer\\xEAncia de Tickets\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",style:{marginBottom:24,lineHeight:1.6},children:[\"Para transferir os tickets, selecione a conex\\xE3o de \",/*#__PURE__*/_jsx(\"strong\",{children:\"origem\"}),\" (de onde os tickets ser\\xE3o movidos) e a conex\\xE3o de \",/*#__PURE__*/_jsx(\"strong\",{children:\"destino\"}),\" (para onde os tickets ser\\xE3o transferidos). Todos os atendimentos ativos da conex\\xE3o de origem ser\\xE3o movidos para a conex\\xE3o de destino.\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:24,marginBottom:24},children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Origem\"}),/*#__PURE__*/_jsx(Select,{value:sourceConnection,onChange:e=>setSourceConnection(e.target.value),label:\"Origem\",children:whatsApps.map(whatsApp=>/*#__PURE__*/_jsx(MuiMenuItem,{value:whatsApp.id,children:whatsApp.name},whatsApp.id))})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:24,color:'#4caf50',fontWeight:'bold'},children:\"\\u2192\"}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Destino\"}),/*#__PURE__*/_jsx(Select,{value:targetConnection,onChange:e=>setTargetConnection(e.target.value),label:\"Destino\",children:whatsApps.map(whatsApp=>/*#__PURE__*/_jsx(MuiMenuItem,{value:whatsApp.id,children:whatsApp.name},whatsApp.id))})]})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseTransferModal,color:\"default\",children:\"CANCELAR\"}),/*#__PURE__*/_jsx(Button,{onClick:handleTransferTickets,color:\"primary\",variant:\"contained\",children:\"TRANSFERIR\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:transferProgressModalOpen,onClose:handleCloseTransferProgressModal,maxWidth:\"sm\",fullWidth:true,disableBackdropClick:true,disableEscapeKeyDown:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Transferindo Tickets\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px 0'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{marginBottom:16},children:\"Progresso da Transfer\\xEAncia\"}),/*#__PURE__*/_jsxs(Box,{position:\"relative\",display:\"inline-flex\",marginBottom:2,children:[/*#__PURE__*/_jsx(CircularProgress,{variant:\"determinate\",value:transferProgress.percentage,size:80,thickness:4}),/*#__PURE__*/_jsx(Box,{top:0,left:0,bottom:0,right:0,position:\"absolute\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",component:\"div\",color:\"textSecondary\",style:{fontSize:'14px',fontWeight:'bold'},children:[transferProgress.percentage,\"%\"]})})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",style:{marginTop:16},children:[transferProgress.current,\" de \",transferProgress.total,\" tickets transferidos\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",style:{marginTop:8},children:\"Por favor, aguarde enquanto os tickets s\\xE3o transferidos...\"})]})})]}),/*#__PURE__*/_jsxs(Dialog,{open:preDeleteModalOpen,onClose:handleClosePreDeleteModal,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Transfer\\xEAncia de Tickets\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",style:{marginBottom:16},children:\"Antes de excluir esta conex\\xE3o, voc\\xEA j\\xE1 fez a transfer\\xEAncia dos tickets para outra conex\\xE3o?\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClosePreDeleteModal,color:\"default\",children:\"N\\xC3O\"}),/*#__PURE__*/_jsx(Button,{onClick:handleConfirmTransferDone,color:\"primary\",variant:\"contained\",children:\"SIM\"})]})]}),user.profile===\"user\"&&user.allowConnections===\"disabled\"?/*#__PURE__*/_jsx(ForbiddenPage,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MainHeader,{children:[/*#__PURE__*/_jsxs(Title,{children:[i18n.t(\"connections.title\"),\" (\",whatsApps.length,\")\"]}),/*#__PURE__*/_jsxs(MainHeaderButtonsWrapper,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleOpenTransferModal,children:\"Transferir Tickets\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:restartWhatsapps,children:i18n.t(\"connections.restartConnections\")}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>openInNewTab(\"https://wa.me/\".concat(process.env.REACT_APP_NUMBER_SUPPORT)),children:i18n.t(\"connections.callSupport\")}),/*#__PURE__*/_jsx(PopupState,{variant:\"popover\",popupId:\"demo-popup-menu\",children:popupState=>/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>{var _planConfig$plan,_planConfig$plan2,_process$env$REACT_AP,_process$env$REACT_AP2;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({variant:\"contained\",color:\"primary\"},bindTrigger(popupState)),{},{children:i18n.t(\"connections.newConnection\")})),/*#__PURE__*/_jsxs(Menu,_objectSpread(_objectSpread({},bindMenu(popupState)),{},{children:[/*#__PURE__*/_jsxs(MenuItem,{disabled:planConfig!==null&&planConfig!==void 0&&(_planConfig$plan=planConfig.plan)!==null&&_planConfig$plan!==void 0&&_planConfig$plan.useWhatsapp?false:true,onClick:()=>{handleOpenWhatsAppModal();popupState.close();},children:[/*#__PURE__*/_jsx(WhatsApp,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#25D366\"}}),\"WhatsApp\"]}),/*#__PURE__*/_jsxs(MenuItem,{disabled:planConfig!==null&&planConfig!==void 0&&(_planConfig$plan2=planConfig.plan)!==null&&_planConfig$plan2!==void 0&&_planConfig$plan2.useWhatsappOfficial?false:true,onClick:()=>{handleOpenWhatsAppModal(\"whatsapp_oficial\");popupState.close();},children:[/*#__PURE__*/_jsx(WhatsApp,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#25D366\"}}),\"WhatsApp Oficial\"]}),/*#__PURE__*/_jsx(FacebookLogin,{appId:process.env.REACT_APP_FACEBOOK_APP_ID,autoLoad:false,fields:\"name,email,picture\",version:\"9.0\",scope:((_process$env$REACT_AP=process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)===null||_process$env$REACT_AP===void 0?void 0:_process$env$REACT_AP.toUpperCase())===\"TRUE\"?\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\":\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\",callback:responseFacebook,render:renderProps=>{var _planConfig$plan3;return/*#__PURE__*/_jsxs(MenuItem,{disabled:planConfig!==null&&planConfig!==void 0&&(_planConfig$plan3=planConfig.plan)!==null&&_planConfig$plan3!==void 0&&_planConfig$plan3.useFacebook?false:true,onClick:renderProps.onClick,children:[/*#__PURE__*/_jsx(Facebook,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#3b5998\"}}),\"Facebook\"]});}}),/*#__PURE__*/_jsx(FacebookLogin,{appId:process.env.REACT_APP_FACEBOOK_APP_ID,autoLoad:false,fields:\"name,email,picture\",version:\"9.0\",scope:((_process$env$REACT_AP2=process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT)===null||_process$env$REACT_AP2===void 0?void 0:_process$env$REACT_AP2.toUpperCase())===\"TRUE\"?\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\":\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\",callback:responseInstagram,render:renderProps=>{var _planConfig$plan4;return/*#__PURE__*/_jsxs(MenuItem,{disabled:planConfig!==null&&planConfig!==void 0&&(_planConfig$plan4=planConfig.plan)!==null&&_planConfig$plan4!==void 0&&_planConfig$plan4.useInstagram?false:true,onClick:renderProps.onClick,children:[/*#__PURE__*/_jsx(Instagram,{fontSize:\"small\",style:{marginRight:\"10px\",color:\"#e1306c\"}}),\"Instagram\"]});}})]}))]});}})})})]})]}),statusImport!==null&&statusImport!==void 0&&statusImport.all?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{margin:\"auto\",marginBottom:12},children:/*#__PURE__*/_jsx(Card,{className:classes.root,children:/*#__PURE__*/_jsxs(CardContent,{className:classes.content,children:[/*#__PURE__*/_jsx(Typography,{component:\"h5\",variant:\"h5\",children:(statusImport===null||statusImport===void 0?void 0:statusImport.this)===-1?i18n.t(\"connections.buttons.preparing\"):i18n.t(\"connections.buttons.importing\")}),(statusImport===null||statusImport===void 0?void 0:statusImport.this)===-1?/*#__PURE__*/_jsx(Typography,{component:\"h6\",variant:\"h6\",align:\"center\",children:/*#__PURE__*/_jsx(CircularProgress,{size:24})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h6\",variant:\"h6\",align:\"center\",children:\"\".concat(i18n.t(\"connections.typography.processed\"),\" \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.this,\" \").concat(i18n.t(\"connections.typography.in\"),\" \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.all,\"  \").concat(i18n.t(\"connections.typography.date\"),\": \").concat(statusImport===null||statusImport===void 0?void 0:statusImport.date,\" \")}),/*#__PURE__*/_jsx(Typography,{align:\"center\",children:/*#__PURE__*/_jsx(CircularProgressWithLabel,{style:{margin:\"auto\"},value:(statusImport===null||statusImport===void 0?void 0:statusImport.this)/(statusImport===null||statusImport===void 0?void 0:statusImport.all)*100})})]})]})})})}):null,/*#__PURE__*/_jsx(Paper,{className:classes.mainPaper,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Channel\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.color\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.name\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.number\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.status\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.session\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.lastUpdate\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.default\")}),/*#__PURE__*/_jsx(Can,{role:user.profile===\"user\"&&user.allowConnections===\"enabled\"?\"admin\":user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:i18n.t(\"connections.table.actions\")})})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?/*#__PURE__*/_jsx(TableRowSkeleton,{}):/*#__PURE__*/_jsx(_Fragment,{children:(whatsApps===null||whatsApps===void 0?void 0:whatsApps.length)>0&&whatsApps.map(whatsApp=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:IconChannel(whatsApp.channel)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.customTableCell,children:/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:whatsApp.color,width:60,height:20,alignSelf:\"center\"}})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:whatsApp.name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:whatsApp.channel==='whatsapp'&&whatsApp.number?/*#__PURE__*/_jsx(_Fragment,{children:formatSerializedId(whatsApp.number)}):whatsApp.channel==='whatsapp_oficial'&&whatsApp.phone_number?/*#__PURE__*/_jsx(_Fragment,{children:formatSerializedId(whatsApp.phone_number)}):\"-\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:renderStatusToolTips(whatsApp)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:renderActionButtons(whatsApp)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:format(parseISO(whatsApp.updatedAt),\"dd/MM/yy HH:mm\")}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:whatsApp.isDefault&&/*#__PURE__*/_jsx(\"div\",{className:classes.customTableCell,children:/*#__PURE__*/_jsx(CheckCircle,{style:{color:green[500]}})})}),/*#__PURE__*/_jsx(Can,{role:user.profile,perform:\"connections-page:addConnection\",yes:()=>/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleEditWhatsApp(whatsApp),children:/*#__PURE__*/_jsx(Edit,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>{handleOpenPreDeleteModal(whatsApp.id);},children:/*#__PURE__*/_jsx(DeleteOutline,{})}),whatsApp.channel===\"whatsapp_oficial\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Sincronizar templates\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",\"aria-label\":\"sync-templates\",onClick:e=>{handleSyncTemplates(whatsApp.id);},children:/*#__PURE__*/_jsx(Sync,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Copiar webhook para Meta\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",\"aria-label\":\"copy-webhook\",onClick:e=>{handleCopyWebhook(whatsApp.waba_webhook);},children:/*#__PURE__*/_jsx(WebhookIcon,{})})})]})]})})]},whatsApp.id))})})]})})]})]});};export default Connections;","map":{"version":3,"names":["React","useState","useCallback","useContext","useEffect","toast","add","format","parseISO","Menu","MenuItem","PopupState","bindTrigger","bindMenu","makeStyles","green","Button","TableBody","TableRow","TableCell","IconButton","Table","TableHead","Paper","Tooltip","Typography","CircularProgress","Box","Card","CardContent","Dialog","DialogTitle","DialogContent","DialogActions","Select","MuiMenuItem","FormControl","InputLabel","Edit","CheckCircle","SignalCellularConnectedNoInternet2Bar","SignalCellularConnectedNoInternet0Bar","SignalCellular4Bar","CropFree","DeleteOutline","Facebook","Instagram","WhatsApp","Sync","WebhookIcon","FacebookLogin","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","TableRowSkeleton","api","WhatsAppModal","ConfirmationModal","QrcodeModal","i18n","WhatsAppsContext","toastError","formatSerializedId","AuthContext","usePlans","useHistory","ForbiddenPage","Can","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","theme","mainPaper","_objectSpread","flex","padding","overflowY","scrollbarStyles","customTableCell","display","alignItems","justifyContent","tooltip","backgroundColor","color","fontSize","typography","pxToRem","border","maxWidth","tooltipPopper","textAlign","buttonProgress","CircularProgressWithLabel","props","position","children","variant","top","left","bottom","right","component","concat","Math","round","value","CustomToolTip","_ref","title","content","classes","arrow","popper","gutterBottom","IconChannel","channel","style","Connections","whatsApps","loading","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","setChannel","confirmModalOpen","setConfirmModalOpen","history","confirmationModalInitialState","action","message","whatsAppId","open","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","transferModalOpen","setTransferModalOpen","sourceConnection","setSourceConnection","targetConnection","setTargetConnection","preDeleteModalOpen","setPreDeleteModalOpen","whatsAppToDelete","setWhatsAppToDelete","transferProgressModalOpen","setTransferProgressModalOpen","transferProgress","setTransferProgress","current","total","percentage","user","socket","companyId","getPlanCompany","fetchData","planConfigs","undefined","responseFacebook","response","status","accessToken","id","post","facebookUserId","facebookUserToken","then","success","t","catch","error","responseInstagram","addInstagram","on","data","go","transferred","handleCloseTransferModal","handleStartWhatsAppSession","err","handleRequestNewQrCode","put","handleOpenWhatsAppModal","handleCloseWhatsAppModal","handleOpenQrModal","whatsApp","handleCloseQrModal","handleEditWhatsApp","handleSyncTemplates","get","handleCopyWebhook","url","navigator","clipboard","writeText","openInNewTab","window","handleOpenConfirmationModal","handleSubmitConfirmationModal","delete","renderImportButton","statusImportMessages","marginLeft","size","onClick","importOldMessages","isTimeStamp","isNaN","Date","floor","getTime","ultimoStatus","dataLimite","seconds","disabled","endIcon","className","renderActionButtons","role","profile","allowConnections","perform","yes","renderStatusToolTips","restartWhatsapps","handleOpenTransferModal","handleCloseTransferProgressModal","handleTransferTickets","sourceConnectionId","targetConnectionId","requiresProgress","totalTickets","handleOpenPreDeleteModal","handleClosePreDeleteModal","handleConfirmTransferDone","onClose","onConfirm","fullWidth","marginBottom","lineHeight","gap","onChange","e","target","label","map","name","fontWeight","disableBackdropClick","disableEscapeKeyDown","thickness","marginTop","length","process","env","REACT_APP_NUMBER_SUPPORT","popupId","popupState","_planConfig$plan","_planConfig$plan2","_process$env$REACT_AP","_process$env$REACT_AP2","plan","useWhatsapp","close","marginRight","useWhatsappOfficial","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","version","scope","REACT_APP_REQUIRE_BUSINESS_MANAGEMENT","toUpperCase","callback","render","renderProps","_planConfig$plan3","useFacebook","_planConfig$plan4","useInstagram","all","margin","root","this","align","date","width","height","alignSelf","number","phone_number","updatedAt","isDefault","waba_webhook"],"sources":["/home/deploy/atendechatop/frontend/src/pages/Connections/index.js"],"sourcesContent":["import React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { add, format, parseISO } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Box,\n  Card,\n  CardContent,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Select,\n  MenuItem as MuiMenuItem,\n  FormControl,\n  InputLabel,\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp,\n  Sync,\n} from \"@material-ui/icons\";\nimport WebhookIcon from '@mui/icons-material/Webhook';\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450,\n  },\n  tooltipPopper: {\n    textAlign: \"center\",\n  },\n  buttonProgress: {\n    color: green[500],\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"caption\"\n          component=\"div\"\n          color=\"textSecondary\"\n        >{`${Math.round(props.value)}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper,\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = (channel) => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook style={{ color: \"#3b5998\" }} />;\n    case \"instagram\":\n      return <Instagram style={{ color: \"#e1306c\" }} />;\n    case \"whatsapp\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    case \"whatsapp_oficial\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    default:\n      return \"error\";\n  }\n};\n\nconst Connections = () => {\n  const classes = useStyles();\n\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [statusImport, setStatusImport] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [channel, setChannel] = useState(\"whatsapp\");\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const history = useHistory();\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false,\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n  const [transferModalOpen, setTransferModalOpen] = useState(false);\n  const [sourceConnection, setSourceConnection] = useState(\"\");\n  const [targetConnection, setTargetConnection] = useState(\"\");\n  const [preDeleteModalOpen, setPreDeleteModalOpen] = useState(false);\n  const [whatsAppToDelete, setWhatsAppToDelete] = useState(null);\n  const [transferProgressModalOpen, setTransferProgressModalOpen] = useState(false);\n  const [transferProgress, setTransferProgress] = useState({ current: 0, total: 0, percentage: 0 });\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs)\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const responseFacebook = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const responseInstagram = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n\n    socket.on(`importMessages-${user.companyId}`, (data) => {\n      if (data.action === \"refresh\") {\n        setStatusImport([]);\n        history.go(0);\n      }\n      if (data.action === \"update\") {\n        setStatusImport(data.status);\n      }\n    });\n\n    socket.on(`transferTickets-${user.companyId}`, (data) => {\n      if (data.action === \"progress\") {\n        setTransferProgress({\n          current: data.current,\n          total: data.total,\n          percentage: Math.round((data.current / data.total) * 100)\n        });\n      }\n      if (data.action === \"completed\") {\n        setTransferProgressModalOpen(false);\n        setTransferProgress({ current: 0, total: 0, percentage: 0 });\n        toast.success(`Transferência concluída! ${data.transferred} tickets transferidos com sucesso.`);\n        handleCloseTransferModal();\n      }\n      if (data.action === \"error\") {\n        setTransferProgressModalOpen(false);\n        setTransferProgress({ current: 0, total: 0, percentage: 0 });\n        toast.error(\"Erro na transferência de tickets.\");\n      }\n    });\n\n    /* return () => {\n      socket.disconnect();\n    }; */\n  }, [whatsApps]);\n\n  const handleStartWhatsAppSession = async (whatsAppId) => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async (whatsAppId) => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = (channel) => {\n    setChannel(channel)\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = (whatsApp) => {\n    setChannel(whatsApp.channel)\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleSyncTemplates = async (whatsAppId) => {\n    await api.get(`/whatsapp/sync-templates/${whatsAppId}`);\n  }\n\n  const handleCopyWebhook = (url) => {\n    navigator.clipboard.writeText(url); // Copia o token para a área de transferência    \n  };\n\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    if (action === \"closedImported\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"closedImported\") {\n      try {\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n\n  const renderImportButton = (whatsApp) => {\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\n      return (\n        <Button\n          style={{ marginLeft: 12 }}\n          size=\"small\"\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => {\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\n          }}\n        >\n          {i18n.t(\"connections.buttons.closedImported\")}\n        </Button>\n      );\n    }\n\n    if (whatsApp?.importOldMessages) {\n      let isTimeStamp = !isNaN(\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\n      );\n\n      if (isTimeStamp) {\n        const ultimoStatus = new Date(\n          Math.floor(whatsApp?.statusImportMessages)\n        ).getTime();\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\n        if (dataLimite > new Date().getTime()) {\n          return (\n            <>\n              <Button\n                disabled\n                style={{ marginLeft: 12 }}\n                size=\"small\"\n                endIcon={\n                  <CircularProgress\n                    size={12}\n                    className={classes.buttonProgress}\n                  />\n                }\n                variant=\"outlined\"\n                color=\"primary\"\n              >\n                {i18n.t(\"connections.buttons.preparing\")}\n              </Button>\n            </>\n          );\n        }\n      }\n    }\n  };\n\n  const renderActionButtons = (whatsApp) => {\n    return (\n      <>\n        {whatsApp.channel === \"whatsapp\" && whatsApp.status === \"qrcode\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleOpenQrModal(whatsApp)}\n              >\n                {i18n.t(\"connections.buttons.qrcode\")}\n              </Button>\n            )}\n          />\n        )}\n        {whatsApp.channel === \"whatsapp\" && whatsApp.status === \"DISCONNECTED\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <>\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.tryAgain\")}\n                </Button>{\" \"}\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.newQr\")}\n                </Button>\n              </>\n            )}\n          />\n        )}\n        {(whatsApp.channel === \"whatsapp\" && (whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\")) && (\n            <Can\n              role={user.profile}\n              perform=\"connections-page:addConnection\"\n              yes={() => (\n                <>\n                  <Button\n                    size=\"small\"\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => {\n                      handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n                    }}\n                  >\n                    {i18n.t(\"connections.buttons.disconnect\")}\n                  </Button>\n\n                  {renderImportButton(whatsApp)}\n                </>\n              )}\n            />\n          )}\n        {(whatsApp.channel === \"whatsapp\" && whatsApp.status === \"OPENING\") && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = (whatsApp) => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const restartWhatsapps = async () => {\n\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"connections.waitConnection\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleOpenTransferModal = () => {\n    setTransferModalOpen(true);\n  };\n\n  const handleCloseTransferModal = () => {\n    setTransferModalOpen(false);\n    setSourceConnection(\"\");\n    setTargetConnection(\"\");\n  };\n\n  const handleCloseTransferProgressModal = () => {\n    setTransferProgressModalOpen(false);\n    setTransferProgress({ current: 0, total: 0, percentage: 0 });\n  };\n\n  const handleTransferTickets = async () => {\n    if (!sourceConnection || !targetConnection) {\n      toast.error(\"Selecione as conexões de origem e destino\");\n      return;\n    }\n\n    if (sourceConnection === targetConnection) {\n      toast.error(\"As conexões de origem e destino devem ser diferentes\");\n      return;\n    }\n\n    try {\n      const response = await api.post(`/transfer-tickets`, {\n        sourceConnectionId: sourceConnection,\n        targetConnectionId: targetConnection\n      });\n\n      if (response.data.requiresProgress) {\n        setTransferModalOpen(false);\n        setTransferProgressModalOpen(true);\n        setTransferProgress({ current: 0, total: response.data.totalTickets, percentage: 0 });\n      } else {\n        toast.success(`Tickets transferidos com sucesso! ${response.data.transferred || 0} tickets transferidos.`);\n        handleCloseTransferModal();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenPreDeleteModal = (whatsAppId) => {\n    setWhatsAppToDelete(whatsAppId);\n    setPreDeleteModalOpen(true);\n  };\n\n  const handleClosePreDeleteModal = () => {\n    setPreDeleteModalOpen(false);\n    setWhatsAppToDelete(null);\n  };\n\n  const handleConfirmTransferDone = () => {\n    setPreDeleteModalOpen(false);\n    handleOpenConfirmationModal(\"delete\", whatsAppToDelete);\n    setWhatsAppToDelete(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      {qrModalOpen && (\n        <QrcodeModal\n          open={qrModalOpen}\n          onClose={handleCloseQrModal}\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n        />\n      )}\n      <WhatsAppModal\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n        channel={channel}\n      />\n      <Dialog\n        open={transferModalOpen}\n        onClose={handleCloseTransferModal}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Transferência de Tickets</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body1\" style={{ marginBottom: 24, lineHeight: 1.6 }}>\n            Para transferir os tickets, selecione a conexão de <strong>origem</strong> (de onde os tickets serão movidos) \n            e a conexão de <strong>destino</strong> (para onde os tickets serão transferidos). \n            Todos os atendimentos ativos da conexão de origem serão movidos para a conexão de destino.\n          </Typography>\n          \n          <div style={{ display: 'flex', alignItems: 'center', gap: 24, marginBottom: 24 }}>\n            <FormControl fullWidth>\n              <InputLabel>Origem</InputLabel>\n              <Select\n                value={sourceConnection}\n                onChange={(e) => setSourceConnection(e.target.value)}\n                label=\"Origem\"\n              >\n                {whatsApps.map((whatsApp) => (\n                  <MuiMenuItem key={whatsApp.id} value={whatsApp.id}>\n                    {whatsApp.name}\n                  </MuiMenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <div style={{ fontSize: 24, color: '#4caf50', fontWeight: 'bold' }}>\n              →\n            </div>\n\n            <FormControl fullWidth>\n              <InputLabel>Destino</InputLabel>\n              <Select\n                value={targetConnection}\n                onChange={(e) => setTargetConnection(e.target.value)}\n                label=\"Destino\"\n              >\n                {whatsApps.map((whatsApp) => (\n                  <MuiMenuItem key={whatsApp.id} value={whatsApp.id}>\n                    {whatsApp.name}\n                  </MuiMenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseTransferModal} color=\"default\">\n            CANCELAR\n          </Button>\n          <Button onClick={handleTransferTickets} color=\"primary\" variant=\"contained\">\n            TRANSFERIR\n                     </Button>\n         </DialogActions>\n       </Dialog>\n       <Dialog\n         open={transferProgressModalOpen}\n         onClose={handleCloseTransferProgressModal}\n         maxWidth=\"sm\"\n         fullWidth\n         disableBackdropClick\n         disableEscapeKeyDown\n       >\n         <DialogTitle>Transferindo Tickets</DialogTitle>\n         <DialogContent>\n           <div style={{ textAlign: 'center', padding: '20px 0' }}>\n             <Typography variant=\"h6\" style={{ marginBottom: 16 }}>\n               Progresso da Transferência\n             </Typography>\n             \n             <Box position=\"relative\" display=\"inline-flex\" marginBottom={2}>\n               <CircularProgress \n                 variant=\"determinate\" \n                 value={transferProgress.percentage} \n                 size={80}\n                 thickness={4}\n               />\n               <Box\n                 top={0}\n                 left={0}\n                 bottom={0}\n                 right={0}\n                 position=\"absolute\"\n                 display=\"flex\"\n                 alignItems=\"center\"\n                 justifyContent=\"center\"\n               >\n                 <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\" style={{ fontSize: '14px', fontWeight: 'bold' }}>\n                   {transferProgress.percentage}%\n                 </Typography>\n               </Box>\n             </Box>\n\n             <Typography variant=\"body1\" style={{ marginTop: 16 }}>\n               {transferProgress.current} de {transferProgress.total} tickets transferidos\n             </Typography>\n             \n             <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: 8 }}>\n               Por favor, aguarde enquanto os tickets são transferidos...\n             </Typography>\n           </div>\n         </DialogContent>\n       </Dialog>\n       <Dialog\n         open={preDeleteModalOpen}\n         onClose={handleClosePreDeleteModal}\n         maxWidth=\"sm\"\n         fullWidth\n       >\n         <DialogTitle>Transferência de Tickets</DialogTitle>\n         <DialogContent>\n           <Typography variant=\"body1\" style={{ marginBottom: 16 }}>\n             Antes de excluir esta conexão, você já fez a transferência dos tickets para outra conexão?\n           </Typography>\n         </DialogContent>\n         <DialogActions>\n           <Button onClick={handleClosePreDeleteModal} color=\"default\">\n             NÃO\n           </Button>\n           <Button onClick={handleConfirmTransferDone} color=\"primary\" variant=\"contained\">\n             SIM\n           </Button>\n         </DialogActions>\n       </Dialog>\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleOpenTransferModal}\n              >\n                Transferir Tickets\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={restartWhatsapps}\n              >\n                {i18n.t(\"connections.restartConnections\")}\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\n              >\n                {i18n.t(\"connections.callSupport\")}\n              </Button>\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                {(popupState) => (\n                  <React.Fragment>\n                    <Can\n                      role={user.profile}\n                      perform=\"connections-page:addConnection\"\n                      yes={() => (\n                        <>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            {...bindTrigger(popupState)}\n                          >\n                            {i18n.t(\"connections.newConnection\")}\n                          </Button>\n                          <Menu {...bindMenu(popupState)}>\n                            {/* WHATSAPP */}\n                            <MenuItem\n                              disabled={planConfig?.plan?.useWhatsapp ? false : true}\n                              onClick={() => {\n                                handleOpenWhatsAppModal();\n                                popupState.close();\n                              }}\n                            >\n                              <WhatsApp\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\",\n                                  color: \"#25D366\",\n                                }}\n                              />\n                              WhatsApp\n                            </MenuItem>\n                            {/* WHATSAPP OFICIAL */}\n                            <MenuItem\n                              disabled={planConfig?.plan?.useWhatsappOfficial ? false : true}\n                              onClick={() => {\n                                handleOpenWhatsAppModal(\"whatsapp_oficial\");\n                                popupState.close();\n                              }}\n                            >\n                              <WhatsApp\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\",\n                                  color: \"#25D366\",\n                                }}\n                              />\n                              WhatsApp Oficial\n                            </MenuItem>\n                            {/* FACEBOOK */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseFacebook}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useFacebook ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Facebook\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#3b5998\",\n                                    }}\n                                  />\n                                  Facebook\n                                </MenuItem>\n                              )}\n                            />\n                            {/* INSTAGRAM */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope={process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() === \"TRUE\" ?\n                                \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                                : \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"}\n                              callback={responseInstagram}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useInstagram ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Instagram\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#e1306c\",\n                                    }}\n                                  />\n                                  Instagram\n                                </MenuItem>\n                              )}\n                            />\n                          </Menu>\n                        </>\n                      )}\n                    />\n                  </React.Fragment>\n                )}\n              </PopupState>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n\n          {\n            statusImport?.all ? (\n              <>\n                <div style={{ margin: \"auto\", marginBottom: 12 }}>\n                  <Card className={classes.root}>\n                    <CardContent className={classes.content}>\n                      <Typography component=\"h5\" variant=\"h5\">\n\n                        {statusImport?.this === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")}\n\n                      </Typography>\n                      {statusImport?.this === -1 ?\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n\n                          <CircularProgress\n                            size={24}\n                          />\n\n                        </Typography>\n                        :\n                        <>\n                          <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n                            {`${i18n.t(`connections.typography.processed`)} ${statusImport?.this} ${i18n.t(`connections.typography.in`)} ${statusImport?.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport?.date} `}\n                          </Typography>\n                          <Typography align=\"center\">\n                            <CircularProgressWithLabel\n                              style={{ margin: \"auto\" }}\n                              value={(statusImport?.this / statusImport?.all) * 100}\n                            />\n                          </Typography>\n                        </>\n                      }\n                    </CardContent>\n                  </Card>\n                </div>\n              </>\n            ) : null\n          }\n\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Channel</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.color\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\n                  <Can\n                    role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n                    perform=\"connections-page:addConnection\"\n                    yes={() => (\n                      <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\n                    )}\n                  />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loading ? (\n                  <TableRowSkeleton />\n                ) : (\n                  <>\n                    {whatsApps?.length > 0 &&\n                      whatsApps.map((whatsApp) => (\n                        <TableRow key={whatsApp.id}>\n                          <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\n                          <TableCell align=\"center\">\n                            <div className={classes.customTableCell}>\n                              <span\n                                style={{\n                                  backgroundColor: whatsApp.color,\n                                  width: 60,\n                                  height: 20,\n                                  alignSelf: \"center\",\n                                }}\n                              />\n                            </div>\n                          </TableCell>\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\n                          <TableCell align=\"center\">\n                            {whatsApp.channel === 'whatsapp' && whatsApp.number\n                              ? <>{formatSerializedId(whatsApp.number)}</>\n                              : whatsApp.channel === 'whatsapp_oficial' && whatsApp.phone_number\n                                  ? <>{formatSerializedId(whatsApp.phone_number)}</>\n                                  : \"-\"}\n                          </TableCell>\n                          <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\n                          <TableCell align=\"center\">\n                            {whatsApp.isDefault && (\n                              <div className={classes.customTableCell}>\n                                <CheckCircle style={{ color: green[500] }} />\n                              </div>\n                            )}\n                          </TableCell>\n                          <Can\n                            role={user.profile}\n                            perform=\"connections-page:addConnection\"\n                            yes={() => (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\n                                >\n                                  <Edit />\n                                </IconButton>\n\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={(e) => {\n                                    handleOpenPreDeleteModal(whatsApp.id);\n                                  }}\n                                >\n                                  <DeleteOutline />\n                                </IconButton>\n                                {whatsApp.channel === \"whatsapp_oficial\" && (\n                                  <>\n                                    <Tooltip title=\"Sincronizar templates\">\n                                      <IconButton\n                                        size=\"small\"\n                                        aria-label=\"sync-templates\"\n                                        onClick={(e) => {\n                                          handleSyncTemplates(whatsApp.id);\n                                        }}\n                                      >\n                                        <Sync />\n                                      </IconButton>\n                                    </Tooltip>\n                                    <Tooltip title=\"Copiar webhook para Meta\">\n                                      <IconButton\n                                        size=\"small\"\n                                        aria-label=\"copy-webhook\"\n                                        onClick={(e) => {\n                                          handleCopyWebhook(whatsApp.waba_webhook);\n                                        }}\n                                      >\n                                        <WebhookIcon />\n                                      </IconButton>\n                                    </Tooltip>\n                                  </>\n                                )}\n                              </TableCell>\n                            )}\n                          />\n                        </TableRow>\n                      ))}\n                  </>\n                )}\n              </TableBody>\n            </Table>\n          </Paper>\n        </>\n      }\n    </MainContainer >\n\n  );\n};\n\nexport default Connections;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}