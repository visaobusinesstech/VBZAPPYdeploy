{"ast":null,"code":"import _objectWithoutProperties from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/home/deploy/codigologlow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"children\",\"value\",\"index\"];import React,{useEffect,useState,useContext}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import CloseIcon from\"@material-ui/icons/Close\";import Drawer from\"@material-ui/core/Drawer\";import Link from\"@material-ui/core/Link\";import InputLabel from\"@material-ui/core/InputLabel\";import Button from\"@material-ui/core/Button\";import Paper from\"@material-ui/core/Paper\";import GroupIcon from\"@material-ui/icons/Group\";import PermIdentityIcon from'@material-ui/icons/PermIdentity';import PersonIcon from\"@material-ui/icons/Person\";import CreateIcon from'@material-ui/icons/Create';import SearchIcon from'@material-ui/icons/Search';import ClearIcon from'@material-ui/icons/Clear';import BlockIcon from'@material-ui/icons/Block';import LockOpenIcon from'@material-ui/icons/LockOpen';import Avatar from'@material-ui/core/Avatar';import formatSerializedId from'../../utils/formatSerializedId';import{i18n}from\"../../translate/i18n\";import ModalImageCors from\"../ModalImageCors\";import ContactDrawerSkeleton from\"../ContactDrawerSkeleton\";import MarkdownWrapper from\"../MarkdownWrapper\";import{Badge,CardHeader,Switch,Tooltip,Tabs,Tab,Box,List,ListItem,ListItemAvatar,ListItemText,ListItemIcon,ListItemSecondaryAction,Divider,CircularProgress,Grid,Chip,TextField,InputAdornment,Collapse,Dialog,DialogContent,useMediaQuery}from\"@material-ui/core\";import{useTheme}from\"@material-ui/core/styles\";import{ContactForm}from\"../ContactForm\";import ContactModal from\"../ContactModal\";import{ContactNotes}from\"../ContactNotes\";import ImageIcon from'@material-ui/icons/Image';import VideocamIcon from'@material-ui/icons/Videocam';import AudiotrackIcon from'@material-ui/icons/Audiotrack';import InsertDriveFileIcon from'@material-ui/icons/InsertDriveFile';import LinkIcon from'@material-ui/icons/Link';import InfoIcon from'@material-ui/icons/Info';import MessageIcon from'@material-ui/icons/Message';import{AuthContext}from\"../../context/Auth/AuthContext\";import useCompanySettings from\"../../hooks/useSettings/companySettings\";import toastError from\"../../errors/toastError\";import api from\"../../services/api\";import{toast}from\"react-toastify\";import{TagsKanbanContainer}from\"../TagsKanbanContainer\";import NewTicketModal from\"../NewTicketModal\";import ChatIcon from'@material-ui/icons/Chat';import{useHistory}from\"react-router-dom\";import ShowTicketOpenModal from\"../ShowTicketOpenModal\";import GetAppIcon from'@material-ui/icons/GetApp';import*as XLSX from\"xlsx\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const drawerWidth=320;const useStyles=makeStyles(theme=>({drawer:{width:drawerWidth,flexShrink:0,zIndex:\"auto\"// Z-index menor que modais mas maior que conteúdo normal\n},tabChip:{minHeight:16,height:16,fontSize:\"0.7rem\",backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,marginLeft:4},drawerPaper:{width:drawerWidth,display:\"flex\",flexDirection:\"column\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",borderRight:\"1px solid rgba(0, 0, 0, 0.12)\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",borderTopRightRadius:4,borderBottomRightRadius:4,height:\"100%\",overflow:\"hidden\",// Importante para evitar overflow no drawer principal\n[theme.breakpoints.down('sm')]:{width:\"100%\",// No mobile, usar largura total\nborderRadius:0// Sem bordas arredondadas no mobile\n}},header:{display:\"flex\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:theme.palette.inputBackground,alignItems:\"center\",padding:theme.spacing(0,1),minHeight:\"50px\",justifyContent:\"flex-start\",flexShrink:0,position:\"relative\",zIndex:1},// headerTitle: {\n// \tflexGrow: 1,\n// \ttextAlign: \"center\",\n// \tcolor: theme.palette.text.primary,\n// \tfontWeight: 600,\n// \twhiteSpace: \"nowrap\",\n// \toverflow: \"hidden\",\n// \ttextOverflow: \"ellipsis\",\n// },\nprofileSection:{flexShrink:0,backgroundColor:theme.palette.inputBackground},searchContainer:{padding:theme.spacing(1,2),backgroundColor:theme.palette.background.paper,borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",flexShrink:0},searchField:{\"& .MuiOutlinedInput-root\":{height:40}},searchResults:_objectSpread({maxHeight:200,overflow:\"auto\"},theme.scrollbarStyles),searchResultItem:{padding:theme.spacing(1),cursor:\"pointer\",\"&:hover\":{backgroundColor:theme.palette.action.hover},borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\"},searchResultText:{fontSize:\"0.85rem\",\"& mark\":{backgroundColor:theme.palette.primary.light,color:theme.palette.primary.contrastText,padding:\"0 2px\",borderRadius:2}},searchResultDate:{fontSize:\"0.75rem\",color:theme.palette.text.secondary,marginTop:4},emptySearchState:{textAlign:\"center\",padding:theme.spacing(2),color:theme.palette.text.secondary,fontSize:\"0.85rem\"},tabsContainer:{borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:theme.palette.background.paper,flexShrink:0},contentWrapper:{display:\"flex\",flexDirection:\"column\",height:\"calc(100% - 50px)\",overflow:\"hidden\"},scrollableContent:{flex:1,overflow:\"hidden\",display:\"flex\",flexDirection:\"column\"},tabPanel:_objectSpread(_objectSpread({flex:1,overflow:\"auto\",padding:theme.spacing(1)},theme.scrollbarStyles),{},{// Garantir que cada tab panel tenha rolagem independente\nheight:\"100%\",maxHeight:\"100%\"}),// Avatar redondo e menor\ncontactAvatar:{width:80,height:80,borderRadius:\"50%\",margin:theme.spacing(1),border:\"2px solid \".concat(theme.palette.primary.main),cursor:\"pointer\",// Adicionar cursor pointer\n\"&:hover\":{opacity:0.8}},contactHeader:{display:\"flex\",padding:theme.spacing(1),flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",\"& > *\":{margin:theme.spacing(0.5)}},contactDetails:{marginTop:8,padding:8,display:\"flex\",flexDirection:\"column\"},contactExtraInfo:{marginTop:4,padding:6},switchContainer:{padding:theme.spacing(1,2),backgroundColor:theme.palette.background.paper,marginBottom:theme.spacing(1),flexShrink:0},mediaGrid:{padding:theme.spacing(1)},mediaItem:{cursor:\"pointer\",transition:\"transform 0.2s\",\"&:hover\":{transform:\"scale(1.05)\"},borderRadius:theme.spacing(1),overflow:\"hidden\",height:100,backgroundColor:theme.palette.action.hover,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},mediaThumbnail:{width:\"100%\",height:\"100%\",objectFit:\"cover\"},mediaIcon:{fontSize:40,color:theme.palette.text.secondary},loadingContainer:{display:\"flex\",justifyContent:\"center\",padding:theme.spacing(3)},emptyState:{textAlign:\"center\",padding:theme.spacing(3),color:theme.palette.text.secondary},linkItem:{padding:theme.spacing(1),\"&:hover\":{backgroundColor:theme.palette.action.hover},borderRadius:theme.spacing(0.5),marginBottom:theme.spacing(0.5)},// Novos estilos para os ícones de ação\ncontactActions:{display:\"flex\",flexDirection:\"row\",gap:theme.spacing(1),marginTop:theme.spacing(1),justifyContent:\"center\"},actionIcon:{backgroundColor:theme.palette.background.paper,border:\"1px solid \".concat(theme.palette.divider),\"&:hover\":{backgroundColor:theme.palette.action.hover}},editIcon:{color:theme.palette.primary.main},blockIcon:{color:theme.palette.error.main},unblockIcon:{color:theme.palette.success.main},tabIcon:{minHeight:48,minWidth:'auto',padding:theme.spacing(0.5,1)},// Garantir que o CardHeader não cause overflow\ncontactCardHeader:{width:'100%',padding:theme.spacing(1)},participantsList:{padding:0},participantItem:{paddingLeft:theme.spacing(1),paddingRight:theme.spacing(1),marginBottom:theme.spacing(0.5),borderRadius:theme.spacing(1),\"&:hover\":{backgroundColor:theme.palette.action.hover}},participantAvatar:{width:45,height:45},adminIcon:{color:theme.palette.warning.main,fontSize:16,backgroundColor:theme.palette.background.paper,borderRadius:\"50%\",padding:2},superAdminIcon:{color:theme.palette.error.main,fontSize:16,backgroundColor:theme.palette.background.paper,borderRadius:\"50%\",padding:2},adminChip:{backgroundColor:theme.palette.warning.light,color:theme.palette.warning.contrastText,fontSize:\"0.7rem\"},superAdminChip:{backgroundColor:theme.palette.error.light,color:theme.palette.error.contrastText,fontSize:\"0.7rem\"},// Estilos para o modal da imagem\nimageModal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},imageModalContent:{outline:\"none\",maxWidth:\"90vw\",maxHeight:\"90vh\"},expandedImage:{width:\"100%\",height:\"auto\",maxWidth:\"500px\",borderRadius:theme.spacing(1)},exportButton:{marginLeft:theme.spacing(2),textTransform:\"none\"},exportButtonContainer:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:theme.spacing(2)}}));function TabPanel(props){var _props$classes;const{children,value,index}=props,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({role:\"tabpanel\",hidden:value!==index,id:\"contact-tabpanel-\".concat(index),\"aria-labelledby\":\"contact-tab-\".concat(index),style:{height:\"100%\",display:value===index?\"flex\":\"none\",flexDirection:\"column\",overflow:\"hidden\"}},other),{},{children:value===index&&/*#__PURE__*/_jsx(\"div\",{className:(_props$classes=props.classes)===null||_props$classes===void 0?void 0:_props$classes.tabPanel,style:{flex:1,overflow:\"auto\"},children:children})}));}const ContactDrawer=_ref=>{var _contact$name,_contact$name$charAt,_contact$extraInfo;let{open,handleDrawerClose,contact,ticket,loading}=_ref;const classes=useStyles();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const history=useHistory();const[modalOpen,setModalOpen]=useState(false);const[blockingContact,setBlockingContact]=useState(contact.active);const[openForm,setOpenForm]=useState(false);const[tabValue,setTabValue]=useState(0);const[mediaData,setMediaData]=useState({images:[],videos:[],audios:[],documents:[],links:[]});const[loadingMedia,setLoadingMedia]=useState(false);const{get}=useCompanySettings();const[hideNum,setHideNum]=useState(false);const{user}=useContext(AuthContext);const[acceptAudioMessage,setAcceptAudio]=useState(contact.acceptAudioMessage);const[imageModalOpen,setImageModalOpen]=useState(false);// Estado para o modal da imagem\nconst[newTicketModalOpen,setNewTicketModalOpen]=useState(false);const[participantInitialContact,setParticipantInitialContact]=useState(undefined);const[openTicketAlert,setOpenTicketAlert]=useState(false);const[openTicketInfo,setOpenTicketInfo]=useState({user:\"\",queue:\"\"});const[participants,setParticipants]=useState([]);const[loadingParticipants,setLoadingParticipants]=useState(false);// Estados para pesquisa\nconst[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[searchLoading,setSearchLoading]=useState(false);const[showSearchResults,setShowSearchResults]=useState(false);const[searchTimeout,setSearchTimeout]=useState(null);// Função para buscar participantes do grupo\nconst fetchGroupParticipants=async()=>{if(!contact.isGroup)return;setLoadingParticipants(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/participants\"));setParticipants(data);}catch(err){console.error(\"Erro ao buscar participantes do grupo:\",err);toastError(\"Erro ao carregar participantes do grupo\");setParticipants([]);}finally{setLoadingParticipants(false);}};useEffect(()=>{async function fetchData(){const lgpdHideNumber=await get({\"column\":\"lgpdHideNumber\"});if(lgpdHideNumber===\"enabled\")setHideNum(true);}fetchData();},[]);useEffect(()=>{setAcceptAudio(contact.acceptAudioMessage);setOpenForm(false);setTabValue(0);// Limpar pesquisa ao trocar de contato\nsetSearchTerm(\"\");setSearchResults([]);setShowSearchResults(false);setParticipants([]);// Limpar participantes\nif(open&&contact.id){fetchMediaData();// Buscar participantes apenas se for um grupo\nif(contact.isGroup){fetchGroupParticipants();}}},[open,contact]);// Função para abrir modal da imagem\nconst handleImageClick=()=>{if(contact!==null&&contact!==void 0&&contact.urlPicture){setImageModalOpen(true);}};// Função para fechar modal da imagem\nconst handleImageModalClose=()=>{setImageModalOpen(false);};// Função para buscar mensagens\nconst searchMessages=async searchParam=>{if(!searchParam||searchParam.trim().length<2){setSearchResults([]);setShowSearchResults(false);return;}setSearchLoading(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/messages/search\"),{params:{searchParam:searchParam.trim()}});setSearchResults(data.messages||[]);setShowSearchResults(true);}catch(err){console.error(\"Erro ao buscar mensagens:\",err);toastError(err);setSearchResults([]);}finally{setSearchLoading(false);}};// Handler para mudança no campo de pesquisa com debounce\nconst handleSearchChange=event=>{const value=event.target.value;setSearchTerm(value);// Clear timeout anterior\nif(searchTimeout){clearTimeout(searchTimeout);}// Definir novo timeout para debounce\nconst newTimeout=setTimeout(()=>{searchMessages(value);},500);setSearchTimeout(newTimeout);};// Limpar pesquisa\nconst clearSearch=()=>{setSearchTerm(\"\");setSearchResults([]);setShowSearchResults(false);if(searchTimeout){clearTimeout(searchTimeout);}};// Destacar texto na pesquisa\nconst highlightSearchTerm=text=>{if(!searchTerm||!text)return text;const regex=new RegExp(\"(\".concat(searchTerm,\")\"),'gi');return text.replace(regex,'<mark>$1</mark>');};// Navegar para mensagem (placeholder - implementar conforme necessário)\nconst handleGoToMessage=message=>{// Aqui você pode implementar a navegação para a mensagem específica\nconsole.log(\"Navegar para mensagem:\",message);toast.info(\"Mensagem encontrada: \".concat(message.body.substring(0,50),\"...\"));setShowSearchResults(false);};const fetchMediaData=async()=>{setLoadingMedia(true);try{const{data}=await api.get(\"/contacts/\".concat(contact.id,\"/media\"));// Garantir que as URLs das mídias estejam corretas\nconst processedData={images:data.images.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),videos:data.videos.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),audios:data.audios.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),documents:data.documents.map(item=>_objectSpread(_objectSpread({},item),{},{mediaUrl:item.mediaUrl&&!item.mediaUrl.startsWith('http')?\"\".concat(process.env.REACT_APP_BACKEND_URL).concat(item.mediaUrl):item.mediaUrl})),links:data.links};setMediaData(processedData);}catch(err){var _err$response,_err$config;console.error('Erro ao buscar mídias do contato:',{status:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status,url:err===null||err===void 0?void 0:(_err$config=err.config)===null||_err$config===void 0?void 0:_err$config.url,message:err===null||err===void 0?void 0:err.message});toastError(err);setMediaData({images:[],videos:[],audios:[],documents:[],links:[]});}finally{setLoadingMedia(false);}};const renderParticipants=()=>{if(loadingParticipants){return/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{size:40})});}if(participants.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum participante encontrado\"})});}return/*#__PURE__*/_jsx(List,{className:classes.participantsList,children:participants.map(participant=>{var _participant$name,_participant$name$cha;return/*#__PURE__*/_jsxs(ListItem,{className:classes.participantItem,button:true,onClick:()=>handleOpenChatWithParticipant(participant),children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Badge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},badgeContent:participant.isSuperAdmin?/*#__PURE__*/_jsx(PermIdentityIcon,{className:classes.superAdminIcon}):participant.isAdmin?/*#__PURE__*/_jsx(PermIdentityIcon,{className:classes.adminIcon}):null,children:/*#__PURE__*/_jsx(Avatar,{src:participant.profilePicUrl,alt:participant.name,className:classes.participantAvatar,children:(_participant$name=participant.name)===null||_participant$name===void 0?void 0:(_participant$name$cha=_participant$name.charAt(0))===null||_participant$name$cha===void 0?void 0:_participant$name$cha.toUpperCase()})})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",noWrap:true,children:participant.name}),secondary:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",noWrap:true,children:formatSerializedId(participant.number)})}),/*#__PURE__*/_jsxs(ListItemSecondaryAction,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"end\",size:\"small\",\"aria-label\":\"Conversar\",onClick:e=>{e.stopPropagation();handleOpenChatWithParticipant(participant);},children:/*#__PURE__*/_jsx(ChatIcon,{})}),participant.isSuperAdmin&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:\"Super Admin\",className:classes.superAdminChip,icon:/*#__PURE__*/_jsx(PermIdentityIcon,{})}),participant.isAdmin&&!participant.isSuperAdmin&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:\"Admin\",className:classes.adminChip,icon:/*#__PURE__*/_jsx(PersonIcon,{})})]})]},participant.id);})});};// Abrir modal de conversa com participante\nconst handleOpenChatWithParticipant=async participant=>{try{var _profile$data;// Buscar contato pelo número; se não existir, criar\nconst profile=await api.get(\"/contacts/profile/\".concat(participant.number));let contactId=(profile===null||profile===void 0?void 0:(_profile$data=profile.data)===null||_profile$data===void 0?void 0:_profile$data.contactId)||0;if(!contactId||contactId===0){var _createResp$data;const createResp=await api.post('/contacts',{name:participant.name||participant.number,number:participant.number});contactId=createResp===null||createResp===void 0?void 0:(_createResp$data=createResp.data)===null||_createResp$data===void 0?void 0:_createResp$data.id;}if(contactId){// Verificar se já existe ticket aberto para este contato\ntry{var _ticketsResponse$data,_ticketsResponse$data2;// Buscar todos os tickets abertos (open, pending, chatbot)\nconst ticketsResponse=await api.get('/tickets',{params:{pageNumber:\"1\"}});// Procurar ticket existente para este contato\nconst existingTicket=(_ticketsResponse$data=ticketsResponse.data)===null||_ticketsResponse$data===void 0?void 0:(_ticketsResponse$data2=_ticketsResponse$data.tickets)===null||_ticketsResponse$data2===void 0?void 0:_ticketsResponse$data2.find(ticket=>ticket.contactId===contactId&&[\"open\",\"pending\",\"chatbot\"].includes(ticket.status));if(existingTicket){// Ticket já existe - verificar se pertence a outro usuário\nif(existingTicket.userId!==user.id){var _existingTicket$user,_existingTicket$queue;setOpenTicketInfo({user:((_existingTicket$user=existingTicket.user)===null||_existingTicket$user===void 0?void 0:_existingTicket$user.name)||\"Outro usuário\",queue:((_existingTicket$queue=existingTicket.queue)===null||_existingTicket$queue===void 0?void 0:_existingTicket$queue.name)||\"Sem fila\"});setOpenTicketAlert(true);return;}else{// Ticket existe e pertence ao próprio usuário\n// Navegar para o ticket existente\nhandleTicketCreated(existingTicket);return;}}}catch(checkError){console.error('Erro ao verificar tickets existentes:',checkError);toastError('Erro ao verificar tickets existentes');return;}// Se chegou aqui, pode abrir o modal para criar ticket\nsetParticipantInitialContact({id:contactId,name:participant.name,number:participant.number});setNewTicketModalOpen(true);}}catch(err){console.error('Erro ao abrir conversa com participante:',err);toastError('Não foi possível iniciar a conversa com este participante');}};// Handler para quando o ticket for criado\nconst handleTicketCreated=ticket=>{setNewTicketModalOpen(false);if(ticket&&(ticket.uuid||ticket.id)){const target=ticket.uuid?\"/tickets/\".concat(ticket.uuid):\"/tickets/\".concat(ticket.id);history.push(target);}};// Função para exportar participantes para Excel\nconst handleExportParticipants=()=>{if(participants.length===0){toast.error(\"Não há participantes para exportar\");return;}try{// Preparar dados para exportação\nconst exportData=participants.map((participant,index)=>({\"#\":index+1,\"Nome\":participant.name||\"Sem nome\",\"Número\":formatSerializedId(participant.number),\"Role\":participant.isSuperAdmin?\"Super Admin\":participant.isAdmin?\"Admin\":\"Participante\"}));// Criar workbook e worksheet\nconst wb=XLSX.utils.book_new();const ws=XLSX.utils.json_to_sheet(exportData);// Ajustar largura das colunas\nconst colWidths=[{wch:5},// #\n{wch:30},// Nome\n{wch:20},// Número\n{wch:15}// Role\n];ws['!cols']=colWidths;// Adicionar worksheet ao workbook\nXLSX.utils.book_append_sheet(wb,ws,\"Participantes\");// Gerar nome do arquivo com o nome do grupo e data\nconst groupName=contact.name||\"Grupo\";const fileName=\"Participantes_\".concat(groupName,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\");// Fazer download do arquivo\nXLSX.writeFile(wb,fileName);toast.success(\"Arquivo \\\"\".concat(fileName,\"\\\" exportado com sucesso!\"));}catch(err){console.error(\"Erro ao exportar participantes:\",err);toastError(\"Erro ao exportar participantes\");}};const handleContactToggleAcceptAudio=async()=>{try{const contact=await api.put(\"/contacts/toggleAcceptAudio/\".concat(ticket.contact.id));setAcceptAudio(contact.data.acceptAudioMessage);}catch(err){toastError(err);}};const handleBlockContact=async contactId=>{try{await api.put(\"/contacts/block/\".concat(contactId),{active:false});toast.success(\"Contato bloqueado\");}catch(err){toastError(err);}setBlockingContact(true);};const handleUnBlockContact=async contactId=>{try{await api.put(\"/contacts/block/\".concat(contactId),{active:true});toast.success(\"Contato desbloqueado\");}catch(err){toastError(err);}setBlockingContact(false);};const handleTabChange=(event,newValue)=>{setTabValue(newValue);// Limpar pesquisa ao trocar de aba\nif(newValue!==0){clearSearch();}};const renderSearchResults=()=>{if(searchLoading){return/*#__PURE__*/_jsxs(\"div\",{className:classes.emptySearchState,children:[/*#__PURE__*/_jsx(CircularProgress,{size:20}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginLeft:8},children:\"Buscando...\"})]});}if(searchResults.length===0&&searchTerm.length>=2){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptySearchState,children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Nenhuma mensagem encontrada\"})});}return/*#__PURE__*/_jsx(\"div\",{className:classes.searchResults,children:searchResults.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:classes.searchResultItem,onClick:()=>handleGoToMessage(message),children:[/*#__PURE__*/_jsx(Typography,{className:classes.searchResultText,dangerouslySetInnerHTML:{__html:highlightSearchTerm(message.body.substring(0,100)+(message.body.length>100?\"...\":\"\"))}}),/*#__PURE__*/_jsxs(Typography,{className:classes.searchResultDate,children:[new Date(message.createdAt).toLocaleString('pt-BR'),message.fromMe?\" (Você)\":\" (\".concat(contact.name,\")\")]})]},message.id))});};const renderMediaContent=()=>{if(loadingMedia){return/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})});}const renderMediaGrid=(items,type)=>{if(items.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[type===\"images\"&&\"Nenhuma imagem encontrada\",type===\"videos\"&&\"Nenhum vídeo encontrado\",type===\"audios\"&&\"Nenhum áudio encontrado\"]})});}return/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:items.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>{if(type===\"images\"||type===\"videos\"||type===\"audios\"){window.open(item.mediaUrl,'_blank');}},children:[type===\"images\"&&/*#__PURE__*/_jsx(\"img\",{src:item.mediaUrl,alt:\"\",className:classes.mediaThumbnail}),type===\"videos\"&&/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]}),type===\"audios\"&&/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})]})},index))});};const renderDocuments=()=>{if(mediaData.documents.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum documento encontrado\"})});}return/*#__PURE__*/_jsx(List,{children:mediaData.documents.map((doc,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(doc.mediaUrl,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFileIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.body||\"Documento \".concat(index+1),secondary:new Date(doc.createdAt).toLocaleDateString('pt-BR')})]},index))});};const renderLinks=()=>{if(mediaData.links.length===0){return/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum link encontrado\"})});}return/*#__PURE__*/_jsx(List,{children:mediaData.links.map((link,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(link.url,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LinkIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:link.title||link.url,secondary:new Date(link.createdAt).toLocaleDateString('pt-BR')})]},index))});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,classes:classes,children:renderMediaGrid(mediaData.images,\"images\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:2,classes:classes,children:renderMediaGrid(mediaData.videos,\"videos\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:3,classes:classes,children:renderMediaGrid(mediaData.audios,\"audios\")}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:4,classes:classes,children:renderDocuments()}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:5,classes:classes,children:renderLinks()})]});};if(loading)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[newTicketModalOpen&&/*#__PURE__*/_jsx(NewTicketModal,{modalOpen:newTicketModalOpen,onClose:handleTicketCreated,initialContact:participantInitialContact||undefined}),/*#__PURE__*/_jsx(ShowTicketOpenModal,{isOpen:openTicketAlert,handleClose:()=>setOpenTicketAlert(false),user:openTicketInfo.user,queue:openTicketInfo.queue}),/*#__PURE__*/_jsxs(Drawer,{className:classes.drawer,variant:isMobile?\"temporary\":\"persistent\"// variant=\"persistent\"\n,anchor:\"right\",open:open,onClose:isMobile?handleDrawerClose:undefined,PaperProps:{style:isMobile?{width:\"100vw\",maxWidth:\"400px\",height:\"100vh\",position:\"fixed\",top:0,right:0,zIndex:9999,backgroundColor:theme.palette.background.paper}:{position:\"absolute\",right:0,top:0,height:\"100%\",width:drawerWidth,zIndex:1200}},ModalProps:isMobile?{style:{position:\"fixed\",zIndex:9999}}:{container:document.getElementById(\"drawer-container\"),style:{position:\"relative\",zIndex:1200}},classes:{paper:classes.drawerPaper},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(Typography,{style:{justifySelf:\"center\"},children:i18n.t(\"contactDrawer.header\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contentWrapper,children:[/*#__PURE__*/_jsx(Box,{className:classes.switchContainer,children:/*#__PURE__*/_jsxs(Typography,{style:{marginBottom:0},variant:\"subtitle2\",children:[/*#__PURE__*/_jsx(Switch,{size:\"small\",checked:acceptAudioMessage,onChange:()=>handleContactToggleAcceptAudio(),name:\"disableBot\",color:\"primary\"}),i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.profileSection,children:/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactHeader,children:[/*#__PURE__*/_jsx(Avatar,{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:contact.name,className:classes.contactAvatar,onClick:handleImageClick,children:(_contact$name=contact.name)===null||_contact$name===void 0?void 0:(_contact$name$charAt=_contact$name.charAt(0))===null||_contact$name$charAt===void 0?void 0:_contact$name$charAt.toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contactCardHeader,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",style:{marginBottom:8},children:contact.name}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,textAlign:\"center\",marginBottom:4,// Destacar em vermelho se número parece ser um LID\ncolor:contact.number&&contact.number.includes('@')?'#f44336':'inherit'},children:[contact.number&&contact.number.includes('@')&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10,color:'#f44336',display:'block'},children:\"\\u26A0\\uFE0F Poss\\xEDvel erro: N\\xFAmero parece ser LID\"}),hideNum&&user.profile===\"user\"?formatSerializedId(contact.number).slice(0,-6)+\"**-**\"+contact.number.slice(-2):formatSerializedId(contact.number)]}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,textAlign:\"center\",marginBottom:4},children:[\"LID: \",contact.lid||\"\"]}),contact.email&&/*#__PURE__*/_jsx(Typography,{style:{color:\"primary\",fontSize:12},align:\"center\",children:/*#__PURE__*/_jsx(Link,{href:\"mailto:\".concat(contact.email),children:contact.email})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.contactActions,children:[/*#__PURE__*/_jsx(Tooltip,{title:i18n.t(\"contactDrawer.buttons.edit\"),arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.actionIcon,\" \").concat(classes.editIcon),onClick:()=>setModalOpen(!openForm),size:\"small\",children:/*#__PURE__*/_jsx(CreateIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:!contact.active?\"Desbloquear contato\":\"Bloquear contato\",arrow:true,children:/*#__PURE__*/_jsx(IconButton,{className:\"\".concat(classes.actionIcon,\" \").concat(!contact.active?classes.unblockIcon:classes.blockIcon),onClick:()=>contact.active?handleBlockContact(contact.id):handleUnBlockContact(contact.id),disabled:loading,size:\"small\",children:!contact.active?/*#__PURE__*/_jsx(LockOpenIcon,{}):/*#__PURE__*/_jsx(BlockIcon,{})})})]}),contact.id&&openForm&&/*#__PURE__*/_jsx(ContactForm,{initialContact:contact,onCancel:()=>setOpenForm(false)})]})}),/*#__PURE__*/_jsxs(Box,{className:classes.searchContainer,children:[/*#__PURE__*/_jsx(TextField,{className:classes.searchField,fullWidth:true,size:\"small\",variant:\"outlined\",placeholder:\"Pesquisar nas mensagens...\",value:searchTerm,onChange:handleSearchChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{fontSize:\"small\"})}),endAdornment:searchTerm&&/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:clearSearch,edge:\"end\",children:/*#__PURE__*/_jsx(ClearIcon,{fontSize:\"small\"})})})}}),/*#__PURE__*/_jsx(Collapse,{in:showSearchResults,children:/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",style:{marginTop:8},children:renderSearchResults()})})]}),/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:handleTabChange,variant:\"scrollable\",scrollButtons:\"auto\",className:classes.tabsContainer,children:[/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsx(InfoIcon,{}),\"aria-label\":\"Informa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(ImageIcon,{}),mediaData.images.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.images.length,className:classes.tabChip})]}),\"aria-label\":\"Imagens\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{}),mediaData.videos.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.videos.length,className:classes.tabChip})]}),\"aria-label\":\"V\\xEDdeos\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{}),mediaData.audios.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.audios.length,className:classes.tabChip})]}),\"aria-label\":\"\\xC1udios\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(InsertDriveFileIcon,{}),mediaData.documents.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.documents.length,className:classes.tabChip})]}),\"aria-label\":\"Documentos\"}),/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(LinkIcon,{}),mediaData.links.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:mediaData.links.length,className:classes.tabChip})]}),\"aria-label\":\"Links\"}),contact.isGroup&&/*#__PURE__*/_jsx(Tab,{className:classes.tabIcon,icon:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(GroupIcon,{}),participants.length>0&&/*#__PURE__*/_jsx(Chip,{size:\"small\",label:participants.length,className:classes.tabChip})]}),\"aria-label\":\"Participantes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.scrollableContent,children:loading?/*#__PURE__*/_jsx(ContactDrawerSkeleton,{classes:classes}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:0,classes:classes,children:[/*#__PURE__*/_jsx(TagsKanbanContainer,{ticket:ticket,className:classes.contactTags}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{marginBottom:10},children:i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}),/*#__PURE__*/_jsx(ContactNotes,{ticket:ticket})]}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(ContactModal,{open:modalOpen,onClose:()=>setModalOpen(false),contactId:contact.id}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:i18n.t(\"contactDrawer.extraInfo\")}),contact===null||contact===void 0?void 0:(_contact$extraInfo=contact.extraInfo)===null||_contact$extraInfo===void 0?void 0:_contact$extraInfo.map(info=>/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactExtraInfo,children:[/*#__PURE__*/_jsx(InputLabel,{children:info.name}),/*#__PURE__*/_jsx(Typography,{component:\"div\",noWrap:true,style:{paddingTop:2},children:/*#__PURE__*/_jsx(MarkdownWrapper,{children:info.value})})]},info.id))]})]}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.images.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhuma imagem encontrada\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.images.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsx(\"img\",{src:item.mediaUrl,alt:\"\",className:classes.mediaThumbnail})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:2,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.videos.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum v\\xEDdeo encontrado\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.videos.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(VideocamIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:3,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.audios.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum \\xE1udio encontrado\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,className:classes.mediaGrid,children:mediaData.audios.map((item,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(Paper,{className:classes.mediaItem,elevation:1,onClick:()=>window.open(item.mediaUrl,'_blank'),children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(AudiotrackIcon,{className:classes.mediaIcon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",style:{marginTop:4},children:new Date(item.createdAt).toLocaleDateString('pt-BR')})]})})},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:4,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.documents.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum documento encontrado\"})}):/*#__PURE__*/_jsx(List,{children:mediaData.documents.map((doc,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(doc.mediaUrl,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(InsertDriveFileIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.body||\"Documento \".concat(index+1),secondary:new Date(doc.createdAt).toLocaleDateString('pt-BR')})]},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:5,classes:classes,children:loadingMedia?/*#__PURE__*/_jsx(\"div\",{className:classes.loadingContainer,children:/*#__PURE__*/_jsx(CircularProgress,{})}):mediaData.links.length===0?/*#__PURE__*/_jsx(\"div\",{className:classes.emptyState,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Nenhum link encontrado\"})}):/*#__PURE__*/_jsx(List,{children:mediaData.links.map((link,index)=>/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.linkItem,onClick:()=>window.open(link.url,'_blank'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LinkIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:link.title||link.url,secondary:new Date(link.createdAt).toLocaleDateString('pt-BR')})]},index))})}),contact.isGroup&&/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:6,classes:classes,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.exportButtonContainer,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(GroupIcon,{style:{marginRight:8}}),\"Participantes do Grupo (\",participants.length,\")\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",size:\"small\",startIcon:/*#__PURE__*/_jsx(GetAppIcon,{}),onClick:handleExportParticipants,className:classes.exportButton,disabled:participants.length===0,children:\"Exportar\"})]}),renderParticipants()]})]})})]})]}),/*#__PURE__*/_jsx(Dialog,{open:imageModalOpen,onClose:handleImageModalClose,className:classes.imageModal,maxWidth:\"md\",fullWidth:true,children:/*#__PURE__*/_jsx(DialogContent,{className:classes.imageModalContent,children:/*#__PURE__*/_jsx(\"img\",{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:(contact===null||contact===void 0?void 0:contact.name)||\"Foto do contato\",className:classes.expandedImage})})})]});};export default ContactDrawer;","map":{"version":3,"names":["React","useEffect","useState","useContext","makeStyles","Typography","IconButton","CloseIcon","Drawer","Link","InputLabel","Button","Paper","GroupIcon","PermIdentityIcon","PersonIcon","CreateIcon","SearchIcon","ClearIcon","BlockIcon","LockOpenIcon","Avatar","formatSerializedId","i18n","ModalImageCors","ContactDrawerSkeleton","MarkdownWrapper","Badge","CardHeader","Switch","Tooltip","Tabs","Tab","Box","List","ListItem","ListItemAvatar","ListItemText","ListItemIcon","ListItemSecondaryAction","Divider","CircularProgress","Grid","Chip","TextField","InputAdornment","Collapse","Dialog","DialogContent","useMediaQuery","useTheme","ContactForm","ContactModal","ContactNotes","ImageIcon","VideocamIcon","AudiotrackIcon","InsertDriveFileIcon","LinkIcon","InfoIcon","MessageIcon","AuthContext","useCompanySettings","toastError","api","toast","TagsKanbanContainer","NewTicketModal","ChatIcon","useHistory","ShowTicketOpenModal","GetAppIcon","XLSX","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","drawerWidth","useStyles","theme","drawer","width","flexShrink","zIndex","tabChip","minHeight","height","fontSize","backgroundColor","palette","primary","main","color","contrastText","marginLeft","drawerPaper","display","flexDirection","borderTop","borderRight","borderBottom","borderTopRightRadius","borderBottomRightRadius","overflow","breakpoints","down","borderRadius","header","inputBackground","alignItems","padding","spacing","justifyContent","position","profileSection","searchContainer","background","paper","searchField","searchResults","_objectSpread","maxHeight","scrollbarStyles","searchResultItem","cursor","action","hover","searchResultText","light","searchResultDate","text","secondary","marginTop","emptySearchState","textAlign","tabsContainer","contentWrapper","scrollableContent","flex","tabPanel","contactAvatar","margin","border","concat","opacity","contactHeader","contactDetails","contactExtraInfo","switchContainer","marginBottom","mediaGrid","mediaItem","transition","transform","mediaThumbnail","objectFit","mediaIcon","loadingContainer","emptyState","linkItem","contactActions","gap","actionIcon","divider","editIcon","blockIcon","error","unblockIcon","success","tabIcon","minWidth","contactCardHeader","participantsList","participantItem","paddingLeft","paddingRight","participantAvatar","adminIcon","warning","superAdminIcon","adminChip","superAdminChip","imageModal","imageModalContent","outline","maxWidth","expandedImage","exportButton","textTransform","exportButtonContainer","TabPanel","props","_props$classes","children","value","index","other","_objectWithoutProperties","_excluded","role","hidden","id","style","className","classes","ContactDrawer","_ref","_contact$name","_contact$name$charAt","_contact$extraInfo","open","handleDrawerClose","contact","ticket","loading","isMobile","history","modalOpen","setModalOpen","blockingContact","setBlockingContact","active","openForm","setOpenForm","tabValue","setTabValue","mediaData","setMediaData","images","videos","audios","documents","links","loadingMedia","setLoadingMedia","get","hideNum","setHideNum","user","acceptAudioMessage","setAcceptAudio","imageModalOpen","setImageModalOpen","newTicketModalOpen","setNewTicketModalOpen","participantInitialContact","setParticipantInitialContact","undefined","openTicketAlert","setOpenTicketAlert","openTicketInfo","setOpenTicketInfo","queue","participants","setParticipants","loadingParticipants","setLoadingParticipants","searchTerm","setSearchTerm","setSearchResults","searchLoading","setSearchLoading","showSearchResults","setShowSearchResults","searchTimeout","setSearchTimeout","fetchGroupParticipants","isGroup","data","err","console","fetchData","lgpdHideNumber","fetchMediaData","handleImageClick","urlPicture","handleImageModalClose","searchMessages","searchParam","trim","length","params","messages","handleSearchChange","event","target","clearTimeout","newTimeout","setTimeout","clearSearch","highlightSearchTerm","regex","RegExp","replace","handleGoToMessage","message","log","info","body","substring","processedData","map","item","mediaUrl","startsWith","process","env","REACT_APP_BACKEND_URL","_err$response","_err$config","status","response","url","config","renderParticipants","size","variant","participant","_participant$name","_participant$name$cha","button","onClick","handleOpenChatWithParticipant","overlap","anchorOrigin","vertical","horizontal","badgeContent","isSuperAdmin","isAdmin","src","profilePicUrl","alt","name","charAt","toUpperCase","noWrap","number","edge","e","stopPropagation","label","icon","_profile$data","profile","contactId","_createResp$data","createResp","post","_ticketsResponse$data","_ticketsResponse$data2","ticketsResponse","pageNumber","existingTicket","tickets","find","includes","userId","_existingTicket$user","_existingTicket$queue","handleTicketCreated","checkError","uuid","push","handleExportParticipants","exportData","wb","utils","book_new","ws","json_to_sheet","colWidths","wch","book_append_sheet","groupName","fileName","Date","toISOString","split","writeFile","handleContactToggleAcceptAudio","put","handleBlockContact","handleUnBlockContact","handleTabChange","newValue","renderSearchResults","dangerouslySetInnerHTML","__html","createdAt","toLocaleString","fromMe","renderMediaContent","renderMediaGrid","items","type","container","xs","elevation","window","toLocaleDateString","renderDocuments","doc","renderLinks","link","title","onClose","initialContact","isOpen","handleClose","anchor","PaperProps","top","right","ModalProps","document","getElementById","justifySelf","t","checked","onChange","square","align","slice","lid","email","href","arrow","disabled","onCancel","fullWidth","placeholder","InputProps","startAdornment","endAdornment","in","scrollButtons","contactTags","extraInfo","component","paddingTop","marginRight","startIcon"],"sources":["/home/deploy/codigologlow/frontend/src/components/ContactDrawer/index.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity';\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CreateIcon from '@material-ui/icons/Create';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport BlockIcon from '@material-ui/icons/Block';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport Avatar from '@material-ui/core/Avatar';\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { i18n } from \"../../translate/i18n\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport {\n\tBadge,\n\tCardHeader,\n\tSwitch,\n\tTooltip,\n\tTabs,\n\tTab,\n\tBox,\n\tList,\n\tListItem,\n\tListItemAvatar,\n\tListItemText,\n\tListItemIcon,\n\tListItemSecondaryAction,\n\tDivider,\n\tCircularProgress,\n\tGrid,\n\tChip,\n\tTextField,\n\tInputAdornment,\n\tCollapse,\n\tDialog,\n\tDialogContent,\n\tuseMediaQuery\n} from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport AudiotrackIcon from '@material-ui/icons/Audiotrack';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport LinkIcon from '@material-ui/icons/Link';\nimport InfoIcon from '@material-ui/icons/Info';\nimport MessageIcon from '@material-ui/icons/Message';\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\nimport NewTicketModal from \"../NewTicketModal\";\nimport ChatIcon from '@material-ui/icons/Chat';\nimport { useHistory } from \"react-router-dom\";\nimport ShowTicketOpenModal from \"../ShowTicketOpenModal\";\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport * as XLSX from \"xlsx\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t\tzIndex: \"auto\", // Z-index menor que modais mas maior que conteúdo normal\n\t},\n\ttabChip: {\n\t\tminHeight: 16,\n\t\theight: 16,\n\t\tfontSize: \"0.7rem\",\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.primary.contrastText,\n\t\tmarginLeft: 4,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t\theight: \"100%\",\n\t\toverflow: \"hidden\", // Importante para evitar overflow no drawer principal\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\twidth: \"100%\", // No mobile, usar largura total\n\t\t\tborderRadius: 0, // Sem bordas arredondadas no mobile\n\t\t},\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.inputBackground,\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"50px\",\n\t\tjustifyContent: \"flex-start\",\n\t\tflexShrink: 0,\n\t\tposition: \"relative\",\n\t\tzIndex: 1,\n\t},\n\t// headerTitle: {\n\t// \tflexGrow: 1,\n\t// \ttextAlign: \"center\",\n\t// \tcolor: theme.palette.text.primary,\n\t// \tfontWeight: 600,\n\t// \twhiteSpace: \"nowrap\",\n\t// \toverflow: \"hidden\",\n\t// \ttextOverflow: \"ellipsis\",\n\t// },\n\tprofileSection: {\n\t\tflexShrink: 0,\n\t\tbackgroundColor: theme.palette.inputBackground,\n\t},\n\tsearchContainer: {\n\t\tpadding: theme.spacing(1, 2),\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tflexShrink: 0,\n\t},\n\tsearchField: {\n\t\t\"& .MuiOutlinedInput-root\": {\n\t\t\theight: 40,\n\t\t}\n\t},\n\tsearchResults: {\n\t\tmaxHeight: 200,\n\t\toverflow: \"auto\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tsearchResultItem: {\n\t\tpadding: theme.spacing(1),\n\t\tcursor: \"pointer\",\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t},\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n\tsearchResultText: {\n\t\tfontSize: \"0.85rem\",\n\t\t\"& mark\": {\n\t\t\tbackgroundColor: theme.palette.primary.light,\n\t\t\tcolor: theme.palette.primary.contrastText,\n\t\t\tpadding: \"0 2px\",\n\t\t\tborderRadius: 2,\n\t\t}\n\t},\n\tsearchResultDate: {\n\t\tfontSize: \"0.75rem\",\n\t\tcolor: theme.palette.text.secondary,\n\t\tmarginTop: 4,\n\t},\n\temptySearchState: {\n\t\ttextAlign: \"center\",\n\t\tpadding: theme.spacing(2),\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: \"0.85rem\",\n\t},\n\ttabsContainer: {\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tflexShrink: 0,\n\t},\n\tcontentWrapper: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t},\n\tscrollableContent: {\n\t\tflex: 1,\n\t\toverflow: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\ttabPanel: {\n\t\tflex: 1,\n\t\toverflow: \"auto\",\n\t\tpadding: theme.spacing(1),\n\t\t...theme.scrollbarStyles,\n\t\t// Garantir que cada tab panel tenha rolagem independente\n\t\theight: \"100%\",\n\t\tmaxHeight: \"100%\",\n\t},\n\t// Avatar redondo e menor\n\tcontactAvatar: {\n\t\twidth: 80,\n\t\theight: 80,\n\t\tborderRadius: \"50%\",\n\t\tmargin: theme.spacing(1),\n\t\tborder: `2px solid ${theme.palette.primary.main}`,\n\t\tcursor: \"pointer\", // Adicionar cursor pointer\n\t\t\"&:hover\": {\n\t\t\topacity: 0.8,\n\t\t},\n\t},\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: theme.spacing(1),\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n\tswitchContainer: {\n\t\tpadding: theme.spacing(1, 2),\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tmarginBottom: theme.spacing(1),\n\t\tflexShrink: 0,\n\t},\n\tmediaGrid: {\n\t\tpadding: theme.spacing(1),\n\t},\n\tmediaItem: {\n\t\tcursor: \"pointer\",\n\t\ttransition: \"transform 0.2s\",\n\t\t\"&:hover\": {\n\t\t\ttransform: \"scale(1.05)\",\n\t\t},\n\t\tborderRadius: theme.spacing(1),\n\t\toverflow: \"hidden\",\n\t\theight: 100,\n\t\tbackgroundColor: theme.palette.action.hover,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\tmediaThumbnail: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tobjectFit: \"cover\",\n\t},\n\tmediaIcon: {\n\t\tfontSize: 40,\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\tloadingContainer: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: theme.spacing(3),\n\t},\n\temptyState: {\n\t\ttextAlign: \"center\",\n\t\tpadding: theme.spacing(3),\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\tlinkItem: {\n\t\tpadding: theme.spacing(1),\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t},\n\t\tborderRadius: theme.spacing(0.5),\n\t\tmarginBottom: theme.spacing(0.5),\n\t},\n\t// Novos estilos para os ícones de ação\n\tcontactActions: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tgap: theme.spacing(1),\n\t\tmarginTop: theme.spacing(1),\n\t\tjustifyContent: \"center\",\n\t},\n\tactionIcon: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t},\n\t},\n\teditIcon: {\n\t\tcolor: theme.palette.primary.main,\n\t},\n\tblockIcon: {\n\t\tcolor: theme.palette.error.main,\n\t},\n\tunblockIcon: {\n\t\tcolor: theme.palette.success.main,\n\t},\n\ttabIcon: {\n\t\tminHeight: 48,\n\t\tminWidth: 'auto',\n\t\tpadding: theme.spacing(0.5, 1),\n\t},\n\t// Garantir que o CardHeader não cause overflow\n\tcontactCardHeader: {\n\t\twidth: '100%',\n\t\tpadding: theme.spacing(1),\n\t},\n\tparticipantsList: {\n\t\tpadding: 0,\n\t},\n\tparticipantItem: {\n\t\tpaddingLeft: theme.spacing(1),\n\t\tpaddingRight: theme.spacing(1),\n\t\tmarginBottom: theme.spacing(0.5),\n\t\tborderRadius: theme.spacing(1),\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t},\n\t},\n\tparticipantAvatar: {\n\t\twidth: 45,\n\t\theight: 45,\n\t},\n\tadminIcon: {\n\t\tcolor: theme.palette.warning.main,\n\t\tfontSize: 16,\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborderRadius: \"50%\",\n\t\tpadding: 2,\n\t},\n\tsuperAdminIcon: {\n\t\tcolor: theme.palette.error.main,\n\t\tfontSize: 16,\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborderRadius: \"50%\",\n\t\tpadding: 2,\n\t},\n\tadminChip: {\n\t\tbackgroundColor: theme.palette.warning.light,\n\t\tcolor: theme.palette.warning.contrastText,\n\t\tfontSize: \"0.7rem\",\n\t},\n\tsuperAdminChip: {\n\t\tbackgroundColor: theme.palette.error.light,\n\t\tcolor: theme.palette.error.contrastText,\n\t\tfontSize: \"0.7rem\",\n\t},\n\t// Estilos para o modal da imagem\n\timageModal: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\timageModalContent: {\n\t\toutline: \"none\",\n\t\tmaxWidth: \"90vw\",\n\t\tmaxHeight: \"90vh\",\n\t},\n\texpandedImage: {\n\t\twidth: \"100%\",\n\t\theight: \"auto\",\n\t\tmaxWidth: \"500px\",\n\t\tborderRadius: theme.spacing(1),\n\t},\n\texportButton: {\n\t\tmarginLeft: theme.spacing(2),\n\t\ttextTransform: \"none\",\n\t},\n\texportButtonContainer: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t}\n}));\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`contact-tabpanel-${index}`}\n\t\t\taria-labelledby={`contact-tab-${index}`}\n\t\t\tstyle={{\n\t\t\t\theight: \"100%\",\n\t\t\t\tdisplay: value === index ? \"flex\" : \"none\",\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\toverflow: \"hidden\"\n\t\t\t}}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<div className={props.classes?.tabPanel} style={{ flex: 1, overflow: \"auto\" }}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const history = useHistory();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [blockingContact, setBlockingContact] = useState(contact.active);\n\tconst [openForm, setOpenForm] = useState(false);\n\tconst [tabValue, setTabValue] = useState(0);\n\tconst [mediaData, setMediaData] = useState({ images: [], videos: [], audios: [], documents: [], links: [] });\n\tconst [loadingMedia, setLoadingMedia] = useState(false);\n\tconst { get } = useCompanySettings();\n\tconst [hideNum, setHideNum] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\tconst [acceptAudioMessage, setAcceptAudio] = useState(contact.acceptAudioMessage);\n\tconst [imageModalOpen, setImageModalOpen] = useState(false); // Estado para o modal da imagem\n\tconst [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n\tconst [participantInitialContact, setParticipantInitialContact] = useState(undefined);\n\tconst [openTicketAlert, setOpenTicketAlert] = useState(false);\n\tconst [openTicketInfo, setOpenTicketInfo] = useState({ user: \"\", queue: \"\" });\n\n\n\tconst [participants, setParticipants] = useState([]);\n\tconst [loadingParticipants, setLoadingParticipants] = useState(false);\n\n\n\t// Estados para pesquisa\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst [searchLoading, setSearchLoading] = useState(false);\n\tconst [showSearchResults, setShowSearchResults] = useState(false);\n\tconst [searchTimeout, setSearchTimeout] = useState(null);\n\n\t// Função para buscar participantes do grupo\n\tconst fetchGroupParticipants = async () => {\n\t\tif (!contact.isGroup) return;\n\n\t\tsetLoadingParticipants(true);\n\t\ttry {\n\t\t\tconst { data } = await api.get(`/contacts/${contact.id}/participants`);\n\t\t\tsetParticipants(data);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Erro ao buscar participantes do grupo:\", err);\n\t\t\ttoastError(\"Erro ao carregar participantes do grupo\");\n\t\t\tsetParticipants([]);\n\t\t} finally {\n\t\t\tsetLoadingParticipants(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst lgpdHideNumber = await get({\n\t\t\t\t\"column\": \"lgpdHideNumber\"\n\t\t\t});\n\n\t\t\tif (lgpdHideNumber === \"enabled\") setHideNum(true);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetAcceptAudio(contact.acceptAudioMessage);\n\t\tsetOpenForm(false);\n\t\tsetTabValue(0);\n\t\t// Limpar pesquisa ao trocar de contato\n\t\tsetSearchTerm(\"\");\n\t\tsetSearchResults([]);\n\t\tsetShowSearchResults(false);\n\t\tsetParticipants([]); // Limpar participantes\n\n\t\tif (open && contact.id) {\n\t\t\tfetchMediaData();\n\t\t\t// Buscar participantes apenas se for um grupo\n\t\t\tif (contact.isGroup) {\n\t\t\t\tfetchGroupParticipants();\n\t\t\t}\n\t\t}\n\t}, [open, contact]);\n\n\t// Função para abrir modal da imagem\n\tconst handleImageClick = () => {\n\t\tif (contact?.urlPicture) {\n\t\t\tsetImageModalOpen(true);\n\t\t}\n\t};\n\n\t// Função para fechar modal da imagem\n\tconst handleImageModalClose = () => {\n\t\tsetImageModalOpen(false);\n\t};\n\n\t// Função para buscar mensagens\n\tconst searchMessages = async (searchParam) => {\n\t\tif (!searchParam || searchParam.trim().length < 2) {\n\t\t\tsetSearchResults([]);\n\t\t\tsetShowSearchResults(false);\n\t\t\treturn;\n\t\t}\n\n\t\tsetSearchLoading(true);\n\t\ttry {\n\t\t\tconst { data } = await api.get(`/contacts/${contact.id}/messages/search`, {\n\t\t\t\tparams: { searchParam: searchParam.trim() }\n\t\t\t});\n\n\t\t\tsetSearchResults(data.messages || []);\n\t\t\tsetShowSearchResults(true);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Erro ao buscar mensagens:\", err);\n\t\t\ttoastError(err);\n\t\t\tsetSearchResults([]);\n\t\t} finally {\n\t\t\tsetSearchLoading(false);\n\t\t}\n\t};\n\n\t// Handler para mudança no campo de pesquisa com debounce\n\tconst handleSearchChange = (event) => {\n\t\tconst value = event.target.value;\n\t\tsetSearchTerm(value);\n\n\t\t// Clear timeout anterior\n\t\tif (searchTimeout) {\n\t\t\tclearTimeout(searchTimeout);\n\t\t}\n\n\t\t// Definir novo timeout para debounce\n\t\tconst newTimeout = setTimeout(() => {\n\t\t\tsearchMessages(value);\n\t\t}, 500);\n\n\t\tsetSearchTimeout(newTimeout);\n\t};\n\n\t// Limpar pesquisa\n\tconst clearSearch = () => {\n\t\tsetSearchTerm(\"\");\n\t\tsetSearchResults([]);\n\t\tsetShowSearchResults(false);\n\t\tif (searchTimeout) {\n\t\t\tclearTimeout(searchTimeout);\n\t\t}\n\t};\n\n\t// Destacar texto na pesquisa\n\tconst highlightSearchTerm = (text) => {\n\t\tif (!searchTerm || !text) return text;\n\n\t\tconst regex = new RegExp(`(${searchTerm})`, 'gi');\n\t\treturn text.replace(regex, '<mark>$1</mark>');\n\t};\n\n\t// Navegar para mensagem (placeholder - implementar conforme necessário)\n\tconst handleGoToMessage = (message) => {\n\t\t// Aqui você pode implementar a navegação para a mensagem específica\n\t\tconsole.log(\"Navegar para mensagem:\", message);\n\t\ttoast.info(`Mensagem encontrada: ${message.body.substring(0, 50)}...`);\n\t\tsetShowSearchResults(false);\n\t};\n\n\tconst fetchMediaData = async () => {\n\t\tsetLoadingMedia(true);\n\t\ttry {\n\t\t\tconst { data } = await api.get(`/contacts/${contact.id}/media`);\n\t\t\t// Garantir que as URLs das mídias estejam corretas\n\t\t\tconst processedData = {\n\t\t\t\timages: data.images.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tmediaUrl: item.mediaUrl && !item.mediaUrl.startsWith('http')\n\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}${item.mediaUrl}`\n\t\t\t\t\t\t: item.mediaUrl\n\t\t\t\t})),\n\t\t\t\tvideos: data.videos.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tmediaUrl: item.mediaUrl && !item.mediaUrl.startsWith('http')\n\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}${item.mediaUrl}`\n\t\t\t\t\t\t: item.mediaUrl\n\t\t\t\t})),\n\t\t\t\taudios: data.audios.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tmediaUrl: item.mediaUrl && !item.mediaUrl.startsWith('http')\n\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}${item.mediaUrl}`\n\t\t\t\t\t\t: item.mediaUrl\n\t\t\t\t})),\n\t\t\t\tdocuments: data.documents.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tmediaUrl: item.mediaUrl && !item.mediaUrl.startsWith('http')\n\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}${item.mediaUrl}`\n\t\t\t\t\t\t: item.mediaUrl\n\t\t\t\t})),\n\t\t\t\tlinks: data.links\n\t\t\t};\n\t\t\tsetMediaData(processedData);\n\t\t} catch (err) {\n\t\t\tconsole.error('Erro ao buscar mídias do contato:', {\n\t\t\t\tstatus: err?.response?.status,\n\t\t\t\turl: err?.config?.url,\n\t\t\t\tmessage: err?.message\n\t\t\t});\n\t\t\ttoastError(err);\n\t\t\tsetMediaData({\n\t\t\t\timages: [],\n\t\t\t\tvideos: [],\n\t\t\t\taudios: [],\n\t\t\t\tdocuments: [],\n\t\t\t\tlinks: []\n\t\t\t});\n\t\t} finally {\n\t\t\tsetLoadingMedia(false);\n\t\t}\n\t};\n\n\tconst renderParticipants = () => {\n\t\tif (loadingParticipants) {\n\t\t\treturn (\n\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t<CircularProgress size={40} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (participants.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\tNenhum participante encontrado\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<List className={classes.participantsList}>\n\t\t\t\t{participants.map((participant) => (\n\t\t\t\t\t<ListItem key={participant.id} className={classes.participantItem} button onClick={() => handleOpenChatWithParticipant(participant)}>\n\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\toverlap=\"circular\"\n\t\t\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tbadgeContent={\n\t\t\t\t\t\t\t\t\tparticipant.isSuperAdmin ? (\n\t\t\t\t\t\t\t\t\t\t<PermIdentityIcon className={classes.superAdminIcon} />\n\t\t\t\t\t\t\t\t\t) : participant.isAdmin ? (\n\t\t\t\t\t\t\t\t\t\t<PermIdentityIcon className={classes.adminIcon} />\n\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tsrc={participant.profilePicUrl}\n\t\t\t\t\t\t\t\t\talt={participant.name}\n\t\t\t\t\t\t\t\t\tclassName={classes.participantAvatar}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{participant.name?.charAt(0)?.toUpperCase()}\n\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" noWrap>\n\t\t\t\t\t\t\t\t\t{participant.name}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\" color=\"textSecondary\" noWrap>\n\t\t\t\t\t\t\t\t\t{formatSerializedId(participant.number)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" aria-label=\"Conversar\" onClick={(e) => { e.stopPropagation(); handleOpenChatWithParticipant(participant); }}>\n\t\t\t\t\t\t\t\t<ChatIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t{participant.isSuperAdmin && (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tlabel=\"Super Admin\"\n\t\t\t\t\t\t\t\t\tclassName={classes.superAdminChip}\n\t\t\t\t\t\t\t\t\ticon={<PermIdentityIcon />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{participant.isAdmin && !participant.isSuperAdmin && (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tlabel=\"Admin\"\n\t\t\t\t\t\t\t\t\tclassName={classes.adminChip}\n\t\t\t\t\t\t\t\t\ticon={<PersonIcon />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t);\n\t};\n\n\t// Abrir modal de conversa com participante\n\tconst handleOpenChatWithParticipant = async (participant) => {\n\t\ttry {\n\t\t\t// Buscar contato pelo número; se não existir, criar\n\t\t\tconst profile = await api.get(`/contacts/profile/${participant.number}`);\n\t\t\tlet contactId = profile?.data?.contactId || 0;\n\t\t\tif (!contactId || contactId === 0) {\n\t\t\t\tconst createResp = await api.post('/contacts', { name: participant.name || participant.number, number: participant.number });\n\t\t\t\tcontactId = createResp?.data?.id;\n\t\t\t}\n\n\t\t\tif (contactId) {\n\t\t\t\t// Verificar se já existe ticket aberto para este contato\n\t\t\t\ttry {\n\t\t\t\t\t// Buscar todos os tickets abertos (open, pending, chatbot)\n\t\t\t\t\tconst ticketsResponse = await api.get('/tickets', {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tpageNumber: \"1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Procurar ticket existente para este contato\n\t\t\t\t\tconst existingTicket = ticketsResponse.data?.tickets?.find(\n\t\t\t\t\t\tticket => ticket.contactId === contactId && \n\t\t\t\t\t\t\t[\"open\", \"pending\", \"chatbot\"].includes(ticket.status)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (existingTicket) {\n\t\t\t\t\t\t// Ticket já existe - verificar se pertence a outro usuário\n\t\t\t\t\t\tif (existingTicket.userId !== user.id) {\n\t\t\t\t\t\t\tsetOpenTicketInfo({\n\t\t\t\t\t\t\t\tuser: existingTicket.user?.name || \"Outro usuário\",\n\t\t\t\t\t\t\t\tqueue: existingTicket.queue?.name || \"Sem fila\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetOpenTicketAlert(true);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Ticket existe e pertence ao próprio usuário\n\t\t\t\t\t\t\t// Navegar para o ticket existente\n\t\t\t\t\t\t\thandleTicketCreated(existingTicket);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (checkError) {\n\t\t\t\t\tconsole.error('Erro ao verificar tickets existentes:', checkError);\n\t\t\t\t\ttoastError('Erro ao verificar tickets existentes');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Se chegou aqui, pode abrir o modal para criar ticket\n\t\t\t\tsetParticipantInitialContact({ id: contactId, name: participant.name, number: participant.number });\n\t\t\t\tsetNewTicketModalOpen(true);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('Erro ao abrir conversa com participante:', err);\n\t\t\ttoastError('Não foi possível iniciar a conversa com este participante');\n\t\t}\n\t};\n\n\t// Handler para quando o ticket for criado\n  const handleTicketCreated = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket && (ticket.uuid || ticket.id)) {\n      const target = ticket.uuid ? `/tickets/${ticket.uuid}` : `/tickets/${ticket.id}`;\n      history.push(target);\n    }\n  };\n\n\t// Função para exportar participantes para Excel\n\tconst handleExportParticipants = () => {\n\t\tif (participants.length === 0) {\n\t\t\ttoast.error(\"Não há participantes para exportar\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Preparar dados para exportação\n\t\t\tconst exportData = participants.map((participant, index) => ({\n\t\t\t\t\"#\": index + 1,\n\t\t\t\t\"Nome\": participant.name || \"Sem nome\",\n\t\t\t\t\"Número\": formatSerializedId(participant.number),\n\t\t\t\t\"Role\": participant.isSuperAdmin \n\t\t\t\t\t? \"Super Admin\" \n\t\t\t\t\t: participant.isAdmin \n\t\t\t\t\t? \"Admin\" \n\t\t\t\t\t: \"Participante\"\n\t\t\t}));\n\n\t\t\t// Criar workbook e worksheet\n\t\t\tconst wb = XLSX.utils.book_new();\n\t\t\tconst ws = XLSX.utils.json_to_sheet(exportData);\n\n\t\t\t// Ajustar largura das colunas\n\t\t\tconst colWidths = [\n\t\t\t\t{ wch: 5 },  // #\n\t\t\t\t{ wch: 30 }, // Nome\n\t\t\t\t{ wch: 20 }, // Número\n\t\t\t\t{ wch: 15 }  // Role\n\t\t\t];\n\t\t\tws['!cols'] = colWidths;\n\n\t\t\t// Adicionar worksheet ao workbook\n\t\t\tXLSX.utils.book_append_sheet(wb, ws, \"Participantes\");\n\n\t\t\t// Gerar nome do arquivo com o nome do grupo e data\n\t\t\tconst groupName = contact.name || \"Grupo\";\n\t\t\tconst fileName = `Participantes_${groupName}_${new Date().toISOString().split('T')[0]}.xlsx`;\n\n\t\t\t// Fazer download do arquivo\n\t\t\tXLSX.writeFile(wb, fileName);\n\n\t\t\ttoast.success(`Arquivo \"${fileName}\" exportado com sucesso!`);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Erro ao exportar participantes:\", err);\n\t\t\ttoastError(\"Erro ao exportar participantes\");\n\t\t}\n\t};\n\n\tconst handleContactToggleAcceptAudio = async () => {\n\t\ttry {\n\t\t\tconst contact = await api.put(`/contacts/toggleAcceptAudio/${ticket.contact.id}`);\n\t\t\tsetAcceptAudio(contact.data.acceptAudioMessage);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleBlockContact = async (contactId) => {\n\t\ttry {\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: false });\n\t\t\ttoast.success(\"Contato bloqueado\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetBlockingContact(true);\n\t};\n\n\tconst handleUnBlockContact = async (contactId) => {\n\t\ttry {\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: true });\n\t\t\ttoast.success(\"Contato desbloqueado\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetBlockingContact(false);\n\t};\n\n\tconst handleTabChange = (event, newValue) => {\n\t\tsetTabValue(newValue);\n\t\t// Limpar pesquisa ao trocar de aba\n\t\tif (newValue !== 0) {\n\t\t\tclearSearch();\n\t\t}\n\t};\n\n\tconst renderSearchResults = () => {\n\t\tif (searchLoading) {\n\t\t\treturn (\n\t\t\t\t<div className={classes.emptySearchState}>\n\t\t\t\t\t<CircularProgress size={20} />\n\t\t\t\t\t<Typography variant=\"caption\" style={{ marginLeft: 8 }}>\n\t\t\t\t\t\tBuscando...\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (searchResults.length === 0 && searchTerm.length >= 2) {\n\t\t\treturn (\n\t\t\t\t<div className={classes.emptySearchState}>\n\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\tNenhuma mensagem encontrada\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classes.searchResults}>\n\t\t\t\t{searchResults.map((message, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={message.id}\n\t\t\t\t\t\tclassName={classes.searchResultItem}\n\t\t\t\t\t\tonClick={() => handleGoToMessage(message)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tclassName={classes.searchResultText}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: highlightSearchTerm(message.body.substring(0, 100) + (message.body.length > 100 ? \"...\" : \"\"))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Typography className={classes.searchResultDate}>\n\t\t\t\t\t\t\t{new Date(message.createdAt).toLocaleString('pt-BR')}\n\t\t\t\t\t\t\t{message.fromMe ? \" (Você)\" : ` (${contact.name})`}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderMediaContent = () => {\n\t\tif (loadingMedia) {\n\t\t\treturn (\n\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst renderMediaGrid = (items, type) => {\n\t\t\tif (items.length === 0) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t{type === \"images\" && \"Nenhuma imagem encontrada\"}\n\t\t\t\t\t\t\t{type === \"videos\" && \"Nenhum vídeo encontrado\"}\n\t\t\t\t\t\t\t{type === \"audios\" && \"Nenhum áudio encontrado\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Grid container spacing={1} className={classes.mediaGrid}>\n\t\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t\t<Grid item xs={4} key={index}>\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tclassName={classes.mediaItem}\n\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (type === \"images\" || type === \"videos\" || type === \"audios\") {\n\t\t\t\t\t\t\t\t\t\twindow.open(item.mediaUrl, '_blank');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{type === \"images\" && (\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={item.mediaUrl}\n\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.mediaThumbnail}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{type === \"videos\" && (\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<VideocamIcon className={classes.mediaIcon} />\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{ marginTop: 4 }}>\n\t\t\t\t\t\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{type === \"audios\" && (\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<AudiotrackIcon className={classes.mediaIcon} />\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{ marginTop: 4 }}>\n\t\t\t\t\t\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t))}\n\t\t\t\t</Grid>\n\t\t\t);\n\t\t};\n\n\t\tconst renderDocuments = () => {\n\t\t\tif (mediaData.documents.length === 0) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum documento encontrado</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<List>\n\t\t\t\t\t{mediaData.documents.map((doc, index) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tclassName={classes.linkItem}\n\t\t\t\t\t\t\tonClick={() => window.open(doc.mediaUrl, '_blank')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<InsertDriveFileIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={doc.body || `Documento ${index + 1}`}\n\t\t\t\t\t\t\t\tsecondary={new Date(doc.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t);\n\t\t};\n\n\t\tconst renderLinks = () => {\n\t\t\tif (mediaData.links.length === 0) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum link encontrado</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<List>\n\t\t\t\t\t{mediaData.links.map((link, index) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tclassName={classes.linkItem}\n\t\t\t\t\t\t\tonClick={() => window.open(link.url, '_blank')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<LinkIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={link.title || link.url}\n\t\t\t\t\t\t\t\tsecondary={new Date(link.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<TabPanel value={tabValue} index={1} classes={classes}>\n\t\t\t\t\t{renderMediaGrid(mediaData.images, \"images\")}\n\t\t\t\t</TabPanel>\n\t\t\t\t<TabPanel value={tabValue} index={2} classes={classes}>\n\t\t\t\t\t{renderMediaGrid(mediaData.videos, \"videos\")}\n\t\t\t\t</TabPanel>\n\t\t\t\t<TabPanel value={tabValue} index={3} classes={classes}>\n\t\t\t\t\t{renderMediaGrid(mediaData.audios, \"audios\")}\n\t\t\t\t</TabPanel>\n\t\t\t\t<TabPanel value={tabValue} index={4} classes={classes}>\n\t\t\t\t\t{renderDocuments()}\n\t\t\t\t</TabPanel>\n\t\t\t<TabPanel value={tabValue} index={5} classes={classes}>\n\t\t\t\t{renderLinks()}\n\t\t\t</TabPanel>\n\n\t\t</>\n\t\t);\n\t};\n\n\tif (loading) return null;\n\n\treturn (\n\t\t<>\n\t\t{newTicketModalOpen && (\n\t\t\t<NewTicketModal\n\t\t\t\tmodalOpen={newTicketModalOpen}\n\t\t\t\tonClose={handleTicketCreated}\n\t\t\t\tinitialContact={participantInitialContact || undefined}\n\t\t\t/>\n\t\t)}\n\t\t<ShowTicketOpenModal\n\t\t\tisOpen={openTicketAlert}\n\t\t\thandleClose={() => setOpenTicketAlert(false)}\n\t\t\tuser={openTicketInfo.user}\n\t\t\tqueue={openTicketInfo.queue}\n\t\t/>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant={isMobile ? \"temporary\" : \"persistent\"}\n\t\t\t\t// variant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tonClose={isMobile ? handleDrawerClose : undefined}\n\t\t\t\tPaperProps={{ \n\t\t\t\t\tstyle: isMobile ? {\n\t\t\t\t\t\twidth: \"100vw\",\n\t\t\t\t\t\tmaxWidth: \"400px\",\n\t\t\t\t\t\theight: \"100vh\",\n\t\t\t\t\t\tposition: \"fixed\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t\t\t} : { \n\t\t\t\t\t\tposition: \"absolute\", \n\t\t\t\t\t\tright: 0, \n\t\t\t\t\t\ttop: 0, \n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\twidth: drawerWidth,\n\t\t\t\t\t\tzIndex: 1200\n\t\t\t\t\t} \n\t\t\t\t}}\n\t\t\t\tModalProps={isMobile ? {\n\t\t\t\t\tstyle: { position: \"fixed\", zIndex: 9999 }\n\t\t\t\t} : {\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"relative\", zIndex: 1200 },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t{/* <Typography className={classes.headerTitle} variant=\"subtitle1\"> */}\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.contentWrapper}>\n\t\t\t\t\t{/* Seção de Switch */}\n\t\t\t\t\t<Box className={classes.switchContainer}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tstyle={{ marginBottom: 0 }}\n\t\t\t\t\t\t\tvariant=\"subtitle2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tchecked={acceptAudioMessage}\n\t\t\t\t\t\t\t\tonChange={() => handleContactToggleAcceptAudio()}\n\t\t\t\t\t\t\t\tname=\"disableBot\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t{/* Seção do Perfil */}\n\t\t\t\t\t<div className={classes.profileSection}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t{/* Avatar redondo e menor - CLICÁVEL */}\n\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\tsrc={contact?.urlPicture}\n\t\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t\t\tonClick={handleImageClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{contact.name?.charAt(0)?.toUpperCase()}\n\t\t\t\t\t\t\t</Avatar>\n\n\t\t\t\t\t\t\t<div className={classes.contactCardHeader}>\n\t\t\t\t\t\t\t\t{/* Nome completo */}\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" align=\"center\" style={{ marginBottom: 8 }}>\n\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t{/* Número do WhatsApp */}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t\t\t\t\t\t\t// Destacar em vermelho se número parece ser um LID\n\t\t\t\t\t\t\t\t\t\tcolor: contact.number && contact.number.includes('@') ? '#f44336' : 'inherit'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contact.number && contact.number.includes('@') && (\n\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: 10, color: '#f44336', display: 'block' }}>\n\t\t\t\t\t\t\t\t\t\t\t⚠️ Possível erro: Número parece ser LID\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{hideNum && user.profile === \"user\"\n\t\t\t\t\t\t\t\t\t\t? formatSerializedId(contact.number).slice(0, -6) + \"**-**\" + contact.number.slice(-2)\n\t\t\t\t\t\t\t\t\t\t: formatSerializedId(contact.number)}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t{/* LID */}\n\t\t\t\t\t\t\t\t<Typography style={{ fontSize: 12, textAlign: \"center\", marginBottom: 4 }}>\n\t\t\t\t\t\t\t\t\tLID: {contact.lid || \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t{/* Email */}\n\t\t\t\t\t\t\t\t{contact.email && (\n\t\t\t\t\t\t\t\t\t<Typography style={{ color: \"primary\", fontSize: 12 }} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Ícones de ação com tooltips */}\n\t\t\t\t\t\t\t<div className={classes.contactActions}>\n\t\t\t\t\t\t\t\t<Tooltip title={i18n.t(\"contactDrawer.buttons.edit\")} arrow>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.actionIcon} ${classes.editIcon}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CreateIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\ttitle={!contact.active ? \"Desbloquear contato\" : \"Bloquear contato\"}\n\t\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tclassName={`${classes.actionIcon} ${!contact.active ? classes.unblockIcon : classes.blockIcon}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => contact.active\n\t\t\t\t\t\t\t\t\t\t\t? handleBlockContact(contact.id)\n\t\t\t\t\t\t\t\t\t\t\t: handleUnBlockContact(contact.id)}\n\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{!contact.active ? <LockOpenIcon /> : <BlockIcon />}\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Campo de Pesquisa */}\n\t\t\t\t\t<Box className={classes.searchContainer}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName={classes.searchField}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tplaceholder=\"Pesquisar nas mensagens...\"\n\t\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t<SearchIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tendAdornment: searchTerm && (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={clearSearch}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ClearIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Resultados da Pesquisa */}\n\t\t\t\t\t\t<Collapse in={showSearchResults}>\n\t\t\t\t\t\t\t<Paper variant=\"outlined\" style={{ marginTop: 8 }}>\n\t\t\t\t\t\t\t\t{renderSearchResults()}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t{/* Abas com Ícones */}\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={tabValue}\n\t\t\t\t\t\tonChange={handleTabChange}\n\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\t\t\tclassName={classes.tabsContainer}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={<InfoIcon />}\n\t\t\t\t\t\t\taria-label=\"Informações\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<ImageIcon />\n\t\t\t\t\t\t\t\t\t{mediaData.images.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={mediaData.images.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Imagens\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<VideocamIcon />\n\t\t\t\t\t\t\t\t\t{mediaData.videos.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={mediaData.videos.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Vídeos\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<AudiotrackIcon />\n\t\t\t\t\t\t\t\t\t{mediaData.audios.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={mediaData.audios.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Áudios\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<InsertDriveFileIcon />\n\t\t\t\t\t\t\t\t\t{mediaData.documents.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={mediaData.documents.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Documentos\"\n\n\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<LinkIcon />\n\t\t\t\t\t\t\t\t\t{mediaData.links.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={mediaData.links.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-label=\"Links\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{contact.isGroup && (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tclassName={classes.tabIcon}\n\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<GroupIcon />\n\t\t\t\t\t\t\t\t\t\t{participants.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<Chip size=\"small\" label={participants.length} className={classes.tabChip} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-label=\"Participantes\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Tabs>\n\n\t\t\t\t\t{/* Conteúdo Rolável */}\n\t\t\t\t\t{/* Conteúdo Rolável */}\n\t\t\t\t\t<div className={classes.scrollableContent}>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={0} classes={classes}>\n\t\t\t\t\t\t\t\t\t<TagsKanbanContainer ticket={ticket} className={classes.contactTags} />\n\n\t\t\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t\t\t\t</Paper>\n\n\t\t\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t\t{/* TabPanels das Mídias */}\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={1} classes={classes}>\n\t\t\t\t\t\t\t\t\t{loadingMedia ? (\n\t\t\t\t\t\t\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tmediaData.images.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">Nenhuma imagem encontrada</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1} className={classes.mediaGrid}>\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaData.images.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.mediaItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(item.mediaUrl, '_blank')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.mediaUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.mediaThumbnail}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={2} classes={classes}>\n\t\t\t\t\t\t\t\t\t{loadingMedia ? (\n\t\t\t\t\t\t\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tmediaData.videos.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum vídeo encontrado</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1} className={classes.mediaGrid}>\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaData.videos.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.mediaItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(item.mediaUrl, '_blank')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VideocamIcon className={classes.mediaIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{ marginTop: 4 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={3} classes={classes}>\n\t\t\t\t\t\t\t\t\t{loadingMedia ? (\n\t\t\t\t\t\t\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tmediaData.audios.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum áudio encontrado</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1} className={classes.mediaGrid}>\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaData.audios.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={4} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.mediaItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\televation={1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(item.mediaUrl, '_blank')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AudiotrackIcon className={classes.mediaIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" style={{ marginTop: 4 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={4} classes={classes}>\n\t\t\t\t\t\t\t\t\t{loadingMedia ? (\n\t\t\t\t\t\t\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tmediaData.documents.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum documento encontrado</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaData.documents.map((doc, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.linkItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(doc.mediaUrl, '_blank')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InsertDriveFileIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={doc.body || `Documento ${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary={new Date(doc.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={5} classes={classes}>\n\t\t\t\t\t\t\t\t\t{loadingMedia ? (\n\t\t\t\t\t\t\t\t\t\t<div className={classes.loadingContainer}>\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tmediaData.links.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.emptyState}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">Nenhum link encontrado</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaData.links.map((link, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.linkItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(link.url, '_blank')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LinkIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={link.title || link.url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary={new Date(link.createdAt).toLocaleDateString('pt-BR')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TabPanel>\n\n\t\t\t\t\t\t\t{/* TabPanel dos Participantes - ÍNDICE 6 */}\n\t\t\t\t\t\t\t{contact.isGroup && (\n\t\t\t\t\t\t\t\t<TabPanel value={tabValue} index={6} classes={classes}>\n\t\t\t\t\t\t\t\t\t<div className={classes.exportButtonContainer}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t\t\t\t\t\t\t<GroupIcon style={{ marginRight: 8 }} />\n\t\t\t\t\t\t\t\t\t\t\tParticipantes do Grupo ({participants.length})\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tstartIcon={<GetAppIcon />}\n\t\t\t\t\t\t\t\t\t\tonClick={handleExportParticipants}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.exportButton}\n\t\t\t\t\t\t\t\t\t\tdisabled={participants.length === 0}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tExportar\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{renderParticipants()}\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Drawer>\n\n\t\t\t{/* Modal da Imagem */}\n\t\t\t<Dialog\n\t\t\t\topen={imageModalOpen}\n\t\t\t\tonClose={handleImageModalClose}\n\t\t\t\tclassName={classes.imageModal}\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tfullWidth\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.imageModalContent}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={contact?.urlPicture}\n\t\t\t\t\t\talt={contact?.name || \"Foto do contato\"}\n\t\t\t\t\t\tclassName={classes.expandedImage}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}