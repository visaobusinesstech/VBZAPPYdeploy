{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{i18n}from\"../../translate/i18n\";import{Avatar,CardHeader,Grid,Dialog,DialogContent}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import{AuthContext}from\"../../context/Auth/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({// Estilos para o modal da imagem\nimageModal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},imageModalContent:{outline:\"none\",maxWidth:\"90vw\",maxHeight:\"90vh\"},expandedImage:{width:\"100%\",height:\"auto\",maxWidth:\"500px\",borderRadius:theme.spacing(1)},clickableAvatar:{cursor:\"pointer\",\"&:hover\":{opacity:0.8}}}));const TicketInfo=_ref=>{let{contact,ticket,onClick}=_ref;const classes=useStyles();const[amount,setAmount]=useState(\"\");const{user}=useContext(AuthContext);const[imageModalOpen,setImageModalOpen]=useState(false);// Estado para o modal da imagem\n// Função para abrir modal da imagem\nconst handleImageClick=e=>{e.stopPropagation();// Prevenir que o clique no avatar execute outros handlers\nif(contact!==null&&contact!==void 0&&contact.urlPicture){setImageModalOpen(true);}};// Função para fechar modal da imagem\nconst handleImageModalClose=()=>{setImageModalOpen(false);};const renderCardReader=()=>{var _ticket$user,_contact$contactWalle;return/*#__PURE__*/_jsx(CardHeader,{onClick:onClick,style:{cursor:\"pointer\"},titleTypographyProps:{noWrap:true},subheaderTypographyProps:{noWrap:true},avatar:/*#__PURE__*/_jsx(Avatar,{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:\"contact_image\",className:classes.clickableAvatar,onClick:handleImageClick}),title:\"\".concat(contact!==null&&contact!==void 0&&contact.name&&contact.name.length>12?\"\".concat(contact.name.substring(0,12),\"...\"):(contact===null||contact===void 0?void 0:contact.name)||'(sem contato)',\" #\").concat(ticket===null||ticket===void 0?void 0:ticket.id),subheader:[(ticket===null||ticket===void 0?void 0:ticket.user)&&\"\".concat(i18n.t(\"messagesList.header.assignedTo\"),\" \").concat(ticket===null||ticket===void 0?void 0:(_ticket$user=ticket.user)===null||_ticket$user===void 0?void 0:_ticket$user.name),contact!==null&&contact!==void 0&&contact.contactWallets&&contact.contactWallets.length>0?\"\\u2022 \".concat(i18n.t(\"wallets.wallet\"),\": \").concat(((_contact$contactWalle=contact.contactWallets[0].wallet)===null||_contact$contactWalle===void 0?void 0:_contact$contactWalle.name)||'N/A'):null].filter(Boolean).join(' ')});};const handleChange=event=>{const value=event.target.value;setAmount(value);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",spacing:10,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:renderCardReader()})}),/*#__PURE__*/_jsx(Dialog,{open:imageModalOpen,onClose:handleImageModalClose,className:classes.imageModal,maxWidth:\"md\",fullWidth:true,children:/*#__PURE__*/_jsx(DialogContent,{className:classes.imageModalContent,children:/*#__PURE__*/_jsx(\"img\",{src:contact===null||contact===void 0?void 0:contact.urlPicture,alt:(contact===null||contact===void 0?void 0:contact.name)||\"Foto do contato\",className:classes.expandedImage})})})]});};export default TicketInfo;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}